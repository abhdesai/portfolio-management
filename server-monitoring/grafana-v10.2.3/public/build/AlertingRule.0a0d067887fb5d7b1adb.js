"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4679],{73632:(C,m,e)=>{e.r(m),e.d(m,{default:()=>h});var t=e(85960),i=e(90857),c=e(8958),s=e(3693),A=e(39512);const d=(0,s.Q)(()=>Promise.all([e.e(3638),e.e(8525),e.e(9210),e.e(2273),e.e(2436)]).then(e.bind(e,12436))),E=(0,s.Q)(()=>e.e(9776).then(e.bind(e,99776))),v=!!i.config.featureToggles.alertingDetailsViewV2,f=g=>t.createElement(A.J,null,v?t.createElement(E,{...g}):t.createElement(d,{...g})),h=(0,c.Pf)(f,{style:"page"})},39512:(C,m,e)=>{e.d(m,{J:()=>M,O:()=>I});var t=e(85960),i=e(8134),c=e(20989),s=e(84954),A=e(66681),d=e(47257),E=e(84933),v=e(27436),f=e(76679);function h(a){return a.name===f.GC?"Grafana":a.name.slice(0,37)}const g=({disabled:a=!1})=>{const n=(0,d.wW)(O),{selectedAlertmanager:l,availableAlertManagers:o,setSelectedAlertmanager:u}=(0,s.ZA)(),D=(0,t.useMemo)(()=>o.map(r=>({label:h(r),value:r.name,imgUrl:r.imgUrl,meta:r.meta})),[o]);return t.createElement(E._,{className:n.field,label:a?"Alertmanager":"Choose Alertmanager",disabled:a||D.length===1,"data-testid":"alertmanager-picker"},t.createElement(v.Ph,{"aria-label":a?"Alertmanager":"Choose Alertmanager",width:29,className:"ds-picker select-container",backspaceRemovesValue:!1,onChange:r=>{r?.value&&u(r.value)},options:D,maxMenuHeight:500,noOptionsMessage:"No datasources found",value:l,getOptionLabel:r=>r.label}))},O=a=>({field:(0,A.css)`
    margin: 0;
  `});var P=e(49199);const y=()=>t.createElement(P.b,{title:"No Alertmanager found",severity:"warning"},"We could not find any external Alertmanagers and you may not have access to the built-in Grafana Alertmanager."),T=()=>t.createElement(P.b,{title:"Selected Alertmanager not found.",severity:"warning"},"The selected Alertmanager no longer exists or you may not have permission to access it. You can select a different Alertmanager from the dropdown."),W=({availableAlertManagers:a})=>{const n=a.length>0;return t.createElement("div",null,n?t.createElement(T,null):t.createElement(y,null))},M=({children:a,pageId:n,pageNav:l,actions:o,isLoading:u})=>t.createElement(c.T,{pageNav:l,navId:n,actions:o},t.createElement(c.T.Contents,{isLoading:u},a)),I=({children:a,accessType:n,...l})=>{const o=L();return t.createElement(s.h5,{accessType:n},t.createElement(M,{...l,actions:t.createElement(g,{disabled:o})},t.createElement(V,null,a)))};function L(){const a=(0,i.Z)();return["/edit","/new"].some(l=>a?.pathname?.includes(l))}const V=({children:a})=>{const{availableAlertManagers:n,selectedAlertmanager:l}=(0,s.ZA)();return l?t.createElement(t.Fragment,null,a):t.createElement(W,{availableAlertManagers:n})}}}]);

//# sourceMappingURL=AlertingRule.0a0d067887fb5d7b1adb.js.map