"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[319],{58922:(_t,le,S)=>{S.d(le,{UV:()=>te});var te=(M=>(M.Annotations="annotations",M.Arrow="arrow",M.CSVContent="csv_content",M.CSVFile="csv_file",M.CSVMetricValues="csv_metric_values",M.DataPointsOutsideRange="datapoints_outside_range",M.ExponentialHeatmapBucketData="exponential_heatmap_bucket_data",M.FlameGraph="flame_graph",M.GrafanaAPI="grafana_api",M.LinearHeatmapBucketData="linear_heatmap_bucket_data",M.Live="live",M.Logs="logs",M.ManualEntry="manual_entry",M.NoDataPoints="no_data_points",M.NodeGraph="node_graph",M.PredictableCSVWave="predictable_csv_wave",M.PredictablePulse="predictable_pulse",M.RandomWalk="random_walk",M.RandomWalkTable="random_walk_table",M.RandomWalkWithError="random_walk_with_error",M.RawFrame="raw_frame",M.ServerError500="server_error_500",M.Simulation="simulation",M.SlowQuery="slow_query",M.StreamingClient="streaming_client",M.TableStatic="table_static",M.Trace="trace",M.USA="usa",M.VariablesQuery="variables-query",M))(te||{});const Se={fields:[],states:[]},Re={csvWave:[],points:[],scenarioId:"random_walk"}},84526:(_t,le,S)=>{S.r(le),S.d(le,{plugin:()=>Tl});function te(e){return new Proxy(e,{apply(t,n,r){return(typeof Reflect>"u"||!Reflect.construct)&&alert("Browser is too old"),Reflect.construct(t,r,n.constructor)}})}var Se=(e=>(e.alpha="alpha",e.beta="beta",e.stable="stable",e.deprecated="deprecated",e))(Se||{}),Re=(e=>(e.panel="panel",e.datasource="datasource",e.app="app",e.renderer="renderer",e.secretsmanager="secretsmanager",e))(Re||{}),M=(e=>(e.internal="internal",e.valid="valid",e.invalid="invalid",e.modified="modified",e.missing="missing",e))(M||{}),xe=(e=>(e.grafana="grafana",e.commercial="commercial",e.community="community",e.private="private",e.core="core",e))(xe||{}),Fe=(e=>(e.missingSignature="signatureMissing",e.invalidSignature="signatureInvalid",e.modifiedSignature="signatureModified",e))(Fe||{}),Y=(e=>(e.dashboard="dashboard",e.page="page",e.panel="panel",e.datasource="datasource",e))(Y||{});class ce{addConfigPage(t){return this.configPages||(this.configPages=[]),this.configPages.push(t),this}setChannelSupport(){return console.warn("[deprecation] plugin is using ignored option: setChannelSupport",this.meta),this}constructor(){this.meta={}}}class $t extends ce{constructor(t){super(),this.DataSourceClass=t,this.components={}}setConfigEditor(t){return this.components.ConfigEditor=t,this}setConfigCtrl(t){return this.angularConfigCtrl=t,this}setQueryCtrl(t){return this.components.QueryCtrl=t,this}setAnnotationQueryCtrl(t){return this.components.AnnotationsQueryCtrl=t,this}setQueryEditor(t){return this.components.QueryEditor=t,this}setExploreQueryField(t){return this.components.ExploreQueryField=t,this}setExploreMetricsQueryField(t){return this.components.ExploreMetricsQueryField=t,this}setExploreLogsQueryField(t){return this.components.ExploreLogsQueryField=t,this}setQueryEditorHelp(t){return this.components.QueryEditorHelp=t,this}setExploreStartPage(t){return this.setQueryEditorHelp(t)}setVariableQueryEditor(t){return this.components.VariableQueryEditor=t,this}setMetadataInspector(t){return this.components.MetadataInspector=t,this}setComponentsFromLegacyExports(t){this.angularConfigCtrl=t.ConfigCtrl,this.components.QueryCtrl=t.QueryCtrl,this.components.AnnotationsQueryCtrl=t.AnnotationsQueryCtrl,this.components.ExploreQueryField=t.ExploreQueryField,this.components.QueryEditor=t.QueryEditor,this.components.QueryEditorHelp=t.QueryEditorHelp,this.components.VariableQueryEditor=t.VariableQueryEditor}}class Le{constructor(t){this.name=t.name,this.id=t.id,this.type=t.type,this.meta=t.meta,this.cachingConfig=t.cachingConfig,this.uid=t.uid}getRef(){return{type:this.type,uid:this.uid}}}var Ye=(e=>(e.Logs="Logs",e.Metrics="Metrics",e.Tracing="Tracing",e))(Ye||{}),Pe=(e=>(e.Cancelled="cancelled",e.Timeout="timeout",e.Unknown="unknown",e))(Pe||{});class Xe{}Xe=te(Xe),Le=te(Le);var a=S(85960);class zt extends a.PureComponent{render(){return a.createElement("div",null)}}var d=S(66681),E=S(37042);function H(e,t,n,r){const s=t[r];if(s!=null)return{[e.breakpoints.up(r)]:n(s)}}function N(e,t,n){return t==null?null:typeof t!="object"||!("xs"in t)?n(t):[H(e,t,n,"xs"),H(e,t,n,"sm"),H(e,t,n,"md"),H(e,t,n,"lg"),H(e,t,n,"xl"),H(e,t,n,"xxl")]}const ue=a.forwardRef((e,t)=>{const{gap:n=1,alignItems:r,justifyContent:s,direction:o,wrap:i,children:l,grow:c,shrink:u,basis:p,flex:m,...f}=e,h=(0,E.wW)(ur,n,r,s,o,i,c,u,p,m);return a.createElement("div",{ref:t,className:h.flex,...f},l)});ue.displayName="Stack";const ur=(e,t,n,r,s,o,i,l,c,u)=>({flex:(0,d.css)([{display:"flex"},N(e,s,p=>({flexDirection:p})),N(e,o,p=>({flexWrap:p})),N(e,n,p=>({alignItems:p})),N(e,r,p=>({justifyContent:p})),N(e,t,p=>({gap:e.spacing(p)})),N(e,i,p=>({flexGrow:p})),N(e,l,p=>({flexShrink:p})),N(e,c,p=>({flexBasis:p})),N(e,u,p=>({flex:p}))])});function dr({data:e}){return a.createElement(ue,{direction:"column"},a.createElement("div",null,"Meta data inspector for the TestData data source."),e.map((t,n)=>a.createElement(a.Fragment,null,a.createElement("div",null,"Frame: ",n),a.createElement("div",null,"Custom meta: ",a.createElement("br",null),JSON.stringify(t.meta?.custom,null,2)))))}var Ut=S(99712);function pr(){var e=(0,a.useRef)(!1),t=(0,a.useCallback)(function(){return e.current},[]);return(0,a.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),t}function mr(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=(0,a.useRef)(0),s=pr(),o=(0,a.useState)(n),i=o[0],l=o[1],c=(0,a.useCallback)(function(){for(var u=[],p=0;p<arguments.length;p++)u[p]=arguments[p];var m=++r.current;return i.loading||l(function(f){return(0,Ut.__assign)((0,Ut.__assign)({},f),{loading:!0})}),e.apply(void 0,u).then(function(f){return s()&&m===r.current&&l({value:f,loading:!1}),f},function(f){return s()&&m===r.current&&l({error:f,loading:!1}),f})},t);return[i,c]}function qe(e,t){t===void 0&&(t=[]);var n=mr(e,t,{loading:!0}),r=n[0],s=n[1];return(0,a.useEffect)(function(){s()},[s]),r}var Ce=S(92369);const $=({children:e,className:t,...n})=>{const r=(0,E.wW)(fr);return a.createElement("div",{className:(0,d.cx)(r.container,t),...n},e)},fr=e=>({container:(0,d.css)({label:"InlineFieldRow",display:"flex",flexDirection:"row",flexWrap:"wrap",alignContent:"flex-start",rowGap:e.spacing(.5)})});function gr(e){let t;const n=a.Children.only(e);return"id"in n?.props?t=n.props.id:"inputId"in n.props&&(t=n?.props.inputId),typeof t=="string"?t:void 0}function nc(e,t){if(React.isValidElement(e)||typeof e=="string"||typeof e=="number")return e;if(typeof e=="function"&&t)return e(t);throw new Error(`${e} is not a React element nor a function that returns React element`)}var Kt=S(88960),et=S(6556);const hr=["grafana","favorite","heart-break","heart","panel-add","library-panel","circle-mono"];function Gt(e,t){return e?.startsWith("gf-")?"custom":hr.includes(e)?"mono":t==="default"?"unicons":t==="solid"?"solid":"mono"}function jt(e){switch(e){case"xs":return 12;case"sm":return 14;case"md":return 16;case"lg":return 18;case"xl":return 24;case"xxl":return 36;case"xxxl":return 48}}let we;function Qt(){if(we)return we;const e=typeof window<"u"&&window.__grafana_public_path__;return e?we=e+"img/icons/":we="public/img/icons/",we}const yr=e=>({icon:(0,d.css)({display:"inline-block",fill:"currentColor",flexShrink:0,label:"Icon",lineHeight:0,verticalAlign:"middle"}),orange:(0,d.css)({fill:e.v1.palette.orange})}),D=a.forwardRef(({size:e="md",type:t="default",name:n,className:r,style:s,title:o="",...i},l)=>{const c=(0,E.wW)(yr);(0,et.Mo)(n)||console.warn("Icon component passed an invalid icon name",n);const u=n==="fa fa-spinner"?"spinner":n,p=Qt(),m=jt(e),f=m,h=n.startsWith("gf-bar-align")?16:n.startsWith("gf-interp")?30:m,x=Gt(u,t),y=`${p}${x}/${u}.svg`,v=(0,d.cx)(c.icon,r,t==="mono"?{[c.orange]:n==="favorite"}:"",u==="spinner"&&"fa-spin");return a.createElement(Kt.default,{innerRef:l,src:y,width:h,height:f,title:o,className:v,style:s,...i})});D.displayName="Icon";const br=({children:e,horizontal:t,className:n})=>{const r=(0,E.wW)(vr),s=(0,d.cx)(t?r.horizontal:r.vertical,n);return a.createElement("div",{role:"alert",className:s},a.createElement(D,{className:r.fieldValidationMessageIcon,name:"exclamation-triangle"}),e)},vr=e=>{const t=`
      font-size: ${e.typography.size.sm};
      font-weight: ${e.typography.fontWeightMedium};
      padding: ${e.spacing(.5,1)};
      color: ${e.colors.error.contrastText};
      background: ${e.colors.error.main};
      border-radius: ${e.shape.radius.default};
      position: relative;
      display: inline-block;
      align-self: flex-start;

      a {
        color: ${e.colors.error.contrastText};
        text-decoration: underline;
      }

      a:hover {
        text-decoration: none;
      }
    `;return{vertical:(0,d.css)(t,{margin:e.spacing(.5,0,0,0),"&:before":{content:'""',position:"absolute",left:"9px",top:"-5px",width:0,height:0,borderWidth:"0 4px 5px 4px",borderColor:`transparent transparent ${e.colors.error.main} transparent`,borderStyle:"solid"}}),horizontal:(0,d.css)(t,{marginLeft:"10px","&:before":{content:'""',position:"absolute",left:"-5px",top:"9px",width:0,height:0,borderWidth:"4px 5px 4px 0",borderColor:"transparent #e02f44 transparent transparent",borderStyle:"solid"}}),fieldValidationMessageIcon:(0,d.css)({marginRight:e.spacing()})}};var Sr=S(30142),tt=S(30887);function Zt(e,t,n,r,s){return{arrow:(0,d.css)({height:"1rem",width:"1rem",position:"absolute",pointerEvents:"none","&::before":{borderStyle:"solid",content:'""',display:"block",height:0,margin:"auto",width:0},"&::after":{borderStyle:"solid",content:'""',display:"block",height:0,margin:"auto",position:"absolute",width:0}}),container:(0,d.css)({backgroundColor:t,borderRadius:e.shape.radius.default,border:`1px solid ${n}`,boxShadow:e.shadows.z2,color:r,fontSize:e.typography.bodySmall.fontSize,padding:e.spacing(s.topBottom,s.rightLeft),transition:"opacity 0.3s",zIndex:e.zIndex.tooltip,maxWidth:"400px",overflowWrap:"break-word","&[data-popper-interactive='false']":{pointerEvents:"none"},"&[data-popper-placement*='bottom'] > div[data-popper-arrow='true']":{left:0,marginTop:"-7px",top:0,"&::before":{borderColor:`transparent transparent ${n} transparent`,borderWidth:"0 8px 7px 8px",position:"absolute",top:"-1px"},"&::after":{borderColor:`transparent transparent ${t} transparent`,borderWidth:"0 8px 7px 8px"}},"&[data-popper-placement*='top'] > div[data-popper-arrow='true']":{bottom:0,left:0,marginBottom:"-14px","&::before":{borderColor:`${n} transparent transparent transparent`,borderWidth:"7px 8px 0 7px",position:"absolute",top:"1px"},"&::after":{borderColor:`${t} transparent transparent transparent`,borderWidth:"7px 8px 0 7px"}},"&[data-popper-placement*='right'] > div[data-popper-arrow='true']":{left:0,marginLeft:"-10px","&::before":{borderColor:`transparent ${n} transparent transparent`,borderWidth:"7px 6px 7px 0"},"&::after":{borderColor:`transparent ${t} transparent transparent`,borderWidth:"6px 7px 7px 0",left:"2px",top:"1px"}},"&[data-popper-placement*='left'] > div[data-popper-arrow='true']":{marginRight:"-11px",right:0,"&::before":{borderColor:`transparent transparent transparent ${n}`,borderWidth:"7px 0 6px 7px"},"&::after":{borderColor:`transparent transparent transparent ${t}`,borderWidth:"6px 0 5px 5px",left:"1px",top:"1px"}},code:{border:"none",display:"inline",background:tt.darken(t,.1),color:r},pre:{background:tt.darken(t,.1),color:r},a:{color:r,textDecoration:"underline"},"a:hover":{textDecoration:"none"}}),headerClose:(0,d.css)({color:e.colors.text.secondary,position:"absolute",right:e.spacing(1),top:e.spacing(1.5),backgroundColor:"transparent",border:0}),header:(0,d.css)({paddingTop:e.spacing(1),paddingBottom:e.spacing(2)}),body:(0,d.css)({paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}),footer:(0,d.css)({paddingTop:e.spacing(2),paddingBottom:e.spacing(1)})}}var xr=S(79873);function Jt(e){const{children:t,className:n,root:r,forwardedRef:s}=e,o=(0,E.l4)(),i=(0,a.useRef)(null),l=r??Cr();return i.current||(i.current=document.createElement("div"),n&&(i.current.className=n),i.current.style.position="relative",i.current.style.zIndex=`${o.zIndex.portal}`),(0,a.useLayoutEffect)(()=>(i.current&&l.appendChild(i.current),()=>{i.current&&l.removeChild(i.current)}),[l]),xr.createPortal(a.createElement("div",{ref:s},t),i.current)}function Cr(){return window.document.getElementById("grafana-portal-container")??document.body}function rc(){return React.createElement("div",{id:"grafana-portal-container"})}const wr=a.forwardRef((e,t)=>a.createElement(Jt,{...e,forwardedRef:t}));wr.displayName="RefForwardingPortal";const de=a.forwardRef(({children:e,theme:t,interactive:n,show:r,placement:s,content:o},i)=>{const[l,c]=(0,a.useState)(r),u=(0,a.useId)();(0,a.useEffect)(()=>{if(l!==!1){const w=P=>{P.key==="Escape"&&c(!1)};return document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}}else return},[l]);const{getArrowProps:p,getTooltipProps:m,setTooltipRef:f,setTriggerRef:h,visible:x,update:y}=(0,Sr.O)({visible:r??l,placement:s,interactive:n,delayHide:n?100:0,offset:[0,8],trigger:["hover","focus"],onVisibleChange:c}),v=typeof o=="function";(0,a.useEffect)(()=>{y&&v&&y()},[x,y,v]);const T=(0,E.wW)(Er)[t??"info"],L=(0,a.useCallback)(w=>{h(w),typeof i=="function"?i(w):i&&(i.current=w)},[i,h]);return a.createElement(a.Fragment,null,a.cloneElement(e,{ref:L,tabIndex:0,"aria-describedby":x?u:void 0}),x&&a.createElement(Jt,null,a.createElement("div",{"data-testid":Ce.wl.components.Tooltip.container,ref:f,id:u,role:"tooltip",...m({className:T.container})},a.createElement("div",{...p({className:T.arrow})}),typeof o=="string"&&o,a.isValidElement(o)&&a.cloneElement(o),v&&y&&o({updatePopperPosition:y}))))});de.displayName="Tooltip";const Er=e=>{const t=Zt(e,e.components.tooltip.background,e.components.tooltip.background,e.components.tooltip.text,{topBottom:.5,rightLeft:1}),n=Zt(e,e.colors.error.main,e.colors.error.main,e.colors.error.contrastText,{topBottom:.5,rightLeft:1});return{info:t,["info-alt"]:t,error:n}},Tr=({children:e,className:t,tooltip:n,width:r,transparent:s,interactive:o,as:i="label",...l})=>{const c=(0,E.wW)(Nr,s,r);return a.createElement(i,{className:(0,d.cx)(c.label,t),...l},e,n&&a.createElement(de,{interactive:o,placement:"top",content:n,theme:"info"},a.createElement(D,{tabIndex:0,name:"info-circle",size:"sm",className:c.icon})))},Nr=(e,t=!1,n)=>({label:(0,d.css)({display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0,padding:e.spacing(0,1),fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.size.sm,backgroundColor:t?"transparent":e.colors.background.secondary,height:e.spacing(e.components.height.md),lineHeight:e.spacing(e.components.height.md),marginRight:e.spacing(.5),borderRadius:e.shape.radius.default,border:"none",width:n?n!=="auto"?`${8*n}px`:n:"100%",color:e.colors.text.primary}),icon:(0,d.css)({color:e.colors.text.secondary,marginLeft:"10px",":hover":{color:e.colors.text.primary}})}),k=({children:e,label:t,tooltip:n,labelWidth:r="auto",invalid:s,loading:o,disabled:i,required:l,className:c,htmlFor:u,grow:p,shrink:m,error:f,transparent:h,interactive:x,...y})=>{const v=(0,E.l4)(),C=kr(v,p,m),T=u??gr(e),L=typeof t=="string"?a.createElement(Tr,{interactive:x,width:r,tooltip:n,htmlFor:T,transparent:h},`${t}${l?" *":""}`):t;return a.createElement("div",{className:(0,d.cx)(C.container,c),...y},L,a.createElement("div",{className:C.childContainer},a.cloneElement(e,{invalid:s,disabled:i,loading:o}),s&&f&&a.createElement("div",{className:(0,d.cx)(C.fieldValidationWrapper)},a.createElement(br,null,f))))};k.displayName="InlineField";const kr=(e,t,n)=>({container:(0,d.css)({display:"flex",flexDirection:"row",alignItems:"flex-start",textAlign:"left",position:"relative",flex:`${t?1:0} ${n?1:0} auto`,margin:`0 ${e.spacing(.5)} ${e.spacing(.5)} 0`}),childContainer:(0,d.css)({flex:`${t?1:0} ${n?1:0} auto`}),fieldValidationWrapper:(0,d.css)({marginTop:e.spacing(.5)})});var Yt=S(18863),Ir=S(81152),Ar=S(48618),Mr=S(85890),Rr=S(41554),Fr=S(11248);const Lr=e=>["xs","sm","md","lg","xl","xxl","xxxl"].includes(e),sc=()=>Object.keys(availableIconsIndex);function oc(e){return Pr(e?.type)}function Pr(e){if(e)switch(e){case FieldType.time:return"clock-nine";case FieldType.string:return"font";case FieldType.number:return"calculator-alt";case FieldType.boolean:return"toggle-on";case FieldType.trace:return"info-circle";case FieldType.enum:return"list-ol";case FieldType.geo:return"map-marker";case FieldType.other:return"brackets-curly"}return"question-circle"}const Ee=({className:e,inline:t=!1,iconClassName:n,style:r,size:s="md"})=>{const o=(0,E.wW)(Vr),i=(0,E.wW)(Or,s);if(typeof s!="string"||!Lr(s)){const l=Qt(),c="spinner",u=Gt(c,"default"),p=`${l}${u}/${c}.svg`;return a.createElement("div",{"data-testid":"Spinner",style:r,className:(0,d.cx)({[o.inline]:t},i.wrapper,e)},a.createElement(Kt.default,{src:p,width:s,height:s,className:(0,d.cx)("fa-spin",i.icon,e),style:r}))}return a.createElement("div",{"data-testid":"Spinner",style:r,className:(0,d.cx)({[o.inline]:t},e)},a.createElement(D,{className:(0,d.cx)("fa-spin",n),name:"spinner",size:s,"aria-label":"loading spinner"}))},Vr=e=>({inline:(0,d.css)({display:"inline-block"})}),Or=(e,t)=>({wrapper:(0,d.css)({fontSize:typeof t=="string"?t:`${t}px`}),icon:(0,d.css)({display:"inline-block",fill:"currentColor",flexShrink:0,label:"Icon",lineHeight:0,verticalAlign:"middle"})});function Br({selectProps:e}){const t=e.menuIsOpen,n=t?"search":"angle-down",r=t?"sm":"md";return a.createElement(D,{name:n,size:r})}var Xt=S(60339),Wr=S(63957),Hr=S.n(Wr);function nt(e){return Hr()(e)}var ac=S(19737);function ic(e){return`
    background: ${e.colors.background.secondary};
    &:hover {
      background: ${rt(e.colors.background.secondary,e)};
    }
    box-shadow: ${e.components.panel.boxShadow};
    border-radius: ${e.shape.radius.default};
`}function rt(e,t){return t.isDark?tinycolor(e).brighten(2).toString():tinycolor(e).darken(2).toString()}function lc(e){return`
  background: ${e.colors.background.secondary};
  &:hover {
    background: ${rt(e.colors.background.secondary,e)};
  }
  box-shadow: ${e.components.panel.boxShadow};
  border-radius: ${e.shape.radius.default};
`}function cc(e){return`
    background: ${rt(e.colors.background.secondary,e)};
    color: ${e.colors.text.maxContrast};
`}function uc(e){return`only screen and (min-width: ${e})`}const Dr=e=>e.hasOwnProperty("v1"),dc=e=>{const t=Dr(e),n=t?e.colors.background.canvas:e.colors.bodyBg,r=t?e.colors.primary.main:e.colors.formFocusOutline;return`
  outline: 2px dotted transparent;
  outline-offset: 2px;
  box-shadow: 0 0 0 2px ${n}, 0 0 0px 4px ${r};
  transition-property: outline, outline-offset, box-shadow;
  transition-duration: 0.2s;
  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1);`};function st(e){return{outline:"none",boxShadow:"none"}}function Te(e){return{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow"}}const pc=e=>({overflow:"hidden",background:e.colors.background.secondary,boxShadow:e.shadows.z2,maxWidth:"800px",padding:e.spacing(1),borderRadius:e.shape.radius.default,zIndex:e.zIndex.tooltip}),qt=e=>(0,d.css)({"&:focus":Te(e)}),ot=(e,t=!1)=>{const n=t?e.colors.error.border:e.components.input.borderColor,r=t?e.colors.error.shade:e.components.input.borderHover,s=e.components.input.background,o=e.components.input.text,i=e.isDark?"#2e2f35":"#bab4ca";return(0,d.cx)(en(e),(0,d.css)({background:s,lineHeight:e.typography.body.lineHeight,fontSize:e.typography.size.md,color:o,border:`1px solid ${n}`,"&:-webkit-autofill, &:-webkit-autofill:hover":{boxShadow:`inset 0 0 0 1px rgba(255, 255, 255, 0), inset 0 0 0 100px ${s}!important`,WebkitTextFillColor:`${o} !important`,borderColor:i},"&:-webkit-autofill:focus":{boxShadow:`0 0 0 2px ${e.colors.background.primary}, 0 0 0px 4px ${e.colors.primary.main}, inset 0 0 0 1px rgba(255, 255, 255, 0), inset 0 0 0 100px ${s}!important`,WebkitTextFillColor:`${o} !important`},"&:hover":{borderColor:r},"&:focus":{outline:"none"},"&:disabled":{backgroundColor:e.colors.action.disabledBackground,color:e.colors.action.disabledText,border:`1px solid ${e.colors.action.disabledBackground}`,"&:hover":{borderColor:n}},"&::placeholder":{color:e.colors.text.disabled,opacity:1}}))},en=e=>(0,d.css)({padding:e.spacing(0,1,0,1)}),mc=()=>({sm:css({width:Ve("sm")}),md:css({width:Ve("md")}),lg:css({width:Ve("lg")}),auto:css({width:Ve("auto")})}),Ve=e=>{switch(e){case"sm":return"200px";case"md":return"320px";case"lg":return"580px";case"auto":default:return"auto"}};function _r(e,t){switch(e){case"sm":return{padding:1,fontSize:t.typography.size.sm,height:t.components.height.sm};case"lg":return{padding:3,fontSize:t.typography.size.lg,height:t.components.height.lg};case"md":default:return{padding:2,fontSize:t.typography.size.md,height:t.components.height.md}}}const V=a.forwardRef((e,t)=>{const{className:n,addonAfter:r,addonBefore:s,prefix:o,suffix:i,invalid:l,loading:c,width:u=0,...p}=e,[m,f]=(0,Xt.Z)(),[h,x]=(0,Xt.Z)(),y=(0,E.l4)(),v=Oe({theme:y,invalid:!!l,width:u});return a.createElement("div",{className:(0,d.cx)(v.wrapper,n),"data-testid":"input-wrapper"},!!s&&a.createElement("div",{className:v.addon},s),a.createElement("div",{className:v.inputWrapper},o&&a.createElement("div",{className:v.prefix,ref:m},o),a.createElement("input",{ref:t,className:v.input,...p,style:{paddingLeft:o?f.width+12:void 0,paddingRight:i||c?x.width+12:void 0}}),(i||c)&&a.createElement("div",{className:v.suffix,ref:h},c&&a.createElement(Ee,{className:v.loadingIndicator,inline:!0}),i)),!!r&&a.createElement("div",{className:v.addon},r))});V.displayName="Input";const Oe=nt(({theme:e,invalid:t=!1,width:n})=>{const r="28px",s=(0,d.css)({position:"absolute",top:0,zIndex:1,display:"flex",alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,fontSize:e.typography.size.md,height:"100%",minWidth:r,color:e.colors.text.secondary});return{wrapper:(0,d.cx)((0,d.css)({label:"input-wrapper",display:"flex",width:n?e.spacing(n):"100%",height:e.spacing(e.components.height.md),borderRadius:e.shape.radius.default,"&:hover":{"> .prefix, .suffix, .input":{borderColor:t?e.colors.error.border:e.colors.primary.border},"input[type='number']":{appearance:"textfield"},"input[type='number']::-webkit-inner-spin-button, input[type='number']::-webkit-outer-spin-button":{WebkitAppearance:"inner-spin-button !important",opacity:1}}})),inputWrapper:(0,d.css)({label:"input-inputWrapper",position:"relative",flexGrow:1,zIndex:1,"&:not(:first-child):last-child":{"> input":{borderLeft:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0}},"&:first-child:not(:last-child)":{"> input":{borderRight:"none",borderTopRightRadius:0,borderBottomRightRadius:0}},"&:not(:first-child):not(:last-child)":{"> input":{borderRight:"none",borderTopRightRadius:0,borderBottomRightRadius:0,borderTopLeftRadius:0,borderBottomLeftRadius:0}},input:{"&:not(:first-child)":{paddingLeft:r},"&:not(:last-child)":{paddingRight:r},"&[readonly]":{cursor:"default"}}}),input:(0,d.cx)(qt(e),ot(e,t),(0,d.css)({label:"input-input",position:"relative",zIndex:0,flexGrow:1,borderRadius:e.shape.radius.default,height:"100%",width:"100%"})),inputDisabled:(0,d.css)({backgroundColor:e.colors.action.disabledBackground,color:e.colors.action.disabledText,border:`1px solid ${e.colors.action.disabledBackground}`,"&:focus":{boxShadow:"none"}}),addon:(0,d.css)({label:"input-addon",display:"flex",justifyContent:"center",alignItems:"center",flexGrow:0,flexShrink:0,position:"relative","&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0,"> :last-child":{borderTopRightRadius:0,borderBottomRightRadius:0}},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0,"> :first-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0}},"> *:focus":{zIndex:2}}),prefix:(0,d.cx)(s,(0,d.css)({label:"input-prefix",paddingLeft:e.spacing(1),paddingRight:e.spacing(.5),borderRight:"none",borderTopRightRadius:0,borderBottomRightRadius:0})),suffix:(0,d.cx)(s,(0,d.css)({label:"input-suffix",paddingLeft:e.spacing(1),paddingRight:e.spacing(1),marginBottom:"-2px",borderLeft:"none",borderTopLeftRadius:0,borderBottomLeftRadius:0,right:0})),loadingIndicator:(0,d.css)({"& + *":{marginLeft:e.spacing(.5)}})}}),at=a.forwardRef((e,t)=>{const{children:n}=e,r=(0,E.l4)(),s=Oe({theme:r,invalid:!1});return a.createElement("div",{className:(0,d.cx)(s.suffix,(0,d.css)({position:"relative"})),ref:t},n)});at.displayName="IndicatorsContainer";const $r=a.forwardRef(function({focused:t,invalid:n,disabled:r,children:s,innerProps:o,prefix:i,...l},c){const u=(0,E.wW)(zr,n,!!i);return a.createElement("div",{className:u.input,...o,ref:c},i&&a.createElement("div",{className:(0,d.cx)(u.prefix)},i),s)}),zr=(e,t,n)=>{const r=Oe({theme:e,invalid:t});return{input:(0,d.cx)(en(e),(0,d.css)({width:"100%",maxWidth:"100%",display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between",paddingRight:0,position:"relative",boxSizing:"border-box"}),n&&(0,d.css)({paddingLeft:0})),prefix:(0,d.cx)(r.prefix,(0,d.css)({position:"relative"}))}};var tn=S(20440);const nn=a.forwardRef((e,t)=>{const{size:n="md",variant:r="secondary"}=e;let s;n==="xxl"||n==="xxxl"?((0,tn.d)("IconButton",'size="xxl" and size="xxxl"','size="xl"'),s="xl"):s=n;const o=(0,E.wW)(Ur,s,r);let i,l;if("tooltip"in e){const{tooltip:c}=e;i=typeof c=="string"?c:void 0}else if("ariaLabel"in e||"aria-label"in e){const{ariaLabel:c,["aria-label"]:u}=e;i=u||c,l=t}if("tooltip"in e){const{name:c,iconType:u,className:p,tooltip:m,tooltipPlacement:f,...h}=e;return a.createElement(de,{ref:t,content:m,placement:f},a.createElement("button",{...h,ref:l,"aria-label":i,className:(0,d.cx)(o.button,p),type:"button"},a.createElement(D,{name:c,size:s,className:o.icon,type:u})))}else{const{name:c,iconType:u,className:p,...m}=e;return a.createElement("button",{...m,ref:l,"aria-label":i,className:(0,d.cx)(o.button,p),type:"button"},a.createElement(D,{name:c,size:s,className:o.icon,type:u}))}});nn.displayName="IconButton";const Ur=(e,t,n)=>{const r=jt(t)+e.spacing.gridSize;let s=e.colors.text.primary;return n==="primary"?s=e.colors.primary.text:n==="destructive"&&(s=e.colors.error.text),{button:(0,d.css)({zIndex:0,position:"relative",margin:`0 ${e.spacing.x0_5} 0 0`,boxShadow:"none",border:"none",display:"inline-flex",background:"transparent",justifyContent:"center",alignItems:"center",padding:0,color:s,"&[disabled], &:disabled":{cursor:"not-allowed",color:e.colors.action.disabledText,opacity:.65},"&:before":{zIndex:-1,position:"absolute",opacity:0,width:`${r}px`,height:`${r}px`,borderRadius:e.shape.radius.default,content:'""',transitionDuration:"0.2s",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionProperty:"opacity"},"&:focus, &:focus-visible":Te(e),"&:focus:not(:focus-visible)":st(e),"&:hover":{"&:before":{backgroundColor:n==="secondary"?e.colors.action.hover:tt.alpha(s,.12),opacity:1}}}),icon:(0,d.css)({verticalAlign:"baseline"})}},ne=nt(e=>({menu:(0,d.css)({label:"grafana-select-menu",background:e.components.dropdown.background,boxShadow:e.shadows.z3,position:"relative",minWidth:"100%",zIndex:1}),option:(0,d.css)({label:"grafana-select-option",padding:"8px",display:"flex",alignItems:"center",flexDirection:"row",flexShrink:0,whiteSpace:"nowrap",cursor:"pointer",borderLeft:"2px solid transparent","&:hover":{background:e.colors.action.hover,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}}),optionIcon:(0,d.css)({marginRight:e.spacing(1)}),optionImage:(0,d.css)({label:"grafana-select-option-image",width:"16px",marginRight:"10px"}),optionDescription:(0,d.css)({label:"grafana-select-option-description",fontWeight:"normal",fontSize:e.typography.size.sm,color:e.colors.text.secondary,whiteSpace:"normal",lineHeight:e.typography.body.lineHeight}),optionBody:(0,d.css)({label:"grafana-select-option-body",display:"flex",fontWeight:e.typography.fontWeightMedium,flexDirection:"column",flexGrow:1}),optionFocused:(0,d.css)({label:"grafana-select-option-focused",background:e.colors.action.focus,"@media (forced-colors: active), (prefers-contrast: more)":{border:`1px solid ${e.colors.primary.border}`}}),optionSelected:(0,d.css)({background:e.colors.action.selected}),optionDisabled:(0,d.css)({label:"grafana-select-option-disabled",backgroundColor:e.colors.action.disabledBackground,color:e.colors.action.disabledText,cursor:"not-allowed"}),singleValue:(0,d.css)({label:"grafana-select-single-value",color:e.components.input.text,gridArea:"1 / 1 / 2 / 3",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",boxSizing:"border-box",maxWidth:"100%"}),valueContainer:(0,d.css)({label:"grafana-select-value-container",alignItems:"center",display:"grid",position:"relative",boxSizing:"border-box",flex:"1 1 0%",outline:"none",overflow:"hidden"}),valueContainerMulti:(0,d.css)({label:"grafana-select-value-container-multi",flexWrap:"wrap",display:"flex"}),valueContainerMultiNoWrap:(0,d.css)({flexWrap:"nowrap"}),loadingMessage:(0,d.css)({label:"grafana-select-loading-message",padding:e.spacing(1),textAlign:"center",width:"100%"}),multiValueContainer:(0,d.css)({label:"grafana-select-multi-value-container",display:"flex",alignItems:"center",lineHeight:1,background:e.colors.background.secondary,borderRadius:e.shape.radius.default,margin:e.spacing(.25,1,.25,0),padding:e.spacing(.25,0,.25,1),color:e.colors.text.primary,fontSize:e.typography.size.sm,overflow:"hidden",whiteSpace:"nowrap","&:hover":{background:e.colors.emphasize(e.colors.background.secondary)}}),multiValueRemove:(0,d.css)({label:"grafana-select-multi-value-remove",margin:e.spacing(0,.5),cursor:"pointer",svg:{marginBottom:0}}),singleValueRemove:(0,d.css)({cursor:"pointer","&:hover":{color:e.colors.text.primary}})})),Kr=({innerProps:e,children:t})=>{const n=(0,E.l4)(),r=ne(n);return a.createElement("div",{...e,className:r.multiValueContainer},t)},Gr=({children:e,innerProps:t})=>{const n=(0,E.l4)(),r=ne(n);return a.createElement(nn,{...t,name:"times",size:"sm",className:r.multiValueRemove,tooltip:"Remove"})};var rn=S(16693);const jr=e=>{const{isDisabled:t,isFocused:n,children:r,selectProps:{invalid:s=!1}}=e,o=(0,E.wW)(Qr,n,t,s);return a.createElement(rn.c.SelectContainer,{...e,className:(0,d.cx)(o.wrapper,e.className)},r)},Qr=(e,t,n,r)=>{const s=Oe({theme:e,invalid:r});return{wrapper:(0,d.cx)(s.wrapper,ot(e,r),t&&(0,d.css)(Te(e)),n&&s.inputDisabled,(0,d.css)({position:"relative",boxSizing:"border-box",flexDirection:"row",flexWrap:"wrap",alignItems:"stretch",justifyContent:"space-between",minHeight:"32px",height:"auto",maxWidth:"100%",padding:0,cursor:n?"not-allowed":"pointer"}))}};var W=S(56375),Zr=S(403),Jr=S(13845);const Yr=({children:e})=>{const[t,n]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!1),o=(0,a.useRef)(null),i=(0,a.useRef)(null),l=(0,E.wW)(Xr);return(0,a.useEffect)(()=>{const c=new IntersectionObserver(u=>{u.forEach(p=>{p.target===o.current?n(!p.isIntersecting):p.target===i.current&&s(!p.isIntersecting)})});return[o,i].forEach(u=>{u.current&&c.observe(u.current)}),()=>c.disconnect()},[]),a.createElement(a.Fragment,null,a.createElement("div",{className:(0,d.cx)(l.scrollIndicator,l.scrollTopIndicator,{[l.scrollIndicatorVisible]:t})}),a.createElement("div",{className:l.scrollContent},a.createElement("div",{ref:o}),e,a.createElement("div",{ref:i})),a.createElement("div",{className:(0,d.cx)(l.scrollIndicator,l.scrollBottomIndicator,{[l.scrollIndicatorVisible]:r})}))},Xr=e=>({scrollContent:(0,d.css)({flex:1,position:"relative"}),scrollIndicator:(0,d.css)({height:e.spacing(6),left:0,opacity:0,pointerEvents:"none",position:"absolute",right:0,transition:e.transitions.create("opacity"),zIndex:1}),scrollTopIndicator:(0,d.css)({background:`linear-gradient(0deg, transparent, ${e.colors.background.canvas})`,top:0}),scrollBottomIndicator:(0,d.css)({background:`linear-gradient(180deg, transparent, ${e.colors.background.canvas})`,bottom:0}),scrollIndicatorVisible:(0,d.css)({opacity:1})}),qr=({autoHide:e=!1,autoHideTimeout:t=200,setScrollTop:n,className:r,testId:s,autoHeightMin:o="0",autoHeightMax:i="100%",hideTracksWhenNotNeeded:l=!1,hideHorizontalTrack:c,hideVerticalTrack:u,scrollRefCallback:p,showScrollIndicators:m=!1,updateAfterMountMs:f,scrollTop:h,onScroll:x,children:y})=>{const v=(0,a.useRef)(null),C=(0,E.wW)(es);(0,a.useEffect)(()=>{v.current&&p&&p(v.current.view)},[v,p]),(0,a.useEffect)(()=>{v.current&&h!=null&&v.current.scrollTop(h)},[h]),(0,a.useEffect)(()=>{f&&setTimeout(()=>{const F=v.current;F?.update&&F.update()},f)},[f]);function T(F,ie,Z){return Z.style&&ie&&(Z.style.display="none"),a.createElement("div",{...Z,className:F})}const L=(0,a.useCallback)(F=>T("track-horizontal",c,F),[c]),w=(0,a.useCallback)(F=>T("track-vertical",u,F),[u]),P=(0,a.useCallback)(F=>a.createElement("div",{...F,className:"thumb-horizontal"}),[]),R=(0,a.useCallback)(F=>a.createElement("div",{...F,className:"thumb-vertical"}),[]),O=(0,a.useCallback)(F=>(F.style&&F.style.WebkitOverflowScrolling==="touch"&&(F.style.WebkitOverflowScrolling="auto"),a.createElement("div",{...F,className:"scrollbar-view"})),[]),z=(0,a.useCallback)(()=>{v.current&&n&&n(v.current.getValues())},[n]);return a.createElement(Jr.ZP,{"data-testid":s,ref:v,className:(0,d.cx)(C.customScrollbar,r,{[C.scrollbarWithScrollIndicators]:m}),onScrollStop:z,autoHeight:!0,autoHide:e,autoHideTimeout:t,hideTracksWhenNotNeeded:l,autoHeightMax:i,autoHeightMin:o,renderTrackHorizontal:L,renderTrackVertical:w,renderThumbHorizontal:P,renderThumbVertical:R,renderView:O,onScroll:x},m?a.createElement(Yr,null,y):y)},fc=null,es=e=>({customScrollbar:(0,d.css)({display:"flex",flexGrow:1,".scrollbar-view":{display:"flex",flexGrow:1,flexDirection:"column"},".track-vertical":{borderRadius:e.shape.borderRadius(2),width:`${e.spacing(1)} !important`,right:0,bottom:e.spacing(.25),top:e.spacing(.25)},".track-horizontal":{borderRadius:e.shape.borderRadius(2),height:`${e.spacing(1)} !important`,right:e.spacing(.25),bottom:e.spacing(.25),left:e.spacing(.25)},".thumb-vertical":{background:e.colors.action.focus,borderRadius:e.shape.borderRadius(2),opacity:0},".thumb-horizontal":{background:e.colors.action.focus,borderRadius:e.shape.borderRadius(2),opacity:0},"&:hover":{".thumb-vertical, .thumb-horizontal":{opacity:1,transition:"opacity 0.3s ease-in-out"}}}),scrollbarWithScrollIndicators:(0,d.css)({".scrollbar-view":{position:"static !important"}})}),sn=({children:e,maxHeight:t,innerRef:n,innerProps:r})=>{const s=(0,E.l4)(),o=ne(s);return a.createElement("div",{...r,className:o.menu,style:{maxHeight:t},"aria-label":"Select options menu"},a.createElement(qr,{scrollRefCallback:n,autoHide:!1,autoHeightMax:"inherit",hideHorizontalTrack:!0},e))};sn.displayName="SelectMenu";const it=37,ts=7,on=({children:e,maxHeight:t,options:n,getValue:r})=>{const s=(0,E.l4)(),o=ne(s),[i]=r(),c=(i?n.findIndex(f=>f.value===i.value):0)*it;if(!Array.isArray(e))return null;const p=((0,W.max)(n.map(f=>f.label?.length))??0)*ts,m=Math.min(n.length*it,t);return a.createElement(Zr.t7,{className:o.menu,height:m,width:p,"aria-label":"Select options menu",itemCount:e.length,itemSize:it,initialScrollOffset:c},({index:f,style:h})=>a.createElement("div",{style:{...h,overflow:"hidden"}},e[f]))};on.displayName="VirtualizedSelectMenu";const an=({children:e,data:t,innerProps:n,innerRef:r,isFocused:s,isSelected:o,renderOptionLabel:i})=>{const l=(0,E.l4)(),c=ne(l),u=t.icon?(0,et.iJ)(t.icon):void 0,{onMouseMove:p,onMouseOver:m,...f}=n;return a.createElement("div",{ref:r,className:(0,d.cx)(c.option,s&&c.optionFocused,o&&c.optionSelected,t.isDisabled&&c.optionDisabled),...f,"aria-label":"Select option",title:t.title},u&&a.createElement(D,{name:u,className:c.optionIcon}),t.imgUrl&&a.createElement("img",{className:c.optionImage,src:t.imgUrl,alt:t.label||String(t.value)}),a.createElement("div",{className:c.optionBody},a.createElement("span",null,i?i(t):e),t.description&&a.createElement("div",{className:c.optionDescription},t.description),t.component&&a.createElement(t.component,null)))};an.displayName="SelectMenuOptions";const ns=nt(e=>({header:(0,d.css)({display:"flex",alignItems:"center",justifyContent:"flex-start",justifyItems:"center",cursor:"pointer",padding:"7px 10px",width:"100%",borderBottom:`1px solid ${e.colors.background.secondary}`,"&:hover":{color:e.colors.text.maxContrast}}),label:(0,d.css)({flexGrow:1}),icon:(0,d.css)({paddingRight:"2px"})}));class rs extends a.PureComponent{constructor(){super(...arguments),this.state={expanded:!1},this.onToggleChildren=()=>{this.setState(t=>({expanded:!t.expanded}))}}componentDidMount(){if(this.props.data.expanded)this.setState({expanded:!0});else if(this.props.selectProps&&this.props.selectProps.value){const{value:t}=this.props.selectProps.value;t&&this.props.options.some(n=>n.value===t)&&this.setState({expanded:!0})}}componentDidUpdate(t){t.selectProps.inputValue!==""&&this.setState({expanded:!0})}render(){const{children:t,label:n,theme:r}=this.props,{expanded:s}=this.state,o=ns(r);return a.createElement("div",null,a.createElement("div",{className:o.header,onClick:this.onToggleChildren,role:"presentation"},a.createElement("span",{className:o.label},n),a.createElement(D,{className:o.icon,name:s?"angle-up":"angle-down"})),s&&t)}}const ss=(0,E.HE)(rs);function os(e,t={}){const{duration:n=250,delay:r=250}=t,[s,o]=(0,a.useState)(e),i=(0,a.useRef)();return(0,a.useEffect)(()=>{let l;if(e)l=setTimeout(()=>{i.current=new Date,o(e)},r);else{const c=i.current?Date.now()-i.current.valueOf():0,u=()=>{i.current=void 0,o(e)};c>=n?u():l=setTimeout(u,n-c)}return()=>{l&&(clearTimeout(l),l=void 0)}},[e,n,r]),s}var ln=S(54278);function cn(e){const{visible:t,children:n,duration:r=250}=e,s=(0,E.wW)(as,r);return a.createElement(ln.Z,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:r,classNames:s},n)}const as=(e,t)=>({enter:(0,d.css)({label:"enter",opacity:0}),enterActive:(0,d.css)({label:"enterActive",opacity:1,transition:`opacity ${t}ms ease-out`}),exit:(0,d.css)({label:"exit",opacity:1}),exitActive:(0,d.css)({label:"exitActive",opacity:0,transition:`opacity ${t}ms ease-out`})});function is(e){const{visible:t,children:n,duration:r=250,horizontal:s,size:o}=e,i=(0,E.wW)(ls,r,s?"width":"height",o);return a.createElement(ln.Z,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:r,classNames:i},n)}const ls=(e,t,n,r)=>({enter:(0,d.css)({label:"enter",[`${n}`]:0,opacity:0}),enterActive:(0,d.css)({label:"enterActive",[`${n}`]:`${r}px`,opacity:1,transition:`opacity ${t}ms ease-out, ${n} ${t}ms ease-out`}),exit:(0,d.css)({label:"exit",[`${n}`]:`${r}px`,opacity:1}),exitActive:(0,d.css)({label:"exitActive",opacity:0,[`${n}`]:0,transition:`opacity ${t}ms ease-out, ${n} ${t}ms ease-out`})}),cs=e=>({singleValue:(0,d.css)({label:"singleValue",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",boxSizing:"border-box",maxWidth:"100%",gridArea:"1 / 1 / 2 / 3"}),spinnerWrapper:(0,d.css)({width:"16px",height:"16px",display:"inline-block",marginRight:"10px",position:"relative",verticalAlign:"middle",overflow:"hidden"}),spinnerIcon:(0,d.css)({width:"100%",height:"100%",position:"absolute"}),optionIcon:(0,d.css)({marginRight:e.spacing(1),color:e.colors.text.secondary}),disabled:(0,d.css)({color:e.colors.text.disabled}),isOpen:(0,d.css)({color:e.colors.text.disabled})}),us=e=>{const{children:t,data:n,isDisabled:r}=e,s=(0,E.wW)(cs),o=os(n.loading||!1,{delay:250,duration:750}),i=n.icon?(0,et.iJ)(n.icon):void 0;return a.createElement(rn.c.SingleValue,{...e,className:(0,d.cx)(s.singleValue,r&&s.disabled,e.selectProps.menuIsOpen&&s.isOpen)},n.imgUrl?a.createElement(ds,{loading:o,imgUrl:n.imgUrl,styles:s,alt:String(n.label??n.value)}):a.createElement(a.Fragment,null,a.createElement(is,{horizontal:!0,size:16,visible:o,duration:150},a.createElement("div",{className:s.spinnerWrapper},a.createElement(Ee,{className:s.spinnerIcon,inline:!0}))),i&&a.createElement(D,{name:i,role:"img",className:s.optionIcon})),!n.hideText&&t)},ds=e=>a.createElement("div",{className:e.styles.spinnerWrapper},a.createElement(cn,{duration:150,visible:e.loading},a.createElement(Ee,{className:e.styles.spinnerIcon,inline:!0})),a.createElement(cn,{duration:150,visible:!e.loading},a.createElement("img",{className:e.styles.spinnerIcon,src:e.imgUrl,alt:e.alt})));class ps extends a.Component{render(){const{children:t}=this.props,{selectProps:n}=this.props;if(n&&Array.isArray(t)&&Array.isArray(t[0])&&n.maxVisibleValues!==void 0&&!(n.showAllSelectedWhenOpen&&n.menuIsOpen)){const[r,...s]=t,o=r.slice(0,n.maxVisibleValues);return this.renderContainer([o,...s])}return this.renderContainer(t)}renderContainer(t){const{isMulti:n,theme:r}=this.props,s=this.props.selectProps?.noMultiValueWrap&&!this.props.selectProps?.menuIsOpen,o=ne(r),i=(0,d.cx)(o.valueContainer,n&&o.valueContainerMulti,s&&o.valueContainerMultiNoWrap);return a.createElement("div",{className:i},t)}}const ms=(0,E.HE)(ps);function fs(e){return{clearIndicator:()=>({}),container:()=>({}),control:()=>({}),dropdownIndicator:()=>({}),group:()=>({}),groupHeading:()=>({}),indicatorsContainer:()=>({}),indicatorSeparator:()=>({}),input:function(t){return{...t,color:"inherit",margin:0,padding:0,zIndex:1}},loadingIndicator:()=>({}),loadingMessage:()=>({}),menu:()=>({}),menuList:({maxHeight:t})=>({maxHeight:t}),multiValue:()=>({}),multiValueLabel:()=>({overflow:"hidden",textOverflow:"ellipsis"}),multiValueRemove:()=>({}),noOptionsMessage:()=>({}),option:()=>({}),placeholder:t=>({...t,color:e.colors.text.secondary}),singleValue:()=>({}),valueContainer:()=>({})}}function gs(e,t){return(0,a.useMemo)(()=>({...fs(e),menuPortal:n=>({...n,zIndex:e.zIndex.portal}),menu:({top:n,bottom:r,position:s})=>({top:n,bottom:r,position:s,minWidth:"100%",zIndex:e.zIndex.dropdown}),container:()=>({width:t?e.spacing(t):"100%",display:t==="auto"?"inline-flex":"flex"}),option:(n,r)=>({...n,opacity:r.isDisabled?.5:1})}),[e,t])}const hs=(e,t)=>{if(Array.isArray(e)){const n=e.filter(Boolean);return n?.length?n:void 0}if(typeof e=="object")return[e];if(typeof e=="string"||typeof e=="number"){const n=lt(e,t);if(n)return[n]}},lt=(e,t)=>{for(const n of t)if("options"in n){let r=lt(e,n.options);if(r)return r}else if("value"in n&&n.value===e)return n;return null},ys=e=>e.map(({description:t,...n})=>n),bs=e=>{const{children:t,innerProps:n,selectProps:{menuIsOpen:r,onMenuClose:s,onMenuOpen:o},isFocused:i,isMulti:l,getValue:c,innerRef:u}=e,p=e.selectProps;return p.renderControl?a.createElement(p.renderControl,{isOpen:r,value:l?c():c()[0],ref:u,onClick:r?s:o,onBlur:s,disabled:!!p.disabled,invalid:!!p.invalid}):a.createElement($r,{ref:u,innerProps:n,prefix:p.prefix,focused:i,invalid:!!p.invalid,disabled:!!p.disabled},t)};function un({allowCustomValue:e=!1,allowCreateWhileLoading:t=!1,"aria-label":n,autoFocus:r=!1,backspaceRemovesValue:s=!0,blurInputOnSelect:o,cacheOptions:i,className:l,closeMenuOnSelect:c=!0,components:u,createOptionPosition:p="last",defaultOptions:m,defaultValue:f,disabled:h=!1,filterOption:x,formatCreateLabel:y,getOptionLabel:v,getOptionValue:C,inputValue:T,invalid:L,isClearable:w=!1,id:P,isLoading:R=!1,isMulti:O=!1,inputId:z,isOpen:F,isOptionDisabled:ie,isSearchable:Z=!0,loadOptions:b,loadingMessage:Vt="Loading options...",maxMenuHeight:Me=300,minMenuHeight:Ot,maxVisibleValues:Bt,menuPlacement:he="auto",menuPosition:Nl,menuShouldPortal:kl=!0,noOptionsMessage:Il=(0,Yt.t)("grafana-ui.select.no-options-label","No options found"),onBlur:Al,onChange:Wt,onCloseMenu:Ml,onCreateOption:Rl,onInputChange:Fl,onKeyDown:Ll,onMenuScrollToBottom:sr,onMenuScrollToTop:or,onOpenMenu:Pl,onFocus:Vl,openMenuOnFocus:Ol=!1,options:Ze=[],placeholder:Bl=(0,Yt.t)("grafana-ui.select.placeholder","Choose"),prefix:Wl,renderControl:Hl,showAllSelectedWhenOpen:Dl=!0,tabSelectsValue:_l=!0,value:ye,virtualized:ar=!1,noMultiValueWrap:$l,width:zl,isValidNewOption:Ul,formatOptionLabel:Kl,hideSelectedOptions:Gl,...jl}){const ir=(0,E.l4)(),Ht=ne(ir),Je=(0,a.useRef)(null),[Ql,Zl]=(0,a.useState)(!1),Jl=gs(ir,zl),[Yl,Xl]=(0,a.useState)(!!T);(0,a.useEffect)(()=>{if(b&&F&&Je.current&&Je.current.controlRef&&he==="auto"){const B=window.innerHeight-Je.current.controlRef.getBoundingClientRect().bottom;Zl(B<Me)}},[Me,he,b,F]);const ql=(0,a.useCallback)((B,J)=>{if(O&&B==null)return Wt([],J);Wt(B,J)},[O,Wt]);let Dt=Ir.ZP;const be={};let lr={},ve;if(O&&b)ve=ye;else if(O&&ye&&Array.isArray(ye)&&!b)ve=ye.map(B=>{const J=lt(B.value??B,Ze);return!e||J?J:typeof B=="string"?(0,Fr.E)(B):B});else if(b){const B=f||ye;ve=B?[B]:[]}else ve=hs(ye,Ze);const ec={"aria-label":n,autoFocus:r,backspaceRemovesValue:s,blurInputOnSelect:o,captureMenuScroll:sr||or,closeMenuOnSelect:c,defaultValue:f,disabled:h,filterOption:Yl?x:null,getOptionLabel:v,getOptionValue:C,hideSelectedOptions:Gl,inputValue:T,invalid:L,isClearable:w,id:P,isDisabled:h,isLoading:R,isMulti:O,inputId:z,isOptionDisabled:ie,isSearchable:Z,maxMenuHeight:Me,minMenuHeight:Ot,maxVisibleValues:Bt,menuIsOpen:F,menuPlacement:he==="auto"&&Ql?"top":he,menuPosition:Nl,menuShouldBlockScroll:!0,menuPortalTarget:kl&&typeof document<"u"?document.body:void 0,menuShouldScrollIntoView:!1,onBlur:Al,onChange:ql,onInputChange:(B,J)=>{Xl(!!B),Fl?.(B,J)},onKeyDown:Ll,onMenuClose:Ml,onMenuOpen:Pl,onMenuScrollToBottom:sr,onMenuScrollToTop:or,onFocus:Vl,formatOptionLabel:Kl,openMenuOnFocus:Ol,options:ar?ys(Ze):Ze,placeholder:Bl,prefix:Wl,renderControl:Hl,showAllSelectedWhenOpen:Dl,tabSelectsValue:_l,value:O?ve:ve?.[0],noMultiValueWrap:$l};e&&(Dt=Rr.Z,be.allowCreateWhileLoading=t,be.formatCreateLabel=y??vs,be.onCreateOption=Rl,be.createOptionPosition=p,be.isValidNewOption=Ul),b&&(Dt=e?Mr.Z:Ar.Z,lr={loadOptions:b,cacheOptions:i,defaultOptions:m});const tc=ar?on:sn;return a.createElement(a.Fragment,null,a.createElement(Dt,{ref:Je,components:{MenuList:tc,Group:ss,ValueContainer:ms,IndicatorsContainer:Ss,IndicatorSeparator:xs,Control:bs,Option:an,ClearIndicator(B){const{clearValue:J}=B;return a.createElement(D,{name:"times",role:"button","aria-label":"select-clear-value",className:Ht.singleValueRemove,onMouseDown:cr=>{cr.preventDefault(),cr.stopPropagation(),J()}})},LoadingIndicator(){return a.createElement(Ee,{inline:!0})},LoadingMessage(){return a.createElement("div",{className:Ht.loadingMessage},Vt)},NoOptionsMessage(){return a.createElement("div",{className:Ht.loadingMessage,"aria-label":"No options provided"},Il)},DropdownIndicator:Br,SingleValue(B){return a.createElement(us,{...B,isDisabled:h})},SelectContainer:jr,MultiValueContainer:Kr,MultiValueRemove:h?()=>null:Gr,...u},styles:Jl,className:l,...ec,...be,...lr,...jl}))}function vs(e){return a.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},a.createElement("div",null,e),a.createElement("div",{style:{flexGrow:1}}),a.createElement("div",{className:"muted small",style:{display:"flex",gap:"8px",alignItems:"center"}},"Hit enter to add"))}function Ss(e){const{showAllSelectedWhenOpen:t,maxVisibleValues:n,menuIsOpen:r}=e.selectProps,s=e.getValue();if(n!==void 0&&Array.isArray(e.children)){const o=s.length;if(o>n&&!(t&&r)){const i=[...e.children];return i.splice(-1,0,a.createElement("span",{key:"excess-values",id:"excess-values"},"(+",o-n,")")),a.createElement(at,{...e},i)}}return a.createElement(at,{...e})}function xs(){return a.createElement(a.Fragment,null)}function j(e){return a.createElement(un,{...e})}function dn(e){return a.createElement(un,{...e,isMulti:!0})}function gc(e){return React.createElement(SelectBase,{...e})}function hc(e){return React.createElement(SelectBase,{virtualized:!0,...e})}function yc(e){return React.createElement(SelectBase,{virtualized:!0,...e})}function bc(e){return React.createElement(SelectBase,{...e,isMulti:!0})}const pn=a.forwardRef(({value:e,checked:t,onChange:n,id:r,label:s,disabled:o,invalid:i=!1,...l},c)=>{t&&(0,tn.d)("Switch","checked prop","value");const u=(0,E.wW)(mn),p=(0,a.useRef)(r||(0,W.uniqueId)("switch-"));return a.createElement("div",{className:(0,d.cx)(u.switch,i&&u.invalid)},a.createElement("input",{type:"checkbox",disabled:o,checked:e,onChange:m=>{!o&&n?.(m)},id:p.current,...l,ref:c}),a.createElement("label",{htmlFor:p.current,"aria-label":s??"Toggle switch"}))});pn.displayName="Switch";const re=a.forwardRef(({transparent:e,className:t,showLabel:n,label:r,value:s,id:o,invalid:i,...l},c)=>{const u=(0,E.wW)(mn,e);return a.createElement("div",{className:(0,d.cx)(u.inlineContainer,t,l.disabled&&u.disabled,i&&u.invalid)},n&&a.createElement("label",{htmlFor:o,className:(0,d.cx)(u.inlineLabel,s&&u.inlineLabelEnabled,"inline-switch-label")},r),a.createElement(pn,{...l,id:o,label:r,ref:c,value:s}))});re.displayName="Switch";const mn=(e,t)=>({switch:(0,d.css)({width:"32px",height:"16px",position:"relative",input:{opacity:0,left:"-100vw",zIndex:-1e3,position:"absolute","&:disabled + label":{background:e.colors.action.disabledBackground,cursor:"not-allowed"},"&:checked + label":{background:e.colors.primary.main,borderColor:e.colors.primary.main,"&:hover":{background:e.colors.primary.shade},"&::after":{transform:"translate3d(18px, -50%, 0)",background:e.colors.primary.contrastText}},"&:focus + label, &:focus-visible + label":Te(e),"&:focus:not(:focus-visible) + label":st(e)},label:{width:"100%",height:"100%",cursor:"pointer",borderRadius:e.shape.radius.pill,background:e.components.input.background,border:`1px solid ${e.components.input.borderColor}`,transition:"all 0.3s ease","&:hover":{borderColor:e.components.input.borderHover},"&::after":{position:"absolute",display:"block",content:'""',width:"12px",height:"12px",borderRadius:e.shape.radius.circle,background:e.colors.text.secondary,boxShadow:e.shadows.z1,top:"50%",transform:"translate3d(2px, -50%, 0)",transition:"transform 0.2s cubic-bezier(0.19, 1, 0.22, 1)","@media (forced-colors: active)":{border:"1px solid transparent"}}}}),inlineContainer:(0,d.css)({padding:e.spacing(0,1),height:e.spacing(e.components.height.md),display:"inline-flex",alignItems:"center",background:t?"transparent":e.components.input.background,border:`1px solid ${t?"transparent":e.components.input.borderColor}`,borderRadius:e.shape.radius.default,"&:hover":{border:`1px solid ${t?"transparent":e.components.input.borderHover}`,".inline-switch-label":{color:e.colors.text.primary}}}),disabled:(0,d.css)({backgroundColor:"rgba(204, 204, 220, 0.04)",color:"rgba(204, 204, 220, 0.6)",border:"1px solid rgba(204, 204, 220, 0.04)"}),inlineLabel:(0,d.css)({cursor:"pointer",paddingRight:e.spacing(1),color:e.colors.text.secondary,whiteSpace:"nowrap"}),inlineLabelEnabled:(0,d.css)({color:e.colors.text.primary}),invalid:(0,d.css)({"input + label, input:checked + label, input:hover + label":{border:`1px solid ${e.colors.error.border}`}})}),ct=a.forwardRef(({invalid:e,className:t,...n},r)=>{const s=(0,E.wW)(Cs,e);return a.createElement("textarea",{...n,className:(0,d.cx)(s.textarea,t),ref:r})}),Cs=(e,t=!1)=>({textarea:(0,d.cx)(ot(e),qt(e),(0,d.css)({display:"block",borderRadius:e.shape.radius.default,padding:`${e.spacing.gridSize/4}px ${e.spacing.gridSize}px`,width:"100%",borderColor:t?e.colors.error.border:e.components.input.borderColor}))});ct.displayName="TextArea";const ws=[{label:"Speed (ms)",id:"speed",placeholder:"value",min:10,step:10},{label:"Spread",id:"spread",placeholder:"value",min:.5,step:.1},{label:"Noise",id:"noise",placeholder:"value",min:0,step:.1},{label:"Bands",id:"bands",placeholder:"bands",min:0,step:1}],fn=[{value:"signal",label:"Signal"},{value:"logs",label:"Logs"},{value:"fetch",label:"Fetch"}],Es=({onChange:e,query:t})=>{const n=({value:s})=>{e({target:{name:"type",value:s}})},r=s=>{const{name:o,value:i}=s.target;e({target:{name:o,value:Number(i)}})};return a.createElement($,null,a.createElement(k,{label:"Type",labelWidth:14},a.createElement(j,{width:32,onChange:n,defaultValue:fn[0],options:fn})),t?.stream?.type==="signal"&&ws.map(({label:s,id:o,min:i,step:l,placeholder:c})=>a.createElement(k,{label:s,labelWidth:14,key:o},a.createElement(V,{width:32,type:"number",id:`stream.${o}-${t.refId}`,name:o,min:i,step:l,value:t.stream?.[o],placeholder:c,onChange:r}))),t?.stream?.type==="fetch"&&a.createElement(k,{label:"URL",labelWidth:14,grow:!0},a.createElement(V,{type:"text",name:"url",id:`stream.url-${t.refId}`,value:t?.stream?.url,placeholder:"Fetch URL",onChange:e})))},Ts=[{label:"Series count",id:"seriesCount",placeholder:"1",min:1,step:1},{label:"Start value",id:"startValue",placeholder:"auto",step:1},{label:"Min",id:"min",placeholder:"none",step:.1},{label:"Max",id:"max",placeholder:"none",step:.1},{label:"Spread",id:"spread",placeholder:"1",min:.5,step:.1},{label:"Noise",id:"noise",placeholder:"0",min:0,step:.1},{label:"Drop (%)",id:"drop",placeholder:"0",min:0,max:100,step:1,tooltip:"Exclude some percent (chance) points"}],Ns=Ce.wl.components.DataSource.TestData.QueryTab,ks=({onChange:e,query:t})=>a.createElement($,null,Ts.map(({label:n,id:r,min:s,step:o,placeholder:i,tooltip:l})=>{const c=Ns[r];return a.createElement(k,{label:n,labelWidth:14,key:r,"aria-label":c,tooltip:l},a.createElement(V,{width:32,name:r,type:"number",id:`randomWalk-${r}-${t.refId}`,min:s,step:o,value:t[r]||i,placeholder:i,onChange:e}))}));var Is=S(35853),As=S(81445);const Ms=e=>{const t=(0,As.Z)(async()=>await e);return{...t,dependency:t.value}},gn=({error:e,errorInfo:t,title:n})=>{const r=(0,E.wW)(Rs);return a.createElement("div",{className:r},a.createElement("h2",null,n),a.createElement("details",{style:{whiteSpace:"pre-wrap"}},e&&e.toString(),a.createElement("br",null),t&&t.componentStack))};gn.displayName="ErrorWithStack";const Rs=()=>(0,d.css)({width:"500px",margin:"64px auto"}),Fs=({text:e,className:t,...n})=>{const r=(0,E.wW)(Ls);return a.createElement("div",{className:(0,d.cx)(r.container,t),...n},e," ",a.createElement(Ee,{inline:!0}))},Ls=e=>({container:(0,d.css)({marginBottom:e.spacing(4)})}),Ps=e=>{const{loading:t,error:n,dependency:r}=Ms(S.e(2462).then(S.bind(S,16834)));if(t)return a.createElement(Fs,{text:""});if(n)return a.createElement(gn,{title:"React Monaco Editor failed to load",error:n,errorInfo:{componentStack:n?.stack||""}});const s=r.ReactMonacoEditor;return a.createElement(s,{...e})};var pe=(e=>(e.Method="method",e.Field="field",e.Property="property",e.Constant="constant",e.Text="text",e))(pe||{});function Vs(e){for(let t=e.length-1;t>0;t--){const n=e.charAt(t);if(n==="$")return{index:t,prefix:e.substring(t)};if(n===" "||n==="	"||n==='"'||n==="'")return{index:t+1,prefix:e.substring(t+1)}}return{index:0,prefix:e}}function hn(e,t,n,r){const s=[];for(const o of n)t&&!o.label.startsWith(t)||s.push({...o,kind:Os(e,o.kind),range:r,insertText:o.insertText??o.label});return s}function Os(e,t){switch(t){case pe.Method:return e.languages.CompletionItemKind.Method;case pe.Field:return e.languages.CompletionItemKind.Field;case pe.Property:return e.languages.CompletionItemKind.Property;case pe.Constant:return e.languages.CompletionItemKind.Constant;case pe.Text:return e.languages.CompletionItemKind.Text}return e.languages.CompletionItemKind.Text}function yn(e,t,n,r){if(!(!t||!n))return e.languages.registerCompletionItemProvider(t,{triggerCharacters:["$"],provideCompletionItems:(s,o,i)=>{if(s.id!==r)return;const l={startLineNumber:o.lineNumber,endLineNumber:o.lineNumber,startColumn:o.column,endColumn:o.column};if(i.triggerCharacter==="$")return l.startColumn=o.column-1,{suggestions:hn(e,"$",n(),l)};const c=s.getValueInRange({startLineNumber:o.lineNumber,startColumn:1,endLineNumber:o.lineNumber,endColumn:o.column}),{index:u,prefix:p}=Vs(c);l.startColumn=u+1;const m=hn(e,p,n(),l);if(m.length)return{suggestions:m}}})}class Bs extends a.PureComponent{constructor(t){super(t),this.loadCustomLanguage=()=>{const{language:n}=this.props,r=Is.F.getIfExists(n);return r?r.init():Promise.resolve()},this.getEditorValue=()=>"",this.onBlur=()=>{const{onBlur:n}=this.props;n&&n(this.getEditorValue())},this.onFocus=()=>{const{onFocus:n}=this.props;n&&n(this.getEditorValue())},this.onSave=()=>{const{onSave:n}=this.props;n&&n(this.getEditorValue())},this.handleBeforeMount=n=>{this.monaco=n;const{onBeforeEditorMount:r}=this.props;r?.(n)},this.handleOnMount=(n,r)=>{const{getSuggestions:s,language:o,onChange:i,onEditorDidMount:l}=this.props;this.modelId=n.getModel()?.id,this.getEditorValue=()=>n.getValue(),s&&this.modelId&&(this.completionCancel=yn(r,o,s,this.modelId)),n.onKeyDown(u=>{u.keyCode===r.KeyCode.KeyS&&(u.ctrlKey||u.metaKey)&&(u.preventDefault(),this.onSave())});const c=this.loadCustomLanguage();i&&n.getModel()?.onDidChangeContent(()=>i(n.getValue())),l&&c.then(()=>l(n,r))}}componentWillUnmount(){this.completionCancel&&this.completionCancel.dispose(),this.props.onEditorWillUnmount?.()}componentDidUpdate(t){const{getSuggestions:n,language:r}=this.props,s=t.language!==r;if(t.getSuggestions!==n||s){if(this.completionCancel&&this.completionCancel.dispose(),!this.monaco){console.warn("Monaco instance not loaded yet");return}n&&this.modelId&&(this.completionCancel=yn(this.monaco,r,n,this.modelId))}s&&this.loadCustomLanguage()}render(){const{theme:t,language:n,width:r,height:s,showMiniMap:o,showLineNumbers:i,readOnly:l,monacoOptions:c}=this.props,{alwaysConsumeMouseWheel:u,...p}=c??{},m=this.props.value??"",f=m.length>100,h=this.props.containerStyles??Ws(t).container,x={wordWrap:"off",tabSize:2,codeLens:!1,contextmenu:!1,minimap:{enabled:f&&o,renderCharacters:!1},readOnly:l,lineNumbersMinChars:4,lineDecorationsWidth:1*t.spacing.gridSize,overviewRulerBorder:!1,automaticLayout:!0,padding:{top:.5*t.spacing.gridSize,bottom:.5*t.spacing.gridSize},fixedOverflowWidgets:!0,scrollbar:{alwaysConsumeMouseWheel:u??!1}};return i||(x.glyphMargin=!1,x.folding=!1,x.lineNumbers="off",x.lineNumbersMinChars=0),a.createElement("div",{className:h,onFocus:this.onFocus,onBlur:this.onBlur,"data-testid":Ce.wl.components.CodeEditor.container},a.createElement(Ps,{width:r,height:s,language:n,value:m,options:{...x,...p??{}},beforeMount:this.handleBeforeMount,onMount:this.handleOnMount,keepCurrentModel:!0}))}}const bn=(0,E.HE)(Bs),Ws=e=>({container:(0,d.css)({borderRadius:e.shape.radius.default,border:`1px solid ${e.components.input.borderColor}`})}),Hs=({onChange:e,query:t})=>{const n=r=>{e({...t,csvContent:r})};return a.createElement(bn,{height:300,language:"csv",value:t.csvContent??"",onBlur:n,onSave:n,showMiniMap:!1,showLineNumbers:!0})},Ds=({onChange:e,query:t})=>{const n=({value:s})=>{e({...t,csvFileName:s})},r=["flight_info_by_state.csv","population_by_state.csv","gdp_per_capita.csv","js_libraries.csv","ohlc_dogecoin.csv","weight_height.csv","browser_marketshare.csv","automobiles.csv"].map(s=>({label:s,value:s}));return a.createElement($,null,a.createElement(k,{label:"File",labelWidth:14},a.createElement(j,{width:32,onChange:n,placeholder:"Select csv file",options:r,value:r.find(s=>s.value===t.csvFileName)})))},vc=null,Sc=null,Be=a.forwardRef(({variant:e="primary",size:t="md",fill:n="solid",icon:r,fullWidth:s,children:o,className:i,type:l="button",tooltip:c,tooltipPlacement:u,...p},m)=>{const f=(0,E.l4)(),h=Sn({theme:f,size:t,variant:e,fill:n,fullWidth:s,iconOnly:!o}),x=a.createElement("button",{className:(0,d.cx)(h.button,i),type:l,...p,ref:c?void 0:m},r&&a.createElement(D,{name:r,size:t,className:h.icon}),o&&a.createElement("span",{className:h.content},o));return c?a.createElement(de,{ref:m,content:c,placement:u},x):x});Be.displayName="Button";const vn=a.forwardRef(({variant:e="primary",size:t="md",fill:n="solid",icon:r,fullWidth:s,children:o,className:i,onBlur:l,onFocus:c,disabled:u,tooltip:p,tooltipPlacement:m,...f},h)=>{const x=(0,E.l4)(),y=Sn({theme:x,fullWidth:s,size:t,variant:e,fill:n,iconOnly:!o}),v=(0,d.cx)(y.button,{[(0,d.css)(y.disabled,{pointerEvents:"none"})]:u},i),C=a.createElement("a",{className:v,...f,tabIndex:u?-1:0,"aria-disabled":u,ref:p?void 0:h},r&&a.createElement(D,{name:r,size:t,className:y.icon}),o&&a.createElement("span",{className:y.content},o));return p?a.createElement(de,{ref:h,content:p,placement:m},C):C});vn.displayName="LinkButton";const Sn=e=>{const{theme:t,variant:n,fill:r="solid",size:s,iconOnly:o,fullWidth:i}=e,{height:l,padding:c,fontSize:u}=_r(s,t),p=$s(t,n,r),m=_s(t,n,r),f=Te(t),h=t.spacing.gridSize*c-1;return{button:(0,d.css)({label:"button",display:"inline-flex",alignItems:"center",fontSize:u,fontWeight:t.typography.fontWeightMedium,fontFamily:t.typography.fontFamily,padding:`0 ${h}px`,height:t.spacing(l),lineHeight:`${t.spacing.gridSize*l-2}px`,verticalAlign:"middle",cursor:"pointer",borderRadius:t.shape.radius.default,"&:focus":f,"&:focus-visible":f,"&:focus:not(:focus-visible)":st(t),...i&&{flexGrow:1,justifyContent:"center"},...p,":disabled":m,"&[disabled]":m}),disabled:(0,d.css)(m),img:(0,d.css)({width:"16px",height:"16px",margin:t.spacing(0,1,0,.5)}),icon:o?(0,d.css)({marginRight:t.spacing(-c/2),marginLeft:t.spacing(-c/2)}):(0,d.css)({marginRight:t.spacing(c/2)}),content:(0,d.css)({display:"flex",flexDirection:"row",alignItems:"center",whiteSpace:"nowrap",overflow:"hidden",height:"100%"})}};function We(e,t,n){let r=t.border,s="transparent",o="transparent";return t.name==="secondary"&&(s=t.border,o=e.colors.emphasize(t.border,.25),r=e.colors.border.strong),n==="outline"?{background:"transparent",color:t.text,border:`1px solid ${r}`,transition:e.transitions.create(["background-color","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{background:t.transparent,borderColor:e.colors.emphasize(r,.25),color:t.text}}:n==="text"?{background:"transparent",color:t.text,border:"1px solid transparent",transition:e.transitions.create(["background-color","color"],{duration:e.transitions.duration.short}),"&:focus":{outline:"none",textDecoration:"none"},"&:hover":{background:t.transparent,textDecoration:"none"}}:{background:t.main,color:t.contrastText,border:`1px solid ${s}`,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{background:t.shade,color:t.contrastText,boxShadow:e.shadows.z1,borderColor:o}}}function _s(e,t,n){const r={cursor:"not-allowed",boxShadow:"none",color:e.colors.text.disabled,transition:"none"};return n==="text"?{...r,background:"transparent",border:"1px solid transparent"}:n==="outline"?{...r,background:"transparent",border:`1px solid ${e.colors.border.weak}`}:{...r,background:e.colors.action.disabledBackground,border:"1px solid transparent"}}function $s(e,t,n){switch(t){case"secondary":return We(e,e.colors.secondary,n);case"destructive":return We(e,e.colors.error,n);case"success":return We(e,e.colors.success,n);case"primary":default:return We(e,e.colors.primary,n)}}const xc=e=>css({background:"transparent",color:e.colors.text.primary,border:"none",padding:0}),Cc=e=>css({background:"transparent",border:"none",padding:0,fontFamily:"inherit",color:"inherit",height:"100%","&:hover":{background:"transparent",color:"inherit"}});var I=S(58922);const zs={timeStep:60,onCount:3,onValue:2,offCount:3,offValue:1},me=[{timeStep:60,valuesCSV:"0,0,2,2,1,1"}],Us={scenarioId:I.UV.RandomWalk,refId:""},Ks=e=>{const{wave:t,last:n,index:r,onAdd:s,onChange:o}=e,[i,l]=(0,a.useState)(t.valuesCSV||""),[c,u]=(0,a.useState)(t.labels||""),[p,m]=(0,a.useState)(t.name||""),f=()=>{n?s():o(r,void 0)},h=(y,v)=>{o(r,{...t,[y]:v})},x=y=>{y.key==="Enter"&&h("valuesCSV",i)};return a.createElement($,null,a.createElement(k,{label:"Values",grow:!0,tooltip:"Comma separated values. Each value may be an int, float, or null and must not be empty. Whitespace and trailing commas are removed"},a.createElement(V,{value:i,placeholder:"CSV values",onChange:y=>l(y.currentTarget.value),autoFocus:!0,onBlur:()=>h("valuesCSV",i),onKeyDown:x})),a.createElement(k,{label:"Step",tooltip:"The number of seconds between datapoints."},a.createElement(V,{value:t.timeStep,type:"number",placeholder:"60",width:10,onChange:y=>h("timeStep",y.currentTarget.valueAsNumber)})),a.createElement(k,{label:"Name"},a.createElement(V,{value:p,placeholder:"name",width:10,onChange:y=>m(y.currentTarget.value),onBlur:()=>h("name",p)})),a.createElement(k,{label:"Labels"},a.createElement(V,{value:c,placeholder:"labels",width:12,onChange:y=>u(y.currentTarget.value),onBlur:()=>h("labels",c)})),a.createElement(Be,{icon:n?"plus":"minus",variant:"secondary",onClick:f}))};class Gs extends a.PureComponent{constructor(){super(...arguments),this.onChange=(t,n)=>{let r=[...this.props.waves??me];n?r[t]={...n}:r.splice(t,1),this.props.onChange(r)},this.onAdd=()=>{const t=[...this.props.waves??me];t.push({...me[0]}),this.props.onChange(t)}}render(){let t=this.props.waves??me;return t.length||(t=me),a.createElement(a.Fragment,null,t.map((n,r)=>a.createElement(Ks,{key:`${r}/${n.valuesCSV}`,wave:n,index:r,onAdd:this.onAdd,onChange:this.onChange,last:r===t.length-1})))}}const js=[{label:"Server panic",value:"server_panic"},{label:"Frontend exception",value:"frontend_exception"},{label:"Frontend observable",value:"frontend_observable"}],Qs=({query:e,onChange:t})=>a.createElement($,null,a.createElement(k,{labelWidth:14,label:"Error type"},a.createElement(j,{options:js,value:e.errorType,onChange:n=>{t({...e,errorType:n.value})}}))),xn=[{label:"random-2s-stream",value:"random-2s-stream",description:"Random stream with points every 2s"},{label:"random-flakey-stream",value:"random-flakey-stream",description:"Stream that returns data in random intervals"},{label:"random-labeled-stream",value:"random-labeled-stream",description:"Value with moving labels"},{label:"random-20Hz-stream",value:"random-20Hz-stream",description:"Random stream with points in 20Hz"}],Zs=({onChange:e,query:t})=>{const n=({value:r})=>{e({...t,channel:r})};return a.createElement($,null,a.createElement(k,{label:"Channel",labelWidth:14},a.createElement(j,{width:32,onChange:n,placeholder:"Select channel",options:xn,value:xn.find(r=>r.value===t.channel)})))};function Js({query:e,onChange:t}){const n=e.nodes?.type||"random";return a.createElement($,null,a.createElement(k,{label:"Data type",labelWidth:14},a.createElement(j,{options:Cn.map(r=>({label:r,value:r})),value:Cn.find(r=>r===n),onChange:r=>t({...e.nodes,type:r.value}),width:32})),(n==="random"||n==="random edges")&&a.createElement(k,{label:"Count",labelWidth:14},a.createElement(V,{type:"number",name:"count",value:e.nodes?.count,width:32,onChange:r=>t({...e.nodes,count:r.currentTarget.value?parseInt(r.currentTarget.value,10):0}),placeholder:"10"})))}const Cn=["random","response","random edges"],Ys=[{label:"Step",id:"timeStep",placeholder:"60",tooltip:"The number of seconds between datapoints."},{label:"On Count",id:"onCount",placeholder:"3",tooltip:"The number of values within a cycle, at the start of the cycle, that should have the onValue."},{label:"Off Count",id:"offCount",placeholder:"6",tooltip:"The number of offValues within the cycle."},{label:"On Value",id:"onValue",placeholder:"1",tooltip:'The value for "on values", may be an int, float, or null.'},{label:"Off Value",id:"offValue",placeholder:"1",tooltip:'The value for "off values", may be a int, float, or null.'}],Xs=({onChange:e,query:t})=>{const n=r=>{const{name:s,value:o}=r.target;e({target:{name:s,value:Number(o)}})};return a.createElement($,null,Ys.map(({label:r,id:s,placeholder:o,tooltip:i})=>a.createElement(k,{label:r,labelWidth:14,key:s,tooltip:i},a.createElement(V,{width:32,type:"number",name:s,id:`pulseWave.${s}-${t.refId}`,value:t.pulseWave?.[s],placeholder:o,onChange:n}))))};var qs=S(55104),ut=S.n(qs);const Ec=ut().ISO_8601,eo=e=>{moment.locale(e)},to=()=>moment.locale(),Tc=()=>moment.localeData(),wn=e=>e===null||typeof e=="string"||typeof e=="number"||e instanceof Date||Array.isArray(e)&&e.every(t=>typeof t=="string"||typeof t=="number")||dt(e),dt=e=>ut().isMoment(e),no=(e,t)=>moment.utc(e,t),Nc=(e,t)=>moment.duration(e,t),He=(e,t)=>ut()(e,t),kc=e=>He(e),Ic=(e,t,n)=>{if(e==="utc")return no(t,n);if(e&&e!=="browser"){let r;if(typeof t=="string"&&n?r=moment.tz(t,n,e):r=moment.tz(t,e),dt(r))return r}return He(t,n)},Ac=e=>moment.weekdays().findIndex(t=>t.toLowerCase()===e.toLowerCase()),ro=e=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].findIndex(t=>t.toLowerCase()===e.toLowerCase()),Mc=e=>{const t="-weekStart",n=to().replace(t,""),r=e?ro(e):-1;r!==-1?moment.locale(n+t,{parentLocale:n,week:{dow:r}}):eo(n)};var g=(e=>(e.time="time",e.number="number",e.string="string",e.boolean="boolean",e.trace="trace",e.geo="geo",e.enum="enum",e.other="other",e.frame="frame",e.nestedFrames="nestedFrames",e))(g||{});const X="Value",pt="Time",Rc="Metric",so=(e,t=!1)=>{const n=e.values;switch(e.type){case g.number:return lo(n,t);case g.string:return co(n,t);case g.boolean:return io(n,t);case g.time:return typeof e.values[0]=="number"?oo(n,t):ao(n,t);default:return uo(t)}},En=(e,t)=>{if(!e||!t)return mt(e,t);if((0,W.isNumber)(e)&&(0,W.isNumber)(t))return Ne(e,t);if(wn(e)&&wn(t)){if(He(e).isBefore(t))return-1;if(He(t).isBefore(e))return 1}return 0},Ne=(e,t)=>e-t,Tn=(e,t)=>!e||!t?mt(e,t):e.localeCompare(t),Nn=(e,t)=>mt(e,t),mt=(e,t)=>!e&&t?1:e&&!t?-1:0,oo=(e,t)=>{let n=t?-1:1;return(r,s)=>n*(e[r]-e[s])},ao=(e,t)=>(n,r)=>{const s=e[n],o=e[r];return t?En(o,s):En(s,o)},io=(e,t)=>(n,r)=>{const s=e[n],o=e[r];return t?Nn(o,s):Nn(s,o)},lo=(e,t)=>(n,r)=>{const s=e[n],o=e[r];return t?Ne(o,s):Ne(s,o)},co=(e,t)=>(n,r)=>{const s=e[n],o=e[r];return t?Tn(o,s):Tn(s,o)},uo=e=>(t,n)=>e?Ne(n,t):Ne(t,n);class ft{constructor(t,n){return this.fields=[],this.length=0,kn(t,n)}}function kn(e,t){const n={fields:[],length:e.length};if(!e?.length)return n;if(t){for(const s of t)n.fields.push(gt(s,e.map(o=>o[s])));return n}const r=e.find(s=>s!=null);return r!=null&&(typeof r=="object"?n.fields=Object.keys(r).map(s=>gt(s,e.map(o=>o[s]))):n.fields.push(gt(X,e))),n}function gt(e,t){const n={name:e,config:{},values:t,type:g.other};return n.type=ke(n)??g.other,n}const po={Inf:1/0,NegInf:-1/0,Undef:void 0,NaN:NaN};function In(e,t){for(const n in e){const r=po[n];for(const s of e[n])s<t.length&&(t[s]=r)}}function mo(e,t){for(let n=0;n<t.length;n++)t[n]=e[Number(t[n])]}function fo(e,t){for(const n of t)if(n!=null)return Co(e,n);return g.other}function go(e){const{schema:t,data:n}=e;if(!t||!t.fields)throw new Error("JSON needs a fields definition");const r=n?n.values.reduce((o,i)=>Math.max(o,i.length),0):0,s=t.fields.map((o,i)=>{let l=n?n.values[i]:[],c=l.length,u=o.type;c!==r&&(l.length=r,l.fill(void 0,c));let p=n?.entities?.[i];p&&In(p,l);let m=n?.enums?.[i];m&&(mo(m,l),u=g.string);const f=n?.nanos?.[i],h={...o,type:u??fo(o.name,l),config:o.config??{},values:l,entities:p??{}};return f!=null&&(h.nanos=f),h});return{...t,fields:s,length:r}}function ho(e){const t={values:[]},n=[];let r=!1;const s={refId:e.refId,meta:e.meta,name:e.name,fields:e.fields.map(o=>{const{values:i,nanos:l,state:c,display:u,...p}=o;return"entities"in p&&delete p.entities,t.values.push(i),l!=null?(n.push(l),r=!0):n.push(null),p})};return r&&(t.nanos=n),{schema:s,data:t}}function yo(e){const t=e.columns.map(n=>{const{text:r,type:s,...o}=n,i=[];return{name:r?.length?r:n,config:o||{},values:i,type:s&&Object.values(g).includes(s)?s:g.other}});if(!(0,W.isArray)(e.rows))throw new Error(`Expected table rows to be array, got ${typeof e.rows}.`);for(const n of e.rows)for(let r=0;r<t.length;r++)t[r].values.push(n[r]);for(const n of t)if(n.type===g.other){const r=ke(n);r&&(n.type=r)}return{fields:t,refId:e.refId,meta:e.meta,name:e.name,length:e.rows.length}}function bo(e){const t=[],n=[],r=e.datapoints||e.points;for(const o of r)n.push(o[0]),t.push(o[1]);const s=[{name:pt,type:g.time,config:{},values:t},{name:X,type:g.number,config:{unit:e.unit},values:n,labels:e.tags}];return e.title&&(s[1].config.displayNameFromDS=e.title),{name:e.target||e.name,refId:e.refId,meta:e.meta,fields:s,length:n.length}}function vo(e){const t=[],n=[];for(let r=0;r<e.data.length;r++){const s=e.data[r];t.push(s[1]),n.push(s[0])}return{name:e.label,fields:[{name:e.label||X,type:g.number,config:{},values:t},{name:pt,type:g.time,config:{unit:"dateTimeAsIso"},values:n}],length:t.length}}function So(e){const t=[{name:e.target,type:g.other,labels:e.tags,config:{unit:e.unit,filterable:e.filterable},values:[]}];for(const n of e.datapoints)t[0].values.push(n);return{name:e.target,refId:e.target,meta:{json:!0},fields:t,length:e.datapoints.length}}const xo=/^\s*(-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?|NAN)\s*$/i;function Co(e,t){return e&&(e=e.toLowerCase(),e==="date"||e==="time")?g.time:Q(t)}function Fc(e){return e instanceof Date||isDateTime(e)?FieldType.time:isNumber(e)?FieldType.number:isString(e)?FieldType.string:isBoolean(e)?FieldType.boolean:FieldType.other}function Q(e){return e instanceof Date||dt(e)?g.time:(0,W.isNumber)(e)?g.number:(0,W.isString)(e)?xo.test(e)?g.number:e==="true"||e==="TRUE"||e==="True"||e==="false"||e==="FALSE"||e==="False"?g.boolean:g.string:(0,W.isBoolean)(e)?g.boolean:g.other}function ke(e){if(e.name){const t=e.name.toLowerCase();if(t==="date"||t==="time")return g.time}for(let t=0;t<e.values.length;t++){const n=e.values[t];if(n!=null)return Q(n)}}const wo=(e,t=!1)=>{for(const n of e.fields)if(!n.type||n.type===FieldType.other||t)return{...e,fields:e.fields.map(r=>r.type&&r.type!==FieldType.other&&!t?r:{...r,type:ke(r)||FieldType.other})};return e},Lc=e=>!!(e&&e.hasOwnProperty("columns")),Eo=e=>!!(e&&e.hasOwnProperty("fields")),Pc=e=>!!(Eo(e)&&e.hasOwnProperty("value"));function ht(e){if("fields"in e)return"length"in e&&e.fields[0]?.values?.get?e:ko(e);if(e.hasOwnProperty("type")&&e.type==="docs")return So(e);if(e.hasOwnProperty("datapoints")||e.hasOwnProperty("points"))return bo(e);if(e.hasOwnProperty("data"))return e.hasOwnProperty("schema")?go(e):vo(e);if(e.hasOwnProperty("columns"))return yo(e);if(Array.isArray(e))return kn(e);throw console.warn("Can not convert",e),new Error("Unsupported data format")}const Vc=e=>{const{fields:t}=e,n=e.length,r=[];if(t.length===2){const{timeField:s,timeIndex:o}=Rn(e);if(s){const l=t[o===0?1:0],c=t[o];for(let u=0;u<n;u++)r.push([l.values[u],c.values[u]]);return{alias:e.name,target:getFieldDisplayName(l,e),datapoints:r,unit:t[0].config?t[0].config.unit:void 0,refId:e.refId,meta:e.meta}}}for(let s=0;s<n;s++){const o=[];for(let i=0;i<t.length;i++)o.push(t[i].values[s]);r.push(o)}return e.meta&&e.meta.json?{alias:t[0].name||e.name,target:t[0].name||e.name,datapoints:t[0].values,filterable:t[0].config?t[0].config.filterable:void 0,type:"docs"}:{columns:t.map(s=>{const{name:o,config:i}=s;if(i){const{...l}=i;return l.text=o,l}return{text:o}}),type:"table",refId:e.refId,meta:e.meta,rows:r}};function To(e,t,n=!1){const r=e.fields[t];if(!r)return e;const s=[];for(let i=0;i<e.length;i++)s.push(i);const o=so(r,n);return s.sort(o),{...e,fields:e.fields.map(i=>{const l={...i,values:i.values.map((u,p)=>i.values[s[p]])},{nanos:c}=i;return c!==void 0&&(l.nanos=c.map((u,p)=>c[s[p]])),l})}}function Oc(e){return{...e,fields:e.fields.map(t=>{const n=[...t.values];n.reverse();const r={...t,values:n},{nanos:s}=t;if(s!==void 0){const o=[...s];o.reverse(),r.nanos=o}return r})}}function Bc(e,t){const n=[];for(const r of e.fields)n.push(r.values[t]);return n}function An(e){return Mn(e)}function Mn(e,t){return{fields:(t?e.fields.filter(t):e.fields).map(s=>{let o=s.values;return{name:s.name,type:s.type,config:s.config,values:o,labels:s.labels}}),refId:e.refId,meta:e.meta,name:e.name}}const Rn=e=>{for(let t=0;t<e.fields.length;t++)if(e.fields[t].type===g.time)return{timeField:e.fields[t],timeIndex:t};return{}};function Fn(e){const t=wo(ht(e));if(t.fields&&t.fields.length)for(const n of t.fields)n.state=null;return t}function No(e){return!e||!isArray(e)?[]:e.map(t=>Fn(t))}function Wc(e,t){const{series:n,annotations:r}=e;if(e.state===LoadingState.Loading&&n.length===0)return t||(t=e),{...t,state:LoadingState.Loading,request:e.request};const s=performance.now(),o=n.map(c=>Fn(c)),i=No(r),l=performance.now();return{...e,series:o,annotations:i,timings:{dataProcessingTime:l-s}}}function ko(e){let t=0;const n=e.fields.map((r,s)=>{const{state:o,...i}=r;return i.name||(i.name=`Field ${s+1}`),i.config||(i.config={}),i.values?i.values.length>t&&(t=i.values.length):i.values=new Array(t),i.type||(i.type=ke(i)??g.other),i});return{...e,fields:n,length:t}}var Io=S(43071);const Ie=(0,a.forwardRef)((e,t)=>{const{children:n,margin:r,marginX:s,marginY:o,marginTop:i,marginBottom:l,marginLeft:c,marginRight:u,padding:p,paddingX:m,paddingY:f,paddingTop:h,paddingBottom:x,paddingLeft:y,paddingRight:v,display:C,backgroundColor:T,grow:L,shrink:w,basis:P,flex:R,borderColor:O,borderStyle:z,borderRadius:F,justifyContent:ie,alignItems:Z,boxShadow:b,element:Vt,gap:Me,...Ot}=e,Bt=(0,E.wW)(Ro,r,s,o,i,l,c,u,p,m,f,h,x,y,v,C,T,L,w,P,R,O,z,F,ie,Z,b,Me),he=Vt??"div";return a.createElement(he,{ref:t,className:Bt.root,...Ot},n)});Ie.displayName="Box";const Ao=(e,t)=>{switch(e){case"error":case"success":case"info":case"warning":return t.colors[e].borderTransparent;default:return e?t.colors.border[e]:void 0}},Mo=(e,t)=>{switch(e){case"error":case"success":case"info":case"warning":return t.colors[e].transparent;default:return e?t.colors.background[e]:void 0}},Ro=(e,t,n,r,s,o,i,l,c,u,p,m,f,h,x,y,v,C,T,L,w,P,R,O,z,F,ie,Z)=>({root:(0,d.css)([N(e,t,b=>({margin:e.spacing(b)})),N(e,n,b=>({marginLeft:e.spacing(b),marginRight:e.spacing(b)})),N(e,r,b=>({marginTop:e.spacing(b),marginBottom:e.spacing(b)})),N(e,s,b=>({marginTop:e.spacing(b)})),N(e,o,b=>({marginBottom:e.spacing(b)})),N(e,i,b=>({marginLeft:e.spacing(b)})),N(e,l,b=>({marginRight:e.spacing(b)})),N(e,c,b=>({padding:e.spacing(b)})),N(e,u,b=>({paddingLeft:e.spacing(b),paddingRight:e.spacing(b)})),N(e,p,b=>({paddingTop:e.spacing(b),paddingBottom:e.spacing(b)})),N(e,m,b=>({paddingTop:e.spacing(b)})),N(e,f,b=>({paddingBottom:e.spacing(b)})),N(e,h,b=>({paddingLeft:e.spacing(b)})),N(e,x,b=>({paddingRight:e.spacing(b)})),N(e,y,b=>({display:b})),N(e,v,b=>({backgroundColor:Mo(b,e)})),N(e,C,b=>({flexGrow:b})),N(e,T,b=>({flexShrink:b})),N(e,L,b=>({flexBasis:b})),N(e,w,b=>({flex:b})),N(e,R,b=>({borderStyle:b})),N(e,P,b=>({borderColor:Ao(b,e)})),(R||P)&&{borderWidth:"1px"},N(e,z,b=>({justifyContent:b})),N(e,F,b=>({alignItems:b})),N(e,O,b=>({borderRadius:e.shape.radius[b]})),N(e,ie,b=>({boxShadow:e.shadows[b]})),N(e,Z,b=>({gap:e.spacing(b)}))])});var Fo=S(16925);const Ln=a.forwardRef(({childElement:e,children:t},n)=>{const[r,s]=(0,a.useState)(!1),o=(0,a.useRef)(null);(0,a.useImperativeHandle)(n,()=>o.current);const i=(0,a.useMemo)(()=>new ResizeObserver(c=>{for(const u of c)u.target.clientWidth&&u.target.scrollWidth&&(u.target.scrollWidth>u.target.clientWidth&&s(!0),u.target.scrollWidth<=u.target.clientWidth&&s(!1))}),[]);(0,a.useEffect)(()=>{const{current:c}=o;return c&&i.observe(c),()=>{i.disconnect()}},[s,i]);const l=c=>typeof c=="string"?c:Fo.renderToStaticMarkup(a.createElement(a.Fragment,null,c)).replace(/(<([^>]+)>)/gi,"");return r?a.createElement(de,{ref:o,content:l(t)},e(void 0)):e(o)});Ln.displayName="TruncatedText";const Lo=(e,t)=>{switch(e){case"bold":return t.typography.fontWeightBold;case"medium":return t.typography.fontWeightMedium;case"light":return t.typography.fontWeightLight;case"regular":case void 0:return t.typography.fontWeightRegular}},Po=(e,t)=>{switch(e){case"error":return t.colors.error.text;case"success":return t.colors.success.text;case"info":return t.colors.info.text;case"warning":return t.colors.warning.text;default:return e?t.colors.text[e]:void 0}},Vo=(e,t,n)=>{if(n)return e.typography[n];switch(t){case"span":return;case"h1":return e.typography.h1;case"h2":return e.typography.h2;case"h3":return e.typography.h3;case"h4":return e.typography.h4;case"h5":return e.typography.h5;case"h6":return e.typography.h6;default:return e.typography.body}},Pn=a.forwardRef(({element:e="span",variant:t,weight:n,color:r,truncate:s,italic:o,textAlignment:i,children:l,...c},u)=>{const p=(0,E.wW)(Oo,e,t,r,n,s,o,i),m=f=>(0,a.createElement)(e,{...c,style:void 0,className:p,ref:f},l);return!s||e==="span"?m(void 0):a.createElement(Ln,{childElement:m,children:l,ref:u})});Pn.displayName="Text";const Oo=(e,t,n,r,s,o,i,l)=>(0,d.css)([{margin:0,padding:0,...Vo(e,t,n)},n&&{...e.typography[n]},r&&{color:Po(r,e)},s&&{fontWeight:Lo(s,e)},o&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i&&{fontStyle:"italic"},l&&{textAlign:l}]),yt=a.forwardRef(({title:e,onRemove:t,children:n,buttonContent:r,elevated:s,bottomSpacing:o,topSpacing:i,className:l,severity:c="error",...u},p)=>{const m=(0,E.l4)(),h=Wo(m,c,!!e,s,o,i),x={error:"alert",warning:"alert",info:"status",success:"status"},y=u.role||x[c],v=u["aria-label"]||e;return a.createElement("div",{ref:p,className:(0,d.cx)(h.wrapper,l),"data-testid":Ce.wl.components.Alert.alertV2(c),role:y,"aria-label":v,...u},a.createElement(Ie,{display:"flex",backgroundColor:c,borderRadius:"default",paddingY:1,paddingX:2,borderStyle:"solid",borderColor:c,alignItems:"stretch",boxShadow:s?"z3":void 0},a.createElement(Ie,{paddingTop:1,paddingRight:2},a.createElement("div",{className:h.icon},a.createElement(D,{size:"xl",name:Bo(c)}))),a.createElement(Ie,{paddingY:1,grow:1},a.createElement(Pn,{weight:"medium"},e),n&&a.createElement("div",{className:h.content},n)),t&&!r&&a.createElement("div",{className:h.close},a.createElement(Be,{"aria-label":"Close alert",icon:"times",onClick:t,type:"button",fill:"text",variant:"secondary"})),t&&r&&a.createElement(Ie,{marginLeft:1,display:"flex",alignItems:"center"},a.createElement(Be,{"aria-label":"Close alert",variant:"secondary",onClick:t,type:"button"},r))))});yt.displayName="Alert";const Bo=e=>{switch(e){case"error":return"exclamation-circle";case"warning":return"exclamation-triangle";case"info":return"info-circle";case"success":return"check"}},Wo=(e,t,n,r,s,o)=>{const i=e.colors[t];return{wrapper:(0,d.css)({flexGrow:1,marginBottom:e.spacing(s??2),marginTop:e.spacing(o??0),position:"relative","&:before":{content:'""',position:"absolute",top:0,left:0,bottom:0,right:0,background:e.colors.background.primary,zIndex:-1}}),icon:(0,d.css)({color:i.text}),content:(0,d.css)({paddingTop:n?e.spacing(.5):0,maxHeight:"50vh",overflowY:"auto"}),close:(0,d.css)({position:"relative",color:e.colors.text.secondary,background:"none",display:"flex",top:"-6px",right:"-14px"})}},Ho=({onChange:e,query:t})=>{const[n,r]=(0,a.useState)(),[s,o]=(0,a.useState)(),i=l=>{try{const c=JSON.parse(l);if((0,W.isArray)(c)){r(void 0),o(void 0),e({...t,rawFrameContent:l});return}let u;if((0,W.isArray)(c.series)&&c.state)u=c.series.map(p=>An(ht(p)));else{const p=(0,Io.z1)({data:c});p.data?.length&&!p.error&&(u=p.data.map(m=>ho(m)))}if(u){console.log("Original",c),console.log("Save",u),r(void 0),o("Converted to direct frame result"),e({...t,rawFrameContent:JSON.stringify(u,null,2)});return}r("Unable to read dataframes in text")}catch(c){console.log("Error parsing json",c),r("Enter JSON array of data frames (or raw query results body)"),o(void 0)}};return a.createElement(a.Fragment,null,n&&a.createElement(yt,{title:n,severity:"error"}),s&&a.createElement(yt,{title:s,severity:"warning"}),a.createElement(bn,{height:300,language:"json",value:t.rawFrameContent??"[]",onBlur:i,onSave:i,showMiniMap:!0,showLineNumbers:!0}))},Do=({children:e,description:t,className:n,category:r,...s})=>{const o=(0,E.wW)(_o),i=r?.map((l,c)=>a.createElement("span",{className:o.categories,key:`${l}/${c}`},a.createElement("span",null,l),a.createElement(D,{name:"angle-right",className:o.chevron})));return a.createElement("div",{className:(0,d.cx)(o.label,n)},a.createElement("label",{...s},a.createElement("div",{className:o.labelContent},i,e),t&&a.createElement("span",{className:o.description},t)))},_o=e=>({label:(0,d.css)({label:"Label",fontSize:e.typography.size.sm,fontWeight:e.typography.fontWeightMedium,lineHeight:1.25,marginBottom:e.spacing(.5),color:e.colors.text.primary,maxWidth:"480px"}),labelContent:(0,d.css)({display:"flex",alignItems:"center"}),description:(0,d.css)({label:"Label-description",color:e.colors.text.secondary,fontSize:e.typography.size.sm,fontWeight:e.typography.fontWeightRegular,marginTop:e.spacing(.25),display:"block"}),categories:(0,d.css)({label:"Label-categories",display:"inline-flex",alignItems:"center"}),chevron:(0,d.css)({margin:e.spacing(0,.25)})}),$o=e=>({legend:(0,d.css)({fontSize:e.typography.h3.fontSize,fontWeight:e.typography.fontWeightRegular,margin:e.spacing(0,0,2,0)})}),zo=({children:e,className:t,...n})=>{const r=(0,E.wW)($o);return a.createElement("legend",{className:(0,d.cx)(r.legend,t),...n},e)},Uo=({label:e,children:t,className:n,...r})=>{const s=(0,E.wW)(Ko);return a.createElement("fieldset",{className:(0,d.cx)(s.wrapper,n),...r},e&&a.createElement(zo,null,e),t)},Ko=e=>({wrapper:(0,d.css)({marginBottom:e.spacing(4),"&:last-child":{marginBottom:0}})}),Go=(e,t,n)=>{switch(e.type){case"number":return a.createElement(V,{type:"number",defaultValue:n?.[e.name],onChange:r=>{const s=r.currentTarget.valueAsNumber;t({...n,[e.name]:s})}});case"boolean":return a.createElement(re,{value:n?.[e.name]??!0,onChange:()=>{t({...n,[e.name]:!n[e.name]})}});default:return a.createElement(V,{type:"string",value:n?.[e.name],onChange:r=>{const s=r.target.value;t({...n,[e.name]:s})}})}},jo=e=>({jsonView:(0,d.css)`
      margin-bottom: ${e.spacing(1)};
    `}),Qo=({config:e,schema:t,onChange:n})=>{const[r,s]=(0,a.useState)(!1),o=(0,E.wW)(jo),i=l=>{const c=l.currentTarget;n(JSON.parse(c.value))};return a.createElement(Uo,{label:"Config"},a.createElement(re,{className:o.jsonView,label:"JSON View",showLabel:!0,value:r,onChange:()=>s(!r)}),r?a.createElement(ct,{defaultValue:JSON.stringify(e,null,2),rows:7,onChange:i}):a.createElement(a.Fragment,null,t.fields.map(l=>a.createElement(k,{label:l.name,key:l.name,labelWidth:14},Go(l,n,e)))))},Zo=({onChange:e,query:t,ds:n})=>{const r=t.sim??{},s=r.key??{},[o,i]=(0,a.useState)({}),l=qe(async()=>{const C=await n.getResource("sims");return{sims:C,options:C.map(T=>({label:T.name,value:T.type,description:T.description}))}},[n]),c=(0,a.useMemo)(()=>{const C=s.type;return!C||!l.value?{}:{details:l.value.sims.find(T=>T.type===C),option:l.value.options.find(T=>T.value===C)}},[l.value,s?.type]);let u=qe(async()=>{let C=s.type+"/"+s.tick+"hz";s.uid&&(C+="/"+s.uid);let T=(await n.getResource("sim/"+C))?.config;return i(T.value),T},[s.type,s.tick,s.uid]);const p=C=>{e({...t,sim:{...r,key:C}})},m=C=>{const{value:T}=C.currentTarget;p({...s,uid:T??void 0})},f=C=>{const T=C.currentTarget.valueAsNumber;p({...s,tick:T})},h=C=>{p({...s,type:C.value})},x=()=>{e({...t,sim:{...r,stream:!r.stream}})},y=()=>{e({...t,sim:{...r,last:!r.last}})},v=C=>{let T=s.type+"/"+s.tick+"hz";s.uid&&(T+="/"+s.uid),n.postResource("sim/"+T,C).then(L=>{i(L.config)})};return a.createElement(a.Fragment,null,a.createElement($,null,a.createElement(k,{labelWidth:14,label:"Simulation",tooltip:""},a.createElement(j,{isLoading:l.loading,options:l.value?.options??[],value:c.option,onChange:h,width:32}))),a.createElement($,null,a.createElement(k,{labelWidth:14,label:"Stream",tooltip:"connect to the live channel"},a.createElement(re,{value:!!r.stream,onChange:x})),a.createElement(k,{label:"Interval",tooltip:"the rate a simulation will spit out events"},a.createElement(V,{width:10,type:"number",value:s.tick,onChange:f,min:1/10,max:50,suffix:"hz"})),a.createElement(k,{label:"Last",tooltip:"Only return the last value"},a.createElement(Do,null,a.createElement(re,{value:!!r.last,onChange:y}))),a.createElement(k,{label:"UID",tooltip:"A UID will allow multiple simulations to run at the same time"},a.createElement(V,{type:"text",placeholder:"optional",value:r.key.uid,onChange:m}))),a.createElement(Qo,{onChange:v,config:o??u.value,schema:c.details?.config.schema??{fields:[]}}))};function Jo({query:e,onChange:t}){return a.createElement(a.Fragment,null,a.createElement($,null,a.createElement(k,{labelWidth:14,label:"Mode"},a.createElement(j,{options:bt,onChange:n=>{t({...e,mode:n.value})},width:32,value:bt.find(n=>n.value===e.mode)})),a.createElement(k,{label:"Period"},a.createElement(V,{value:e.period,placeholder:"30m",onChange:n=>{t({...e,period:n.currentTarget.value})}}))),a.createElement($,null,a.createElement(k,{labelWidth:14,label:"Fields"},a.createElement(dn,{options:Yo,onChange:n=>{t({...e,fields:n.map(r=>r.value)})},width:32,placeholder:"all",value:e.fields})),a.createElement(k,{label:"States",grow:!0},a.createElement(dn,{options:Xo,onChange:n=>{t({...e,states:n.map(r=>r.value)})},placeholder:"all",value:e.states}))))}const bt=["values-as-rows","values-as-fields","values-as-labeled-fields","timeseries","timeseries-wide"].map(e=>({label:e,value:e})),Yo=["foo","bar","baz"].map(e=>({label:e,value:e})),Xo=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","MD","MA","MI","MN","MS","MO","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"].map(e=>({label:e,value:e}));var vt=S(1050);const qo=/\b(\w+)(!?=~?)"([^"\n]*?)"/g;function ea(e){const t={};return e.replace(qo,(n,r,s,o)=>(t[r]=o,"")),t}function Hc(e){return e.reduce((t,n)=>{if(!n)throw new Error("Need parsed labels to find common labels.");return Object.keys(n).forEach(r=>{(t[r]===void 0||t[r]!==n[r])&&delete t[r]}),Object.keys(t).forEach(r=>{n[r]===void 0&&delete t[r]}),t},{...e[0]})}function Dc(e,t){const n={...e};return Object.keys(t).forEach(r=>{delete n[r]}),n}function _c(e,t){if(!e)return!0;for(const[n,r]of Object.entries(e))if(!t||t[n]!==r)return!1;return!0}function ta(e,t="",n){if(!e||Object.keys(e).length===0)return t;const s=Object.keys(e).sort().map(o=>`${o}="${e[o]}"`).join(", ");return n?s:["{",s,"}"].join("")}var na=S(10256);class De{constructor(t){this.init=t,this.ordered=[],this.byId=new Map,this.initialized=!1,this.setInit=n=>{if(this.initialized)throw new Error("Registry already initialized");this.init=n},this.init=t}getIfExists(t){if(this.initialized||this.initialize(),t)return this.byId.get(t)}initialize(){if(this.init)for(const t of this.init())this.register(t);this.sort(),this.initialized=!0}get(t){const n=this.getIfExists(t);if(!n)throw new Error(`"${t}" not found in: ${this.list().map(r=>r.id)}`);return n}selectOptions(t,n){this.initialized||this.initialize();const r={options:[],current:[]},s={};if(t)for(const o of t)s[o]={};for(const o of this.ordered){if(o.excludeFromPicker||n&&!n(o))continue;const i={value:o.id,label:o.name,description:o.description};o.state===Se.alpha&&(i.label+=" (alpha)"),r.options.push(i),s[o.id]&&(s[o.id]=i)}return t&&(r.current=Object.values(s)),r}list(t){if(this.initialized||this.initialize(),t){const n=[];for(const r of t){const s=this.getIfExists(r);s&&n.push(s)}return n}return this.ordered}isEmpty(){return this.initialized||this.initialize(),this.ordered.length===0}register(t){if(this.byId.has(t.id))throw new Error("Duplicate Key:"+t.id);if(this.byId.set(t.id,t),this.ordered.push(t),t.aliasIds)for(const n of t.aliasIds)this.byId.has(n)||this.byId.set(n,t);this.initialized&&this.sort()}sort(){}}var U=(e=>(e.anyMatch="anyMatch",e.allMatch="allMatch",e.invertMatch="invertMatch",e.alwaysMatch="alwaysMatch",e.neverMatch="neverMatch",e))(U||{}),_=(e=>(e.numeric="numeric",e.time="time",e.first="first",e.firstTimeField="firstTimeField",e.byType="byType",e.byTypes="byTypes",e.byName="byName",e.byNames="byNames",e.byRegexp="byRegexp",e.byRegexpOrNames="byRegexpOrNames",e.byFrameRefID="byFrameRefID",e.byValue="byValue",e))(_||{}),St=(e=>(e.byName="byName",e.byRefId="byRefId",e.byIndex="byIndex",e))(St||{}),K=(e=>(e.regex="regex",e.isNull="isNull",e.isNotNull="isNotNull",e.greater="greater",e.greaterOrEqual="greaterOrEqual",e.lower="lower",e.lowerOrEqual="lowerOrEqual",e.equal="equal",e.notEqual="notEqual",e.between="between",e))(K||{});const xt={id:_.byType,name:"Field Type",description:"match based on the field type",defaultOptions:g.number,get:e=>(t,n,r)=>e===t.type,getOptionsDisplayText:e=>`Field type: ${e}`},ra={id:_.byTypes,name:"Field Type",description:"match based on the field types",defaultOptions:new Set,get:e=>(t,n,r)=>e.has(t.type),getOptionsDisplayText:e=>`Field types: ${[...e].join(" | ")}`},sa={id:_.numeric,name:"Numeric Fields",description:"Fields with type number",get:()=>xt.get(g.number),getOptionsDisplayText:()=>"Numeric Fields"},oa={id:_.time,name:"Time Fields",description:"Fields with type time",get:()=>xt.get(g.time),getOptionsDisplayText:()=>"Time Fields"};function aa(){return[xt,ra,sa,oa]}var G=S(1713),fe=(e=>(e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error",e))(fe||{});const $c=null;var _e=(e=>(e.Null="null",e.Ignore="connected",e.AsZero="null as zero",e))(_e||{});const zc=e=>!!e;function Uc(e){return e}function Kc(e){return typeof e=="object"&&e!==null?!0:!1}var Ae=(e=>(e.sum="sum",e.max="max",e.min="min",e.logmin="logmin",e.mean="mean",e.variance="variance",e.stdDev="stdDev",e.last="last",e.first="first",e.count="count",e.range="range",e.diff="diff",e.diffperc="diffperc",e.delta="delta",e.step="step",e.firstNotNull="firstNotNull",e.lastNotNull="lastNotNull",e.changeCount="changeCount",e.distinctCount="distinctCount",e.allIsZero="allIsZero",e.allIsNull="allIsNull",e.allValues="allValues",e.uniqueValues="uniqueValues",e))(Ae||{});function Gc(e){return Object.keys(Ae).includes(e)}function ia(e){const{field:t,reducers:n}=e;if(!t||!n||n.length<1)return{};if(t.state?.calcs){const u=[];for(const p of n)t.state.calcs.hasOwnProperty(p)||u.push(p);if(u.length<1)return{...t.state.calcs}}t.state||(t.state={});const r=la.list(n);if(t.values.length<1){const u={...t.state.calcs};for(const p of r)u[p.id]=p.emptyInputResult!==null?p.emptyInputResult:null;return t.state.calcs=u}const{nullValueMode:o=_e.Ignore}=t.config,i=o===_e.Ignore,l=o===_e.AsZero;if(r.length===1&&r[0].reduce){const u=r[0].reduce(t,i,l);return t.state.calcs={...t.state.calcs,...u},u}let c=ca(t,i,l);for(const u of r)!c.hasOwnProperty(u.id)&&u.reduce&&(c={...c,...u.reduce(t,i,l)});return t.state.calcs={...t.state.calcs,...c},c}const la=new De(()=>[{id:"lastNotNull",name:"Last *",description:"Last non-null value (also excludes NaNs)",standard:!0,aliasIds:["current"],reduce:ma},{id:"last",name:"Last",description:"Last value",standard:!0,reduce:pa},{id:"firstNotNull",name:"First *",description:"First non-null value (also excludes NaNs)",standard:!0,reduce:da},{id:"first",name:"First",description:"First Value",standard:!0,reduce:ua},{id:"min",name:"Min",description:"Minimum Value",standard:!0},{id:"max",name:"Max",description:"Maximum Value",standard:!0},{id:"mean",name:"Mean",description:"Average Value",standard:!0,aliasIds:["avg"]},{id:"variance",name:"Variance",description:"Variance of all values in a field",standard:!1,reduce:Vn},{id:"stdDev",name:"StdDev",description:"Standard deviation of all values in a field",standard:!1,reduce:Vn},{id:"sum",name:"Total",description:"The sum of all values",emptyInputResult:0,standard:!0,aliasIds:["total"]},{id:"count",name:"Count",description:"Number of values in response",emptyInputResult:0,standard:!0},{id:"range",name:"Range",description:"Difference between minimum and maximum values",standard:!0},{id:"delta",name:"Delta",description:"Cumulative change in value",standard:!0},{id:"step",name:"Step",description:"Minimum interval between values",standard:!0},{id:"diff",name:"Difference",description:"Difference between first and last values",standard:!0},{id:"logmin",name:"Min (above zero)",description:"Used for log min scale",standard:!0},{id:"allIsZero",name:"All Zeros",description:"All values are zero",emptyInputResult:!1,standard:!0},{id:"allIsNull",name:"All Nulls",description:"All values are null",emptyInputResult:!0,standard:!0},{id:"changeCount",name:"Change Count",description:"Number of times the value changes",standard:!1,reduce:fa},{id:"distinctCount",name:"Distinct Count",description:"Number of distinct values",standard:!1,reduce:ga},{id:"diffperc",name:"Difference percent",description:"Percentage difference between first and last values",standard:!0},{id:"allValues",name:"All values",description:"Returns an array with all values",standard:!1,reduce:e=>({allValues:[...e.values]})},{id:"uniqueValues",name:"All unique values",description:"Returns an array with all unique values",standard:!1,reduce:e=>({uniqueValues:[...new Set(e.values)]})}]);function ca(e,t,n){const r={sum:0,max:-Number.MAX_VALUE,min:Number.MAX_VALUE,logmin:Number.MAX_VALUE,mean:null,last:null,first:null,lastNotNull:null,firstNotNull:null,count:0,nonNullCount:0,allIsNull:!0,allIsZero:!0,range:null,diff:null,delta:0,step:Number.MAX_VALUE,diffperc:0,previousDeltaUp:!0},s=e.values,o=e.type===g.number||e.type===g.time;for(let i=0;i<s.length;i++){let l=s[i];if(i===0&&(r.first=l),r.last=l,l==null){if(t)continue;n&&(l=0)}if(r.count++,l!=null&&!Number.isNaN(l)){const c=r.firstNotNull===null;if(c&&(r.firstNotNull=l),o){if(r.sum+=l,r.allIsNull=!1,r.nonNullCount++,!c){const u=l-r.lastNotNull;r.step>u&&(r.step=u),r.lastNotNull>l?(r.previousDeltaUp=!1,i===s.length-1&&(r.delta+=l)):(r.previousDeltaUp?r.delta+=u:r.delta+=l,r.previousDeltaUp=!0)}l>r.max&&(r.max=l),l<r.min&&(r.min=l),l<r.logmin&&l>0&&(r.logmin=l)}l!==0&&(r.allIsZero=!1),r.lastNotNull=l}}return r.max===-Number.MAX_VALUE&&(r.max=null),r.min===Number.MAX_VALUE&&(r.min=null),r.step===Number.MAX_VALUE&&(r.step=null),r.nonNullCount>0&&(r.mean=r.sum/r.nonNullCount),r.allIsNull&&(r.allIsZero=!1),r.max!==null&&r.min!==null&&(r.range=r.max-r.min),(0,W.isNumber)(r.firstNotNull)&&(0,W.isNumber)(r.lastNotNull)&&(r.diff=r.lastNotNull-r.firstNotNull),(0,W.isNumber)(r.firstNotNull)&&(0,W.isNumber)(r.diff)&&(r.diffperc=r.diff/r.firstNotNull),r}function ua(e,t,n){return{first:e.values[0]}}function da(e,t,n){const r=e.values;for(let s=0;s<r.length;s++){const o=r[s];if(o!=null&&!Number.isNaN(o))return{firstNotNull:o}}return{firstNotNull:null}}function pa(e,t,n){const r=e.values;return{last:r[r.length-1]}}function ma(e,t,n){const r=e.values;let s=r.length-1;for(;s>=0;){const o=r[s--];if(o!=null&&!Number.isNaN(o))return{lastNotNull:o}}return{lastNotNull:null}}function Vn(e,t,n){if(!(e.type===g.number||e.type===g.time))return{variance:0,stdDev:0};let r=0,s=0,o=0;const i=e.values;for(let l=0;l<i.length;l++){const c=i[l];if(c!=null){o++;let u=s;s+=(c-u)/o,r+=(c-u)*(c-s)}}if(o>0){const l=r/o;return{variance:l,stdDev:Math.sqrt(l)}}return{variance:0,stdDev:0}}function fa(e,t,n){const r=e.values;let s=0,o=!0,i=null;for(let l=0;l<r.length;l++){let c=r[l];if(c===null){if(t)continue;n&&(c=0)}!o&&i!==c&&s++,o=!1,i=c}return{changeCount:s}}function ga(e,t,n){const r=e.values,s=new Set;for(let o=0;o<r.length;o++){let i=r[o];if(i===null){if(t)continue;n&&(i=0)}s.add(i)}return{distinctCount:s.size}}function ha(e,t,n){switch((e==null||n==null)&&(e==null&&(e="null"),n==null&&(n="null"),(t===G.Bd.GTE||t===G.Bd.LTE)&&(t=G.Bd.EQ)),t){case G.Bd.EQ:return`${e}`==`${n}`;case G.Bd.NEQ:return`${e}`!=`${n}`;case G.Bd.GT:return e>n;case G.Bd.GTE:return e>=n;case G.Bd.LT:return e<n;case G.Bd.LTE:return e<=n;default:return!1}}function ya(e){return e===Ae.allIsNull||e===Ae.allIsZero}const ba={id:_.byValue,name:"By value (reducer)",description:"Reduce a field to a single value and test for inclusion",defaultOptions:{reducer:Ae.allIsZero,op:G.Bd.GTE,value:0},get:e=>{if(!e||!e.reducer)return()=>!1;let{reducer:t,op:n,value:r}=e;const s=ya(t);return n||(n=G.Bd.EQ),(o,i,l)=>{const c=ia({field:o,reducers:[t]})[t];return s?!!c:ha(c,n,r)}},getOptionsDisplayText:e=>`By value (${e.reducer})`};function jc(e,t){if(e.name)return e.name;const n=[];for(const r of e.fields)if(r.type!==FieldType.time){if(n.length>1)break;n.push(ge(r,e))}return n.length===1?n[0]:t===void 0&&e.fields.length>0?e.fields.filter(r=>r.type!==FieldType.time).map(r=>ge(r,e)).join(", "):e.refId?`Series (${e.refId})`:`Series (${t})`}function Qc(e){e.forEach(t=>{t.fields.forEach(n=>{ge(n,t,e)})})}function ge(e,t,n){const r=e.state?.displayName,s=!!(n&&n.length>1);if(r&&s===e.state?.multipleFrames)return r;const o=va(e,t,n);return e.state=e.state||{},e.state.displayName=o,e.state.multipleFrames=s,o}function va(e,t,n){const r=e.config?.displayName&&e.config?.displayName.length,s=!!t?.meta?.timeCompare?.isTimeShiftQuery;let o=r?e.config.displayName:e.name;if(r)return s?`${o} (comparison)`:o;if(t&&e.config?.displayNameFromDS)return s?`${e.config.displayNameFromDS} (comparison)`:e.config.displayNameFromDS;if(e.type===g.time&&!e.labels)return o??pt;let i=[],l=!1;if(n&&n.length>1){for(let p=1;p<n.length;p++)if(n[p].name!==n[p-1].name){l=!0;break}}let c=!1,u=!1;if(l&&t?.name&&(i.push(t.name),c=!0),e.name&&e.name!==X&&i.push(e.name),e.labels&&t){let p=xa(n??[t]);if(p)e.labels[p]&&(i.push(e.labels[p]),u=!0);else{let m=ta(e.labels);m&&(i.push(m),u=!0)}}return t&&!c&&!u&&e.name===X&&t.name&&t.name.length>0&&(i.push(t.name),c=!0),i.length?o=i.join(" "):e.name?o=e.name:o=X,o===e.name&&(o=Sa(e,t)),s&&(o=`${o} (comparison)`),o}function Sa(e,t){let n=0,r=!1;if(t)for(let s=0;s<t.fields.length;s++){const o=t.fields[s];if((0,W.isEqual)(e,o)){if(r=!0,n>0){n++;break}}else if(e.name===o.name&&(n++,r))break}return n?`${e.name} ${n}`:e.name}function xa(e){let t=null;for(let n=0;n<e.length;n++){const r=e[n];for(const s of r.fields)if(s.labels){for(const o in s.labels)if(t===null)t=o;else if(o!==t)return null}}return t}const On="([\\"+["(","[","{","}","]",")","\\","|","*","+","-",".","?","<",">","#","&","^","$"].join("\\")+"])",Ca=new RegExp(On,"g"),wa=new RegExp("(\\\\)"+On,"g");function Jc(e){return e&&e.replace(Ca,"\\$1")}function Yc(e){return e&&e.replace(wa,"$2")}function Ea(e){return e?e[0]==="/":!1}function Ct(e){if(!Ea(e))return new RegExp(`^${e}$`);const t=e.match(new RegExp("^/(.*?)/(g?i?m?y?s?)$"));if(!t)throw new Error(`'${e}' is not a valid regular expression.`);return new RegExp(t[1],t[2])}function Xc(e){if(!e)return 0;const t=parseInt(e,10),n=e.slice(String(t).length),r=1e3,s=r*60,o=s*60,i=o*24;switch(n){case"s":return t*r;case"m":return t*s;case"h":return t*o;case"d":return t*i;default:if(!n)return isNaN(t)?0:t;throw new Error("Not supported unit: "+n)}}function qc(e){return e!=null&&Number.isFinite(e)?e.toString():""}function eu(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function tu(e){if(!e)return;const t=parseFloat(e);return isNaN(t)?void 0:t}function nu(e){const t=camelCase(e);return t.charAt(0).toUpperCase()+t.substring(1)}function ru(e){return e.replace(/[\\^$*+?.()|[\]{}\/]/g,"\\$&")}var Ta=(e=>(e.exclude="exclude",e.include="include",e))(Ta||{});const Na={id:_.byName,name:"Field Name",description:"match the field name",defaultOptions:"",get:e=>{const n=Wn(new Set([e]));return(r,s,o)=>e===r.name||e===ge(r,s,o)||!!(n&&n(r,s,o))},getOptionsDisplayText:e=>`Field name: ${e}`},Bn={id:_.byNames,name:"Field Names",description:"match any of the given the field names",defaultOptions:{mode:"include",names:[]},get:e=>{const{names:t,mode:n="include"}=e,r=new Set(t??[]),s=Wn(r),o=(i,l,c)=>r.has(i.name)||r.has(ge(i,l,c))||!!(s&&s(i,l,c));return n==="exclude"?(i,l,c)=>!o(i,l,c):o},getOptionsDisplayText:e=>{const{names:t,mode:n}=e,r=(t??[]).join(", ");return n==="exclude"?`All except: ${r}`:`All of: ${r}`}};function Wn(e){let t;return window?.grafanaBootData?.settings?.featureToggles?.dataplaneFrontendFallback&&(e.has(X)?t=(r,s)=>!!r.labels&&r.labels?.__name__===r.name:(e.has("Time")||e.has("time"))&&(t=(r,s)=>s.meta?.typeVersion==null&&r.type===g.time)),t}const Hn={id:_.byRegexp,name:"Field Name by Regexp",description:"match the field name by a given regexp pattern",defaultOptions:"/.*/",get:e=>{const t=Aa(e);return(n,r,s)=>{const o=ge(n,r,s);return!!t&&t.test(o)}},getOptionsDisplayText:e=>`Field name by pattern: ${e}`},ka={id:_.byFrameRefID,name:"Fields by frame refId",description:"match all fields returned in data frame with refId.",defaultOptions:"",get:e=>(t,n,r)=>n.refId===e,getOptionsDisplayText:e=>`Math all fields returned by query with reference ID: ${e}`},Ia={id:_.byRegexpOrNames,name:"Field Name by Regexp or Names",description:"match the field name by a given regexp pattern or given names",defaultOptions:{pattern:"/.*/",names:[]},get:e=>{const t=Hn.get(e?.pattern||""),n=Bn.get({mode:"include",names:e?.names??[]});return(r,s,o)=>n(r,s,o)||t(r,s,o)},getOptionsDisplayText:e=>{const t=e?.pattern??"",n=e?.names?.join(",")??"";return`Field name by pattern: ${t} or names: ${n}`}},Aa=e=>{if(e)try{return Ct(e)}catch(t){console.error(t);return}},Ma={id:St.byName,name:"Frame Name",description:"match the frame name",defaultOptions:"/.*/",get:e=>{const t=Ct(e);return n=>t.test(n.name||"")},getOptionsDisplayText:e=>`Frame name: ${e}`};function Ra(){return[Na,Hn,Bn,Ia,ka]}function Fa(){return[Ma]}const La={id:U.anyMatch,name:"Any",description:"Any child matches (OR)",excludeFromPicker:!0,defaultOptions:[],get:e=>{const t=e.map(n=>wt(n));return(n,r,s)=>{for(const o of t)if(o(n,r,s))return!0;return!1}},getOptionsDisplayText:e=>{let t="";for(const n of e){t.length>0&&(t+=" OR ");const r=se.get(n.id);t+=r.getOptionsDisplayText?r.getOptionsDisplayText(n):r.name}return t}},Pa={id:U.anyMatch,name:"Any",description:"Any child matches (OR)",excludeFromPicker:!0,defaultOptions:[],get:e=>{const t=e.map(n=>Et(n));return n=>{for(const r of t)if(r(n))return!0;return!1}},getOptionsDisplayText:e=>{let t="";for(const n of e){t.length>0&&(t+=" OR ");const r=$e.get(n.id);t+=r.getOptionsDisplayText?r.getOptionsDisplayText(n):r.name}return t}},Va={id:U.allMatch,name:"All",description:"Everything matches (AND)",excludeFromPicker:!0,defaultOptions:[],get:e=>{const t=e.map(n=>wt(n));return(n,r,s)=>{for(const o of t)if(!o(n,r,s))return!1;return!0}},getOptionsDisplayText:e=>{let t="";for(const n of e){t.length>0&&(t+=" AND ");const r=se.get(n.id);t+=r.getOptionsDisplayText?r.getOptionsDisplayText(n):r.name}return t}},Oa={id:U.allMatch,name:"All",description:"Everything matches (AND)",excludeFromPicker:!0,defaultOptions:[],get:e=>{const t=e.map(n=>Et(n));return n=>{for(const r of t)if(!r(n))return!1;return!0}},getOptionsDisplayText:e=>{let t="";for(const n of e){t.length>0&&(t+=" AND ");const r=$e.get(n.id);t+=r.getOptionsDisplayText?r.getOptionsDisplayText(n):r.name}return t}},Ba={id:U.invertMatch,name:"NOT",description:"Inverts other matchers",excludeFromPicker:!0,get:e=>{const t=wt(e);return(n,r,s)=>!t(n,r,s)},getOptionsDisplayText:e=>{const t=se.get(e.id);return"NOT "+(t.getOptionsDisplayText?t.getOptionsDisplayText(e.options):t.name)}},Wa={id:U.invertMatch,name:"NOT",description:"Inverts other matchers",excludeFromPicker:!0,get:e=>{const t=Et(e);return n=>!t(n)},getOptionsDisplayText:e=>{const t=$e.get(e.id);return"NOT "+(t.getOptionsDisplayText?t.getOptionsDisplayText(e.options):t.name)}},Ha=e=>!0,Da=e=>!0,_a=e=>!1,su=e=>e.type!==FieldType.time,$a=e=>!1,za={id:U.alwaysMatch,name:"All Fields",description:"Always Match",get:e=>Ha,getOptionsDisplayText:e=>"Always"},Ua={id:U.alwaysMatch,name:"All Frames",description:"Always Match",get:e=>Da,getOptionsDisplayText:e=>"Always"},Ka={id:U.neverMatch,name:"No Fields",description:"Never Match",excludeFromPicker:!0,get:e=>_a,getOptionsDisplayText:e=>"Never"},Ga={id:U.neverMatch,name:"No Frames",description:"Never Match",get:e=>$a,getOptionsDisplayText:e=>"Never"};function ja(){return[La,Va,Ba,za,Ka]}function Qa(){return[Pa,Oa,Wa,Ua,Ga]}const Za={id:St.byRefId,name:"Query refId",description:"match the refId",defaultOptions:"A",get:e=>{const t=Ct(e);return n=>t.test(n.refId||"")},getOptionsDisplayText:e=>`RefID: ${e}`};function Ja(){return[Za]}const Ya={id:_.first,name:"First Field",description:"The first field in the frame",get:e=>(t,n,r)=>t===n.fields[0],getOptionsDisplayText:()=>"First field"},Xa={id:_.firstTimeField,name:"First time field",description:"The first field of type time in a frame",get:e=>(t,n,r)=>t.type===g.time&&t===n.fields.find(s=>s.type===g.time),getOptionsDisplayText:()=>"First time field"};function qa(){return[Ya,Xa]}const ei={id:K.equal,name:"Is equal",description:"Match where value for given field is equal to options value.",get:e=>(t,n)=>n.values[t]==e.value,getOptionsDisplayText:()=>"Matches all rows where field is null.",isApplicable:()=>!0,getDefaultOptions:()=>({value:""})},ti={id:K.notEqual,name:"Is not equal",description:"Match where value for given field is not equal to options value.",get:e=>(t,n)=>n.values[t]!=e.value,getOptionsDisplayText:()=>"Matches all rows where field is not null.",isApplicable:()=>!0,getDefaultOptions:()=>({value:""})},ni=()=>[ei,ti],ri={id:K.isNull,name:"Is null",description:"Match where value for given field is null.",get:()=>(e,t)=>t.values[e]==null,getOptionsDisplayText:()=>"Matches all rows where field is null.",isApplicable:()=>!0,getDefaultOptions:()=>({})},si={id:K.isNotNull,name:"Is not null",description:"Match where value for given field is not null.",get:()=>(e,t)=>t.values[e]!=null,getOptionsDisplayText:()=>"Matches all rows where field is not null.",isApplicable:()=>!0,getDefaultOptions:()=>({})},oi=()=>[ri,si],ai={id:K.greater,name:"Is greater",description:"Match when field value is greater than option.",get:e=>(t,n)=>{const r=n.values[t];return isNaN(r)?!1:r>e.value},getOptionsDisplayText:e=>`Matches all rows where field value is greater than: ${e.value}.`,isApplicable:e=>e.type===g.number,getDefaultOptions:()=>({value:0})},ii={id:K.greaterOrEqual,name:"Is greater or equal",description:"Match when field value is greater than or equal to option.",get:e=>(t,n)=>{const r=n.values[t];return isNaN(r)?!1:r>=e.value},getOptionsDisplayText:e=>`Matches all rows where field value is greater than or equal to: ${e.value}.`,isApplicable:e=>e.type===g.number,getDefaultOptions:()=>({value:0})},li={id:K.lower,name:"Is lower",description:"Match when field value is lower than option.",get:e=>(t,n)=>{const r=n.values[t];return isNaN(r)?!1:r<e.value},getOptionsDisplayText:e=>`Matches all rows where field value is lower than: ${e.value}.`,isApplicable:e=>e.type===g.number,getDefaultOptions:()=>({value:0})},ci={id:K.lowerOrEqual,name:"Is lower or equal",description:"Match when field value is lower or equal than option.",get:e=>(t,n)=>{const r=n.values[t];return isNaN(r)?!1:r<=e.value},getOptionsDisplayText:e=>`Matches all rows where field value is lower or equal than: ${e.value}.`,isApplicable:e=>e.type===g.number,getDefaultOptions:()=>({value:0})},ui=()=>[ai,ii,li,ci],di={id:K.between,name:"Is between",description:"Match when field value is between given option values.",get:e=>(t,n)=>{const r=n.values[t];return isNaN(r)?!1:r>e.from&&r<e.to},getOptionsDisplayText:e=>`Matches all rows where field value is between ${e.from} and ${e.to}.`,isApplicable:e=>e.type===g.number,getDefaultOptions:()=>({from:0,to:100})},pi=()=>[di],mi={id:K.regex,name:"Regex",description:"Match when field value is matching regex.",get:e=>{const t=new RegExp(e.value);return(n,r)=>{const s=r.values[n];return t.test(s)}},getOptionsDisplayText:e=>`Matches all rows where field value is matching regex: ${e.value}`,isApplicable:()=>!0,getDefaultOptions:()=>({value:".*"})},fi=()=>[mi],se=new De(()=>[...ja(),...aa(),...Ra(),...qa(),ba]),$e=new De(()=>[...Qa(),...Fa(),...Ja()]),gi=new De(()=>[...oi(),...ui(),...ni(),...pi(),...fi()]);function wt(e){const t=se.get(e.id);if(!t)throw new Error("Unknown field matcher: "+e.id);return t.get(e.options)}function Et(e){const t=$e.get(e.id);if(!t)throw new Error("Unknown frame matcher: "+e.id);return t.get(e.options)}function ou(e){const t=gi.get(e.id);if(!t)throw new Error("Unknown value matcher: "+e.id);return t.get(e.options)}var hi=S(98231),Tt=(e=>(e.append="append",e.reduce="reduce",e.order="order",e.organize="organize",e.rename="rename",e.calculateField="calculateField",e.seriesToColumns="seriesToColumns",e.seriesToRows="seriesToRows",e.merge="merge",e.concatenate="concatenate",e.labelsToFields="labelsToFields",e.filterFields="filterFields",e.filterFieldsByName="filterFieldsByName",e.filterFrames="filterFrames",e.filterByRefId="filterByRefId",e.renameByRegex="renameByRegex",e.filterByValue="filterByValue",e.noop="noop",e.ensureColumns="ensureColumns",e.groupBy="groupBy",e.sortBy="sortBy",e.histogram="histogram",e.configFromData="configFromData",e.rowsToFields="rowsToFields",e.prepareTimeSeries="prepareTimeSeries",e.convertFieldType="convertFieldType",e.fieldLookup="fieldLookup",e.heatmap="heatmap",e.spatial="spatial",e.joinByField="joinByField",e.joinByLabels="joinByLabels",e.extractFields="extractFields",e.groupingToMatrix="groupingToMatrix",e.limit="limit",e.partitionByValues="partitionByValues",e.timeSeriesTable="timeSeriesTable",e.formatTime="formatTime",e.formatString="formatString",e.regression="regression",e))(Tt||{}),ze=(e=>(e.outer="outer",e.inner="inner",e.outerTabular="outerTabular",e))(ze||{});const yi={id:Tt.joinByField,aliasIds:[Tt.seriesToColumns],name:"Join by field",description:"Combine rows from two or more tables, based on a related field between them.  This can be used to outer join multiple time series on the _time_ field to show many time series in one table.",defaultOptions:{byField:void 0,mode:"outer"},operator:(e,t)=>n=>n.pipe((0,hi.U)(r=>yi.transformer(e,t)(r))),transformer:(e,t)=>{let n;return r=>{if(r.length>1){e.byField&&!n&&(n=se.get(_.byName).get(t.interpolate(e.byField)));const s=Si({frames:r,joinBy:n,mode:e.mode});if(s)return[s]}return r}}};function bi(e){const{timeField:t}=Rn(e[0]);if(t)return se.get(_.firstTimeField).get({});let n=[];for(const r of e[0].fields)r.type===g.number&&n.push(r.name);for(let r=1;r<e.length;r++){const s=[];for(const o of e[0].fields)o.type===g.number&&s.push(o.name);n=n.filter(o=>!s.includes(o))}return se.get(_.byName).get(n[0])}function Dn(e){return e.joinBy??bi(e.frames)}function vi(e,t){if(t>=0){let n=e.fields[t];n.type!==g.string&&!wi(n.values)&&(e=To(e,t))}return e}function Si(e){if(!e.frames?.length)return;if(e.frames.length===1){let c=e.frames[0],u=c;const p=Dn(e);let m=u.fields.findIndex(f=>p(f,u,e.frames));if(e.keepOriginIndices&&(u={...c,fields:c.fields.map((f,h)=>{const x={...f},y={frameIndex:0,fieldIndex:h};return x.state?x.state.origin=y:x.state={origin:y},x})},m>0)){const f=u.fields[m],h=u.fields.filter((x,y)=>y!==m);h.unshift(f),u.fields=h,m=0}if(m>=0&&(u=vi(u,m)),e.keep){let f=u.fields.filter((h,x)=>x===m||e.keep(h,u,e.frames));c!==u?u.fields=f:u={...c,fields:f}}return u}const t=[],n=[],r=[],s=[];let o=1;const i=Dn(e);for(let c=0;c<e.frames.length;c++){const u=e.frames[c];if(!u||!u.fields?.length)continue;const p=[Nt];let m,f=[],h=[];for(let y=0;y<u.fields.length;y++){const v=u.fields[y];if(v.state=v.state||{},!m&&i(v,u,e.frames))m=v;else{if(e.keep&&!e.keep(v,u,e.frames))continue;let C=v.config.custom?.spanNulls;p.push(C===!0?Nt:C===-1?_n:$n);let T=v.labels??{},L=v.name;u.name&&(v.name===X?L=u.name:T={...T,name:u.name}),f.push({...v,name:L,labels:T})}e.keepOriginIndices&&(v.state.origin={frameIndex:c,fieldIndex:y})}if(!m)continue;r.length===0&&r.push(m),t.push(p);const x=[m.values];for(const y of f)x.push(y.values),r.push(y),delete y.state?.displayName,h.push(o),o++;s.push(h),n.push(x)}let l=[];return e.mode===ze.outerTabular?l=xi(n,s,r.length,t):l=zn(n,t,e.mode),{length:l[0]?l[0].length:0,fields:r.map((c,u)=>({...c,values:l[u]}))}}function xi(e,t,n,r){let s={};for(let i=0;i<e.length;i++){let l=e[i],c=l[0];for(let u=0;u<e.length;u++){if(u===i)continue;let p=e[u],m=p[0];for(let f=0;f<c.length;f++){const h=c[f],x=n-1;let y=[h].concat(new Array(x)),v=0;for(let C=1;C<l.length;C++){const T=t[i][v];y[T]=l[C][f],v++}for(let C=0;C<m.length;C++)if(c[f]===m[C]){let T=0;for(let L=1;L<p.length;L++){const w=t[u][T];y[w]=p[L][C],T++}break}s[JSON.stringify(y)]=y}}}let o=[];for(let i=0;i<n;i++)o.push(new Array(0));for(let i in s){const l=s[i];for(let c=0;c<l.length;c++)o[c].push(l[c])}return o}const Nt=0,_n=1,$n=2;function Ci(e,t,n){for(let r=0,s,o=-1;r<t.length;r++){let i=t[r];if(i>o){for(s=i-1;s>=0&&e[s]==null;)e[s--]=null;for(s=i+1;s<n&&e[s]==null;)e[o=s++]=null}}}function zn(e,t,n=ze.outer){let r;if(n===ze.inner)r=new Set((0,na.Z)(e.map(l=>l[0])));else{r=new Set;for(let l=0;l<e.length;l++){let u=e[l][0],p=u.length;for(let m=0;m<p;m++)r.add(u[m])}}let s=[Array.from(r).sort((l,c)=>l-c)],o=s[0].length,i=new Map;for(let l=0;l<o;l++)i.set(s[0][l],l);for(let l=0;l<e.length;l++){let c=e[l],u=c[0];for(let p=1;p<c.length;p++){let m=c[p],f=Array(o).fill(void 0),h=t?t[l][p]:_n,x=[];for(let y=0;y<m.length;y++){let v=m[y],C=i.get(u[y]);v===null?h!==Nt&&(f[C]=v,h===$n&&x.push(C)):f[C]=v}Ci(f,x,o),s.push(f)}}return s}function wi(e,t=50){const n=e.length;if(n<=1)return!0;let r=0,s=n-1;for(;r<=s&&e[r]==null;)r++;for(;s>=r&&e[s]==null;)s--;if(s<=r)return!0;const o=Math.max(1,Math.floor((s-r+1)/t));for(let i=e[r],l=r+o;l<=s;l+=o){const c=e[l];if(c!=null){if(c<=i)return!1;i=c}}return!0}function Ue(e,t){const n=/\{\{\s*(.+?)\s*\}\}/g;return e.replace(n,(r,s)=>t[s]?t[s]:s)}var Ei=(e=>(e.Append="append",e.Replace="replace",e))(Ei||{});const Ke="__name__";var Ti=(e=>(e[e.wide=0]="wide",e[e.labels=1]="labels",e))(Ti||{});const Ge=class{constructor(e){this.options=e,this.meta={},this.fields=[],this.length=0,this.schemaFields=[],this.timeFieldIndex=-1,this.pushMode=0,this.labels=new Set,this.packetInfo={schemaChanged:!0,number:0,action:"replace",length:0},this.serialize=(t,n,r)=>{const s=n?Object.assign({},{...this.options,...n}):this.options,o=Mn(this,t),i=Gn(o.fields.map(c=>c.values),typeof r?.maxLength=="number"?Math.min(r.maxLength,s.maxLength):s.maxLength,this.timeFieldIndex,s.maxDelta);o.fields=o.fields.map(c=>({...c,values:c.values?.slice(i)}));const l=o.fields[0]?.values?.length??0;return{...o,labels:this.labels,schemaFields:this.schemaFields,name:this.name,refId:this.refId,meta:this.meta,length:l,timeFieldIndex:this.timeFieldIndex,pushMode:this.pushMode,packetInfo:this.packetInfo,options:s}},this.initFromSerialized=t=>{this.name=t.name,this.refId=t.refId,this.meta=t.meta,this.length=t.length,this.labels=t.labels,this.schemaFields=t.schemaFields,this.timeFieldIndex=t.timeFieldIndex,this.pushMode=t.pushMode,this.packetInfo.length=t.packetInfo.length,this.packetInfo.number=t.packetInfo.number,this.packetInfo.action="replace",this.packetInfo.schemaChanged=!0,this.fields=t.fields.map(n=>({...n,type:n.type??g.other,config:n.config??{},values:n.values??[]})),kt(this.fields.map(n=>n.values),this.options.maxLength,this.timeFieldIndex,this.options.maxDelta)},this.needsResizing=({maxLength:t,maxDelta:n})=>{const r=t&&this.options.maxLength<t,s=n&&this.options.maxDelta<n,o=n&&this.options.maxDelta===1/0;return!!(r||s||o)},this.resize=({maxLength:t,maxDelta:n})=>{n&&(this.options.maxDelta===1/0?this.options.maxDelta=n:this.options.maxDelta=Math.max(n,this.options.maxDelta)),this.options.maxLength=Math.max(this.options.maxLength,t??0)},this.pushNewValues=t=>{if(!t?.length)return;this.packetInfo.action=this.options.action,this.packetInfo.number++,this.packetInfo.length=t[0].length,this.packetInfo.schemaChanged=!1,this.options.action==="append"?Kn(this.fields.map(r=>r.values),t,this.options.maxLength,this.timeFieldIndex,this.options.maxDelta):(t.forEach((r,s)=>{this.fields[s]&&(this.fields[s].values=r)}),kt(this.fields.map(r=>r.values),this.options.maxLength,this.timeFieldIndex,this.options.maxDelta));const n=this.fields?.[0]?.values.length;n!==void 0&&(this.length=n)},this.resetStateCalculations=()=>{this.fields.forEach(t=>{t.state={...t.state??{},calcs:void 0,range:void 0}})},this.getMatchingFieldIndexes=t=>this.fields.map((n,r)=>t(n)?r:void 0).filter(n=>n!==void 0),this.getValuesFromLastPacket=()=>this.fields.map(t=>{const n=t.values;return n.slice(Math.max(n.length-this.packetInfo.length))}),this.hasAtLeastOnePacket=()=>!!this.packetInfo.length,this.getOptions=()=>this.options,Object.defineProperty(this,"length",{enumerable:!0}),Object.defineProperty(this,"fields",{enumerable:!0})}get alwaysReplace(){return this.options.action==="replace"}push(e){const{schema:t,data:n}=e;if(this.packetInfo.number++,this.packetInfo.length=0,this.packetInfo.schemaChanged=!1,t){this.pushMode=0,this.timeFieldIndex=t.fields.findIndex(i=>i.type===g.time);const r=t.fields[0];this.timeFieldIndex===1&&r.type===g.string&&(r.name==="labels"||r.name==="Labels")&&(this.pushMode=1,this.timeFieldIndex=0);const s=this.pushMode===1?t.fields.slice(1):t.fields;this.refId=t.refId,t.meta&&(this.meta={...t.meta});const{displayNameFormat:o}=this.options;if(Ai(this.schemaFields,s)){const i=s.length;this.fields.forEach((l,c)=>{const u=s[c%i];l.config=u.config??{},l.labels=u.labels}),o&&this.fields.forEach(l=>{const c={[Ke]:l.name,...l.labels};l.config.displayNameFromDS=Ue(o,c)})}else{this.packetInfo.schemaChanged=!0;const i=this.pushMode===0;this.fields=s.map(l=>{const c=l.config??{};if(o){const u={[Ke]:l.name,...l.labels};c.displayNameFromDS=Ue(o,u)}return{config:c,name:l.name,labels:l.labels,type:l.type??g.other,values:i?this.fields.find(u=>u.name===l.name&&l.type===u.type)?.values??Array(this.length).fill(void 0):[]}})}this.schemaFields=s}if(n&&n.values.length&&n.values[0].length){let{values:r,entities:s}=n;if(s&&s.forEach((i,l)=>{i&&In(i,r[l])}),this.pushMode===1){const i=Ni(r);for(const u of i.keys())this.labels.has(u)||(this.packetInfo.schemaChanged=!0,this.addLabel(u));let l=Array(this.schemaFields.length).fill([]),c=[];this.labels.forEach(u=>{c.push(i.get(u)??l)}),r=zn(c)}if(r.length!==this.fields.length){if(this.fields.length)throw new Error(`push message mismatch.  Expected: ${this.fields.length}, received: ${r.length} (labels=${this.pushMode===1})`);this.fields=r.map((i,l)=>{let c=`Field ${l}`,u=Q(i[0]);return l===0&&u===g.number&&i[0]>1600016688632&&(u=g.time,c="Time"),{name:c,type:u,config:{},values:[]}})}let o=r;this.packetInfo.length=r[0].length,this.alwaysReplace||!this.length?this.packetInfo.action="replace":(this.packetInfo.action="append",o=this.fields.map(i=>i.values),Kn(o,r,this.options.maxLength,this.timeFieldIndex,this.options.maxDelta)),o.forEach((i,l)=>{const c=this.fields[l],{state:u}=c;c.values=i,u&&(u.calcs=void 0)}),this.length=o[0].length}return{...this.packetInfo}}addLabel(e){const{displayNameFormat:t}=this.options,n=this.labels.size,r=Ii(e);if(n===0)this.fields.forEach((s,o)=>{if(o>0&&(s.labels=r,t)){const i={[Ke]:s.name,...r};s.config.displayNameFromDS=Ue(t,i)}});else for(let s=1;s<this.schemaFields.length;s++){let o=this.schemaFields[s];const i=o.config??{};if(t){const l={[Ke]:o.name,...r};i.displayNameFromDS=Ue(t,l)}this.fields.push({...o,config:i,labels:r,values:Array(this.length).fill(void 0)})}this.labels.add(e)}};let je=Ge;je.deserialize=e=>{const t=new Ge(e.options);return t.initFromSerialized(e),t},je.empty=e=>new Ge(Un(e)),je.fromDataFrameJSON=(e,t)=>{const n=new Ge(Un(t));return n.push(e),n};function Un(e){return{maxLength:e?.maxLength??1e3,maxDelta:e?.maxDelta??1/0,action:e?.action??"append",displayNameFormat:e?.displayNameFormat}}function Ni(e){let t=new Set(e[0]),n=new Map;t.forEach(r=>{let s=Array(e.length-1).fill(null).map(()=>[]);n.set(r,s)});for(let r=0;r<e[0].length;r++){let s=n.get(e[0][r]);for(let o=1;o<e.length;o++)s[o-1].push(e[o][r])}return n}function ki(e,t,n,r){let s;n=n||0,r=r||t.length-1;let o=r<=2147483647;for(;r-n>1;)s=o?n+r>>1:Math.floor((n+r)/2),t[s]<e?n=s:r=s;return e-t[n]<=t[r]-e?n:r}function Ii(e){if(!e.length)return{};if(e.charAt(0)==="{")return ea(e);const t={};return e.split(",").forEach(n=>{const[r,s]=n.trim().split("=");t[r]=s}),t}function au(e){const t=e.packetInfo;return t?.action?t:void 0}function Kn(e,t,n=1/0,r=0,s=1/0){for(let o=0;o<e.length;o++)for(let i=0;i<t[o].length;i++)e[o].push(t[o][i]);return kt(e,n,r,s)}function kt(e,t=1/0,n=0,r=1/0){const s=Gn(e,t,n,r);if(s)for(let o=0;o<e.length;o++)e[o].splice(0,s);return s}function Gn(e,t=1/0,n=0,r=1/0){if(!e[0]?.length)return 0;const s=e[0].length;let o=0;if(s>t&&(o=s-t),r!==1/0&&n>=0){const i=e[n],l=i[o],c=i[s-1];c-l>r&&(o=ki(c-r,i,o))}return o}function Ai(e,t){if(e?.length!==t.length)return!1;for(let n=0;n<e.length;n++){const r=e[n],s=t[n];if(r.name!==s.name||r.type!==s.type)return!1}return!0}function Mi(){Object.getOwnPropertyDescriptor(Array.prototype,"toArray")||Object.defineProperties(Array.prototype,{get:{value:function(e){return this[e]},writable:!0,enumerable:!1,configurable:!0},set:{value:function(e,t){this[e]=t},writable:!0,enumerable:!1,configurable:!0},add:{value:function(e){this.push(e)},writable:!0,enumerable:!1,configurable:!0},toArray:{value:function(){return this},writable:!0,enumerable:!1,configurable:!0}})}Mi();function Ri(e){return new Proxy(e,{get(t,n,r){if(typeof n!="symbol"){const s=+n;if(String(s)===n)return t.get(s)}return Reflect.get(t,n,r)},set(t,n,r,s){if(typeof n!="symbol"){const o=+n;if(String(o)===n)return t.set(o,r),!0}return Reflect.set(t,n,r,s)}})}function Fi(e){const t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.get(n);return t}var jn;class Qn{constructor(){this[jn]={}}*iterator(){for(let t=0;t<this.length;t++)yield this.get(t)}set(t,n){throw"unsupported operation"}add(t){throw"unsupported operation"}push(...t){for(const n of t)this.add(n);return this.length}[Symbol.iterator](){return this.iterator()}forEach(t){return At(this).forEach(t)}map(t){return At(this).map(t)}filter(t){return At(this).filter(t)}at(t){return this.get(t)}toArray(){return Fi(this)}join(t){return this.toArray().join(t)}toJSON(){return this.toArray()}pop(){throw new Error("Method not implemented.")}concat(...t){throw new Error("Method not implemented.")}reverse(){throw new Error("Method not implemented.")}shift(){throw new Error("Method not implemented.")}sort(t){throw new Error("Method not implemented.")}splice(t,n,...r){throw new Error("Method not implemented.")}unshift(...t){throw new Error("Method not implemented.")}fill(t,n,r){throw new Error("Method not implemented.")}copyWithin(t,n,r){throw new Error("Method not implemented.")}slice(t,n){return this.toArray().slice(t,n)}indexOf(t,n){return this.toArray().indexOf(t,n)}lastIndexOf(t,n){return this.toArray().lastIndexOf(t,n)}every(t,n){return this.toArray().every(t,n)}some(t,n){return this.toArray().some(t,n)}reduce(t,n){throw new Error("Method not implemented.")}reduceRight(t,n){throw new Error("Method not implemented.")}find(t,n){return this.toArray().find(t,n)}findIndex(t,n){return this.toArray().findIndex(t,n)}entries(){return this.toArray().entries()}keys(){return this.toArray().keys()}values(){return this.toArray().values()}includes(t,n){return this.toArray().includes(t,n)}flatMap(t,n){return this.toArray().flatMap(t,n)}flat(t){throw new Error("Method not implemented.")}}jn=Symbol.unscopables;const It=[];function At(e){return{*[Symbol.iterator](){for(let t=0;t<e.length;t++)yield e.get(t)},forEach(t){for(let n=0;n<e.length;n++)t(e.get(n),n,It)},map(t){const n=[];for(let r=0;r<e.length;r++)n.push(t(e.get(r),r,It));return n},filter(t){const n=[];let r=0;for(const s of this)t(s,r++,It)&&n.push(s);return n}}}class Li extends Qn{constructor(t){return super(),this.buffer=t.buffer||[],this.capacity=this.buffer.length,this.tail=t.append!=="head",this.index=0,this.add=this.getAddFunction(),t.capacity&&this.setCapacity(t.capacity),Ri(this)}getAddFunction(){return this.capacity>this.buffer.length?this.tail?t=>{this.buffer.push(t),this.buffer.length>=this.capacity&&(this.add=this.getAddFunction())}:t=>{this.buffer.unshift(t),this.buffer.length>=this.capacity&&(this.add=this.getAddFunction())}:this.tail?t=>{this.buffer[this.index]=t,this.index=(this.index+1)%this.buffer.length}:t=>{let n=this.index-1;n<0&&(n=this.buffer.length-1),this.buffer[n]=t,this.index=n}}setCapacity(t){if(this.capacity===t)return;const n=this.toArray();if(t>this.length)this.buffer=n;else if(t<this.capacity){const r=this.length-t;this.tail?this.buffer=n.slice(r,n.length):this.buffer=n.slice(0,n.length-r)}this.capacity=t,this.index=0,this.add=this.getAddFunction()}setAppendMode(t){const n=t!=="head";n!==this.tail&&(this.buffer=this.toArray().reverse(),this.index=0,this.tail=n,this.add=this.getAddFunction())}reverse(){return this.buffer.reverse()}get(t){return this.buffer[(t+this.index)%this.buffer.length]}set(t,n){this.buffer[(t+this.index)%this.buffer.length]=n}get length(){return this.buffer.length}}function Pi(e,t){return t.type||(t.name==="time"||t.name==="Time"?t.type=g.time:t.type=Q(e)),t.type===g.number?n=>parseFloat(n):t.type===g.boolean?n=>!(n[0]==="F"||n[0]==="f"||n[0]==="0"):n=>n}const Mt=void 0;class q extends Qn{constructor(t,n){if(super(),this.fields=[],this.first=[],this.parsers=void 0,this.creator=n||(r=>r??[]),t){const{name:r,refId:s,meta:o,fields:i}=t;if(r&&(this.name=r),s&&(this.refId=s),o&&(this.meta=o),i)for(const l of i)this.addField(l)}Object.defineProperty(this,"length",{enumerable:!0,get:()=>this.first.length})}get length(){return this.first.length}addFieldFor(t,n){return this.addField({name:n||"",type:Q(t)})}addField(t,n){let r;t.values&&(r=t.values);let s=t.type;!s&&(t.name==="time"||t.name==="Time")?s=g.time:(!s&&r&&r.length&&(s=Q(r[0])),s||(s=g.other));let o=t.name;o||(o=`Field ${this.fields.length+1}`);const i={...t,name:o,type:s,config:t.config||{},values:this.creator(r)};if(s===g.other&&(s=ke(i),s&&(i.type=s)),this.fields.push(i),this.first=this.fields[0].values,n)for(;i.values.length<n;)i.values.push(Mt);else this.validate();return i}validate(){const t=this.fields.reduce((n,r)=>Math.max(n,r.values.length),0);for(const n of this.fields)for(;n.values.length!==t;)n.values.push(Mt)}setParser(t,n){return this.parsers||(this.parsers=new Map),this.parsers.set(t,n),n}parseValue(t,n){let r=this.parsers?.get(t);return r||(r=this.setParser(t,Pi(n,t))),r(n)}appendRow(t){for(let n=this.fields.length;n<t.length;n++)this.addField({name:`Field ${n+1}`,type:Q(t[n])});if(this.length<1)for(let n=0;n<this.fields.length;n++){const r=this.fields[n];(!r.type||r.type===g.other)&&(r.type=Q(t[n]))}for(let n=0;n<this.fields.length;n++){const r=this.fields[n];let s=t[n];r.type!==g.string&&(0,W.isString)(s)&&(s=this.parseValue(r,s)),r.values.push(s)}}push(...t){for(const n of t)this.add(n);return this.length}reverse(){for(const t of this.fields)t.values.reverse();return this}add(t){const n=t;for(const r of this.fields){let s=n[r.name];r.type!==g.string&&(0,W.isString)(s)&&(s=this.parseValue(r,s)),s===void 0&&(s=Mt),r.values.push(s)}}set(t,n){if(t>this.length)throw new Error("Unable to set value beyond current length");const r=n||{};for(const s of this.fields)s.values[t]=r[s.name]}get(t){const n={};for(const r of this.fields)n[r.name]=r.values[t];return n}toJSON(){return An(this)}}class Rt extends q{constructor(t){super(void 0,n=>new Li({...t,buffer:n}))}}var Vi=S(97269),Oi=S.n(Vi),Bi=(e=>(e[e.full=0]="full",e[e.name=1]="name",e[e.none=2]="none",e))(Bi||{});function iu(e,t){return new Zn(t).readCSV(e)}var Wi=(e=>(e[e.Starting=0]="Starting",e[e.InHeader=1]="InHeader",e[e.ReadingRows=2]="ReadingRows",e))(Wi||{});class Zn{constructor(t){this.chunk=(n,r)=>{for(let s=0;s<n.data.length;s++){const o=n.data[s];if(o.length<1)continue;const i=o[0];if(i){if(i.startsWith("#")){const l=i.indexOf("#",2);if(l>0){const c=i.slice(1,l),u=c==="name";if(u||{unit:"#"}.hasOwnProperty(c)){this.state===2&&(this.current=new q({fields:[]}),this.data.push(this.current));const m=i.slice(l+1);if(u){this.current.addFieldFor(void 0,m);for(let f=1;f<o.length;f++)this.current.addFieldFor(void 0,o[f])}else{const{fields:f}=this.current;for(let h=0;h<f.length;h++){f[h].config||(f[h].config={});const x=f[h].config;x[c]=h===0?m:o[h]}}this.state=1;continue}}else if(this.state===0){this.state=1;continue}continue}if(this.state===0){if(Q(i)===g.string){for(const c of o)this.current.addFieldFor(void 0,c);this.state=1;continue}this.state=1}}if(this.state,this.state=2,o.length>this.current.fields.length){const{fields:l}=this.current;for(let c=l.length;c<o.length;c++)this.current.addFieldFor(o[c]);this.callback&&this.callback.onHeader(this.current.fields)}this.current.appendRow(o),this.callback&&this.callback.onRow(o)}},t||(t={}),this.config=t.config||{},this.callback=t.callback,this.current=new q({fields:[]}),this.state=0,this.data=[]}readCSV(t){this.current=new q({fields:[]}),this.data=[this.current];const n={...this.config,dynamicTyping:!1,skipEmptyLines:!0,comments:!1,chunk:this.chunk};return Oi().parse(t,n),this.data}}function Ft(e,t){if(e==null)return"";const n=e.toString();return n.includes('"')?t.quoteChar+n.replace(/"/gi,'""')+t.quoteChar:n.includes(`
`)||t.delimiter&&n.includes(t.delimiter)?t.quoteChar+n+t.quoteChar:n}function Hi(e,t){return e.display?n=>{const r=e.display(n);return Ft(formattedValueToString(r),t)}:n=>Ft(n,t)}function Qe(e,t,n){const r=e==="name",s=e==="type";for(const o of t){const i=o.config;if(r||s||i&&i.hasOwnProperty(e)){let l="#"+e+"#";for(let c=0;c<t.length;c++){c>0&&(l=l+n.delimiter);let u=t[c].name;s?u=t[c].type:r||(u=t[c].config[e]),u&&(l=l+Ft(u,n))}return l+n.newline}}return""}function Di(){const e=["x","y"];return e.toLocaleString?e.toLocaleString().charAt(1):","}function lu(e,t){if(!e)return"";t=defaults(t,{delimiter:Di(),newline:`\r
`,quoteChar:'"',encoding:"",headerStyle:1,useExcelHeader:!1});let n=t.useExcelHeader?`sep=${t.delimiter}${t.newline}`:"";for(let r=0;r<e.length;r++){const s=e[r],{fields:o}=s;if(o.length===0)continue;if(t.headerStyle===0)n=n+Qe("name",o,t)+Qe("type",o,t)+Qe("unit",o,t)+Qe("dateFormat",o,t);else if(t.headerStyle===1){for(let l=0;l<o.length;l++)l>0&&(n+=t.delimiter),n+=`"${getFieldDisplayName(o[l],s).replace(/"/g,'""')}"`;n+=t.newline}const i=o[0].values.length;if(i>0){const l=o.map(c=>Hi(c,t));for(let c=0;c<i;c++){for(let u=0;u<o.length;u++){u>0&&(n=n+t.delimiter);const p=o[u].values[c];p!==null&&(n=n+l[u](p))}c!==i-1&&(n=n+t.newline)}}r!==e.length-1&&(n=n+t.newline)}return n}let Lt=0;function cu(){const e=Math.random();return e>.9?LogLevel.critical:e>.8?LogLevel.error:e>.7?LogLevel.warning:e>.4?LogLevel.info:e>.3?LogLevel.debug:e>.1?LogLevel.trace:LogLevel.unknown}function Jn(){return Lt=(Lt+Math.floor(Math.random()*5))%Yn.length,Yn[Lt]}function _i(e=60){let t=Jn();for(;t.length<e;)t+=" "+Jn();return t}const Yn=["At","vero","eos","et","accusamus","et","iusto","odio","dignissimos","ducimus","qui","blanditiis","praesentium","voluptatum","deleniti","atque","corrupti","quos","dolores","et","quas","molestias","excepturi","sint","occaecati","cupiditate","non","provident","similique","sunt","in","culpa","qui","officia","deserunt","mollitia","animi","id","est","laborum","et","dolorum","fuga","Et","harum","quidem","rerum","facilis","est","et","expedita","distinctio","Nam","libero","tempore","cum","soluta","nobis","est","eligendi","optio","cumque","nihil","impedit","quo","minus","id","quod","maxime","placeat","facere","possimus","omnis","voluptas","assumenda","est","omnis","dolor","repellendus","Temporibus","autem","quibusdam","et","aut","officiis","debitis","aut","rerum","necessitatibus","saepe","eveniet","ut","et","voluptates","repudiandae","sint","et","molestiae","non","recusandae","Itaque","earum","rerum","hic","tenetur","a","sapiente","delectus","ut","aut","reiciendis","voluptatibus","maiores","alias","consequatur","aut","perferendis","doloribus","asperiores","repellat"],Xn={type:"signal",speed:250,spread:3.5,noise:2.2,bands:1};function $i(e,t){const n=(0,W.defaults)(e.stream,Xn);if(n.type==="signal")return zi(e,n,t);if(n.type==="logs")return Ui(e,n,t);if(n.type==="fetch")return Ki(e,n,t);throw new Error(`Unknown Stream Type: ${n.type}`)}function zi(e,t,n){return new vt.y(r=>{const s=`signal-${n.panelId}-${e.refId}`,o=n.maxDataPoints||1e3,i={refId:e.refId,fields:[{name:"time",type:g.time},{name:e.alias??"value",type:g.number}]},{spread:l,speed:c,bands:u=0,noise:p}=t;for(let C=0;C<u;C++){const T=u>1?` ${C+1}`:"";i.fields.push({name:"Min"+T,type:g.number}),i.fields.push({name:"Max"+T,type:g.number})}const m=je.fromDataFrameJSON({schema:i},{maxLength:o});let f=Math.random()*100,h,x=-1;const y=C=>{f+=(Math.random()-.5)*l;const T={values:[[C],[f]]};let L=f,w=f;for(let R=0;R<u;R++)L=L-Math.random()*p,w=w+Math.random()*p,T.values.push([L]),T.values.push([w]);const P={data:T};return m.push(P)};{let C=Date.now()-o*c;for(let T=0;T<o;T++)y(C),C+=c}const v=()=>{x=Date.now(),y(x),r.next({data:[m],key:s,state:fe.Streaming}),h=setTimeout(v,c)};return setTimeout(v,5),()=>{console.log("unsubscribing to stream "+s),clearTimeout(h)}})}function Ui(e,t,n){return new vt.y(r=>{const s=`logs-${n.panelId}-${e.refId}`,o=n.maxDataPoints||1e3,i=new Rt({append:"tail",capacity:o});i.refId=e.refId,i.name=e.alias||"Logs "+e.refId,i.addField({name:"line",type:g.string}),i.addField({name:"time",type:g.time}),i.meta={preferredVisualisationType:"logs"};const{speed:l}=t;let c;const u=()=>{i.fields[0].values.push(_i()),i.fields[1].values.push(Date.now()),r.next({data:[i],key:s}),c=setTimeout(u,l)};return setTimeout(u,5),()=>{console.log("unsubscribing to stream "+s),clearTimeout(c)}})}function Ki(e,t,n){return new vt.y(r=>{const s=`fetch-${n.panelId}-${e.refId}`,o=n.maxDataPoints||1e3;let i=new Rt({append:"tail",capacity:o});i.refId=e.refId,i.name=e.alias||"Fetch "+e.refId;let l;const c=new Zn({callback:{onHeader:p=>{i.fields.length&&(i=new Rt({append:"tail",capacity:o}),i.refId=e.refId,i.name="Fetch "+e.refId);for(const m of p)i.addField(m)},onRow:p=>{i.add(p)}}}),u=p=>{if(p.value){const m=new TextDecoder().decode(p.value);c.readCSV(m)}if(r.next({data:[i],key:s,state:p.done?fe.Done:fe.Streaming}),p.done){console.log("Finished stream"),r.complete();return}return l.read().then(u)};if(!t.url)throw new Error("query.url is not defined");return fetch(new Request(t.url)).then(p=>{p.body&&(l=p.body.getReader(),l.read().then(u))}),()=>{console.log("unsubscribing to stream "+s)}})}const qn=[{value:"datasources",label:"Data Sources"},{value:"search",label:"Search"},{value:"annotations",label:"Annotations"}],Gi=Ce.wl.components.DataSource.TestData.QueryTab,ji=({query:e,datasource:t,onChange:n,onRunQuery:r})=>{e={...Us,...e};const{loading:s,value:o}=qe(async()=>{if(e.scenarioId===I.UV.ManualEntry&&e.points){let R=`Time,Value
`;for(const O of e.points)R+=`${O[1]},${O[0]}
`;n({refId:e.refId,datasource:e.datasource,scenarioId:I.UV.CSVContent,csvContent:R})}const w=await t.getScenarios(),P=[I.UV.Simulation,I.UV.Annotations];return w.map(R=>({...R,hideAliasField:P.includes(R.id)}))},[]),i=w=>{n(w),r()},l=(0,a.useMemo)(()=>o?.find(w=>w.id===e.scenarioId),[o,e]),c=l?.id,u=l?.description,p=w=>{const P=o?.find(O=>O.id===w.value);if(!P)return;const R={scenarioId:w.value,refId:e.refId,alias:e.alias,datasource:e.datasource};switch(P.stringInput&&(R.stringInput=P.stringInput),P.id){case I.UV.GrafanaAPI:R.stringInput="datasources";break;case I.UV.StreamingClient:R.stream=Xn;break;case I.UV.Live:R.channel="random-2s-stream";break;case I.UV.Simulation:R.sim={key:{type:"flight",tick:10}};break;case I.UV.PredictablePulse:R.pulseWave=zs;break;case I.UV.PredictableCSVWave:R.csvWave=me;break;case I.UV.Annotations:R.lines=10;break;case I.UV.USA:R.usa={mode:bt[0].value}}i(R)},m=w=>{const{name:P,value:R,type:O}=w.currentTarget;let z=R;O==="number"&&(z=Number(R)),P==="levelColumn"&&w.currentTarget instanceof HTMLInputElement&&(z=w.currentTarget.checked),i({...e,[P]:z})},f=w=>P=>{const{name:R,value:O,type:z}=P.target;let F=O;z==="number"&&(F=Number(O)),i({...e,[w]:{...e[w],[R]:F}})},h=({value:w})=>{i({...e,stringInput:w})},x=f("stream"),y=f("pulseWave"),v=w=>{i({...e,usa:w})},C=w=>{i({...e,csvWave:w})},T=(0,a.useMemo)(()=>(o||[]).map(w=>({label:w.name,value:w.id})).sort((w,P)=>w.label.localeCompare(P.label)),[o]),L=(0,a.useMemo)(()=>{const w=e.scenarioId??"";return{labels:["random_walk","predictable_pulse"].includes(w),dropPercent:["csv_content","csv_file"].includes(w)}},[e?.scenarioId]);return s?null:a.createElement(a.Fragment,null,a.createElement($,{"aria-label":Gi.scenarioSelectContainer},a.createElement(k,{labelWidth:14,label:"Scenario"},a.createElement(j,{inputId:`test-data-scenario-select-${e.refId}`,options:T,value:T.find(w=>w.value===e.scenarioId),onChange:p,width:32})),l?.stringInput&&a.createElement(k,{label:"String Input"},a.createElement(V,{width:32,id:`stringInput-${e.refId}`,name:"stringInput",placeholder:e.stringInput,value:e.stringInput,onChange:m})),!l?.hideAliasField&&a.createElement(k,{label:"Alias",labelWidth:14},a.createElement(V,{width:32,id:`alias-${e.refId}`,type:"text",placeholder:"optional",pattern:'[^<>&\\\\"]+',name:"alias",value:e.alias,onChange:m})),L.dropPercent&&a.createElement(k,{label:"Drop",tooltip:"Drop a random set of points"},a.createElement(V,{type:"number",min:0,max:100,step:5,width:8,onChange:m,name:"dropPercent",placeholder:"0",value:e.dropPercent,suffix:a.createElement(D,{name:"percentage"})})),L.labels&&a.createElement(k,{label:"Labels",labelWidth:14,tooltip:a.createElement(a.Fragment,null,"Set labels using a key=value syntax:",a.createElement("br",null),'{ key = "value", key2 = "value" }',a.createElement("br",null),'key="value", key2="value"',a.createElement("br",null),"key=value, key2=value",a.createElement("br",null),"Value can contain templates:",a.createElement("br",null),"$seriesIndex - replaced with index of the series")},a.createElement(V,{width:32,id:`labels-${e.refId}`,name:"labels",onChange:m,value:e?.labels,placeholder:"key=value, key2=value2"}))),c===I.UV.RandomWalk&&a.createElement(ks,{onChange:m,query:e,ds:t}),c===I.UV.StreamingClient&&a.createElement(Es,{onChange:x,query:e,ds:t}),c===I.UV.Live&&a.createElement(Zs,{onChange:i,query:e,ds:t}),c===I.UV.Simulation&&a.createElement(Zo,{onChange:i,query:e,ds:t}),c===I.UV.RawFrame&&a.createElement(Ho,{onChange:i,query:e,ds:t}),c===I.UV.CSVFile&&a.createElement(Ds,{onChange:i,query:e,ds:t}),c===I.UV.CSVContent&&a.createElement(Hs,{onChange:i,query:e,ds:t}),c===I.UV.Logs&&a.createElement($,null,a.createElement(k,{label:"Lines",labelWidth:14},a.createElement(V,{type:"number",name:"lines",value:e.lines,width:32,onChange:m,placeholder:"10"})),a.createElement(k,{label:"Level",labelWidth:14},a.createElement(re,{onChange:m,name:"levelColumn",value:!!e.levelColumn}))),c===I.UV.Annotations&&a.createElement($,null,a.createElement(k,{label:"Count",labelWidth:14},a.createElement(V,{type:"number",name:"lines",value:e.lines,width:32,onChange:m,placeholder:"10"}))),c===I.UV.USA&&a.createElement(Jo,{onChange:v,query:e.usa??{}}),c===I.UV.GrafanaAPI&&a.createElement(k,{labelWidth:14,label:"Endpoint"},a.createElement(j,{options:qn,onChange:h,width:32,value:qn.find(w=>w.value===e.stringInput)})),c===I.UV.Arrow&&a.createElement(k,{grow:!0},a.createElement(ct,{name:"stringInput",value:e.stringInput,rows:10,placeholder:"Copy base64 text data from query result",onChange:m})),c===I.UV.FlameGraph&&a.createElement(k,{label:"Diff profile",grow:!0},a.createElement(re,{value:!!e.flamegraphDiff,onChange:w=>{i({...e,flamegraphDiff:w.currentTarget.checked})}})),c===I.UV.PredictablePulse&&a.createElement(Xs,{onChange:y,query:e,ds:t}),c===I.UV.PredictableCSVWave&&a.createElement(Gs,{onChange:C,waves:e.csvWave}),c===I.UV.NodeGraph&&a.createElement(Js,{onChange:w=>n({...e,nodes:w}),query:e}),c===I.UV.ServerError500&&a.createElement(Qs,{onChange:i,query:e,ds:t}),c===I.UV.Trace&&a.createElement(k,{labelWidth:14,label:"Span count"},a.createElement(V,{type:"number",name:"spanCount",value:e.spanCount,width:32,onChange:m,placeholder:"10"})),u&&a.createElement("p",null,u))};class Qi extends a.PureComponent{constructor(t){super(t)}render(){return a.createElement("div",null,"See github for more information about setting up a reproducible test environment.",a.createElement("br",null),a.createElement("br",null),a.createElement(vn,{variant:"secondary",href:"https://github.com/grafana/grafana/tree/main/devenv",target:"_blank",rel:"noopener noreferrer"},"GitHub"),a.createElement("br",null))}}var ee=S(21964),Zi=S(59069),Ji=S(9360),Yi=S(16226),oe=S(37549),er=(e=>(e.Annotations="annotations",e.AlertStates="alertStates",e))(er||{}),Xi=(e=>(e.Equal="Equal",e.NotEqual="NotEqual",e.EqualRegEx="EqualRegEx",e.NotEqualRegEx="NotEqualRegEx",e))(Xi||{});const uu=e=>!e||typeof e!="object"?!1:"importFromAbstractQueries"in e,du=e=>!e||typeof e!="object"?!1:"exportToAbstractQueries"in e,qi="__searchFilter",el=e=>e&&typeof e=="string"?e.indexOf(qi)!==-1:!1,tl=e=>{const{query:t,wildcardChar:n}=e;if(!el(t))return{};let{options:r}=e;return r=r||{searchFilter:""},{__searchFilter:{value:r.searchFilter?`${r.searchFilter}${n}`:`${n}`,text:""}}};var tr=(e=>(e.DataSource="ds",e.Plugin="plugin",e.Grafana="grafana",e.Stream="stream",e))(tr||{}),nl=(e=>(e.DataStream="stream",e.DataFrame="frame",e.JSON="json",e))(nl||{}),rl=(e=>(e.Pending="pending",e.Connected="connected",e.Connecting="connecting",e.Disconnected="disconnected",e.Shutdown="shutdown",e.Invalid="invalid",e))(rl||{}),sl=(e=>(e.Status="status",e.Join="join",e.Leave="leave",e.Message="message",e))(sl||{});function pu(e){return e.type==="status"}function mu(e){return e.type==="join"}function fu(e){return e.type==="leave"}function gu(e){return e.type==="message"}function hu(e){if(e?.length){let t=e.trim().split("/");if(t.length>=3)return{scope:t[0],namespace:t[1],path:t.slice(2).join("/")}}}function yu(e){return!!(e?.path&&e.namespace&&e.scope)}function bu(e){if(!e.scope)return"";let t=e.scope;return!e.namespace||(t+="/"+e.namespace,!e.path)?t:t+"/"+e.path}var ol=S(32063),al=S(12399),il=S(85445),ll=S(78942);function nr(e,t){const n=["A","B","C","D","E","F","G","H"],r=[];if(t>5)return[];for(const s of n){const o=`${e}${s}`;r.push({name:o,children:nr(o,t+1)})}return r}function Pt(e,t,n){if(n>=t.length||t[n]==="*")return e;const r=t[n];let s=[],o=[r];r.startsWith("{")&&(o=r.replace(/\{|\}/g,"").split(","));for(const i of e)for(const l of o)if(l.indexOf("*")!==-1){const c=l.replace("*","");new RegExp(`^${c}.*`,"gi").test(i.name)&&(s=s.concat(Pt([i],t,n+1)))}else i.name===l&&(s=s.concat(Pt(i.children,t,n+1)));return s}function cl(e){if(e.indexOf("value")===0)return[{name:e,children:[]}];const t=nr("",0);return Pt(t,e.split("."),0)}var A=(e=>(e.id="id",e.title="title",e.subTitle="subtitle",e.mainStat="mainstat",e.secondaryStat="secondarystat",e.arc="arc__",e.icon="icon",e.color="color",e.source="source",e.target="target",e.detail="detail__",e.nodeRadius="noderadius",e.thickness="thickness",e.highlighted="highlighted",e))(A||{}),ae=(e=>(e.Thresholds="thresholds",e.PaletteClassic="palette-classic",e.PaletteClassicByName="palette-classic-by-name",e.PaletteSaturated="palette-saturated",e.ContinuousGrYlRd="continuous-GrYlRd",e.ContinuousRdYlGr="continuous-RdYlGr",e.ContinuousBlYlRd="continuous-BlYlRd",e.ContinuousYlRd="continuous-YlRd",e.ContinuousBlPu="continuous-BlPu",e.ContinuousYlBl="continuous-YlBl",e.ContinuousBlues="continuous-blues",e.ContinuousReds="continuous-reds",e.ContinuousGreens="continuous-greens",e.ContinuousPurples="continuous-purples",e.Fixed="fixed",e.Shades="shades",e))(ae||{});const vu="#808080",ul={fields:[{name:A.id,type:g.string,config:{links:[{title:"Traces/All",url:"",internal:{query:{queryType:"getTraceSummaries",query:'service(id(name: "${__data.fields.name}", type: "${__data.fields.type}"))'},datasourceUid:"Ax4erxHGz",datasourceName:"Trace data source"}},{title:"Traces/OK",url:"",internal:{query:{queryType:"getTraceSummaries",query:'service(id(name: "${__data.fields.name}", type: "${__data.fields.type}")) { ok = true }'},datasourceUid:"Ax4erxHGz",datasourceName:"Trace data source"}},{title:"Traces/Errors",url:"",internal:{query:{queryType:"getTraceSummaries",query:'service(id(name: "${__data.fields.name}", type: "${__data.fields.type}")) { error = true }'},datasourceUid:"Ax4erxHGz",datasourceName:"Trace data source"}},{title:"Traces/Faults",url:"",internal:{query:{queryType:"getTraceSummaries",query:'service(id(name: "${__data.fields.name}", type: "${__data.fields.type}")) { fault = true }'},datasourceUid:"Ax4erxHGz",datasourceName:"Trace data source"}}]},values:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]},{name:A.title,type:g.string,config:{displayName:"Name"},values:["auth","products","customers","orders","products","orders","api","shipping","orders","execute-api","shipping","www","api","www","products"]},{name:A.subTitle,type:g.string,config:{displayName:"Type"},values:["Compute","SQL","SQL","SQL","remote","Function","Compute","Function","Function","remote","Function","Compute","client","client","Compute"]},{name:A.mainStat,type:g.number,config:{unit:"ms/t",displayName:"Average response time"},values:[3.5394042646735553,15.906441318223264,4.913011921591567,7.4163203042094095,1092,22.85961441405067,56.135855729084696,4.45946191601527,12.818300278280843,4.25,12.565442646791492,77.63447512700567,40.387096774193544,77.63447512700567,27.648950187374872]},{name:A.secondaryStat,type:g.number,config:{unit:"t/min",displayName:"Transactions per minute"},values:[50.56317154501667,682.4,512.8416666666667,125.64444444444445,.005585812037424941,137.59722222222223,300.0527777777778,30.582348853370394,125.77222222222223,.028706417080318163,30.582348853370394,165.675,.100021510002151,165.675,162.33055555555555]},{name:A.arc+"success",type:g.number,config:{color:{mode:ae.Fixed,fixedColor:"green"},displayName:"Sucesss"},values:[.9338865684765882,1,1,1,.5,1,.9901128505170387,.9069260134520997,1,0,.9069260134520997,.9624432037288534,0,.9624432037288534,.9824945669843769]},{name:A.arc+"faults",type:g.number,config:{color:{mode:ae.Fixed,fixedColor:"red"},displayName:"Faults"},values:[0,0,0,0,.5,0,.009479813736472288,0,0,0,0,.017168821152524185,0,.017168821152524185,.01750543301562313]},{name:A.arc+"errors",type:g.number,config:{color:{mode:ae.Fixed,fixedColor:"semi-dark-yellow"},displayName:"Errors"},values:[.06611343152341174,0,0,0,0,0,.0004073357464890436,.09307398654790038,0,1,.09307398654790038,.02038797511862247,1,.02038797511862247,0]},{name:A.arc+"throttled",type:g.number,config:{color:{mode:ae.Fixed,fixedColor:"purple"},displayName:"Throttled"},values:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}],meta:{preferredVisualisationType:"nodeGraph"},name:"nodes"},dl={fields:[{name:A.id,type:g.string,config:{links:[{title:"Traces/All",url:"",internal:{query:{queryType:"getTraceSummaries",query:'edge("${__data.fields.sourceName}", "${__data.fields.targetName}")'},datasourceUid:"Ax4erxHGz",datasourceName:"Trace data source"}},{title:"Traces/OK",url:"",internal:{query:{queryType:"getTraceSummaries",query:'edge("${__data.fields.sourceName}", "${__data.fields.targetName}") { ok = true }'},datasourceUid:"Ax4erxHGz",datasourceName:"Trace data source"}},{title:"Traces/Errors",url:"",internal:{query:{queryType:"getTraceSummaries",query:'edge("${__data.fields.sourceName}", "${__data.fields.targetName}") { error = true }'},datasourceUid:"Ax4erxHGz",datasourceName:"Trace data source"}},{title:"Traces/Faults",url:"",internal:{query:{queryType:"getTraceSummaries",query:'edge("${__data.fields.sourceName}", "${__data.fields.targetName}") { fault = true }'},datasourceUid:"Ax4erxHGz",datasourceName:"Trace data source"}}]},values:["0__2","5__8","6__0","6__5","6__9","6__2","6__14","6__4","8__3","10__7","11__0","11__6","12__6","13__11","14__1","14__2","14__10"]},{name:A.source,type:g.string,config:{},values:[0,5,6,6,6,6,6,6,8,10,11,11,12,13,14,14,14]},{name:"sourceName",type:g.string,config:{},values:["auth","orders","api","api","api","api","api","api","orders","shipping","www","www","api","www","products","products","products"]},{name:A.target,type:g.string,config:{},values:[2,8,0,5,9,2,14,4,3,7,0,6,6,11,1,2,10]},{name:"targetName",type:g.string,config:{},values:["customers","orders","auth","orders","execute-api","customers","products","products","orders","shipping","auth","api","api","www","products","customers","shipping"]},{name:A.mainStat,type:g.string,config:{displayName:"Response percentage"},values:["Success 100.00%","Success 100.00%","Success 100.00%","Success 100.00%","Errors 100.00%","Success 100.00%","Faults 1.75%","Faults 50.00%","Success 100.00%","Errors 9.31%","Errors 6.62%","Faults 1.13%","Errors 100.00%","Faults 1.72%","Success 100.00%","Success 100.00%","Faults 9.30%"]},{name:A.secondaryStat,type:g.number,config:{unit:"t/min",displayName:"Transactions per minute"},values:[50.56317154501667,125.77222222222223,.03333333333333333,137.59722222222223,.022222222222222223,299.96666666666664,162.33055555555555,.005555555555555556,125.64444444444445,30.582348853370394,50.51111111111111,299.9166666666667,.100021510002151,165.675,682.4,162.33055555555555,30.558333333333334]}],meta:{preferredVisualisationType:"nodeGraph"},name:"edges"};function rr(e=10){const t=[],n=[],r={id:"root",title:"root",subTitle:"client",success:1,error:0,stat1:Math.random(),stat2:Math.random(),edges:n};t.push(r);const s=[r],o=3;for(let m=1;m<e;m++){const f=pl(m);t.push(f);const h=Math.floor(Math.random()*Math.floor(s.length-1)),x=s[h];x.edges.push(f.id),x.edges.length>=o&&s.splice(h,1),s.push(f)}const i=Math.floor(e/2);for(let m=0;m<=i;m++){const f=Math.floor(Math.random()*Math.floor(t.length-1)),h=Math.floor(Math.random()*Math.floor(t.length-1));f===h||t[f].id==="0"||t[h].id==="0"||t[f].edges.push(t[h].id)}const l={[A.id]:{values:[],type:g.string,config:{links:[{title:"test data link",url:"",internal:{query:{scenarioId:"logs",alias:"from service graph",stringInput:"tes"},datasourceUid:"gdev-testdata",datasourceName:"gdev-testdata"}}]}},[A.title]:{values:[],type:g.string},[A.subTitle]:{values:[],type:g.string},[A.mainStat]:{values:[],type:g.number,config:{displayName:"Transactions per second"}},[A.secondaryStat]:{values:[],type:g.number,config:{displayName:"Average duration"}},[A.arc+"success"]:{values:[],type:g.number,config:{color:{fixedColor:"green",mode:ae.Fixed},displayName:"Success"}},[A.arc+"errors"]:{values:[],type:g.number,config:{color:{fixedColor:"red",mode:ae.Fixed},displayName:"Errors"}},[A.icon]:{values:[],type:g.string},[A.nodeRadius]:{values:[],type:g.number},[A.highlighted]:{values:[],type:g.boolean}},c=new q({name:"nodes",fields:Object.keys(l).map(m=>({...l[m],name:m})),meta:{preferredVisualisationType:"nodeGraph"}}),u={name:"edges",fields:[{name:A.id,values:[],type:g.string,config:{}},{name:A.source,values:[],type:g.string,config:{}},{name:A.target,values:[],type:g.string,config:{}},{name:A.mainStat,values:[],type:g.number,config:{}},{name:A.highlighted,values:[],type:g.boolean,config:{}},{name:A.thickness,values:[],type:g.number,config:{}}],meta:{preferredVisualisationType:"nodeGraph"},length:0},p=new Set;for(const m of t){l.id.values.push(m.id),l.title.values.push(m.title),l[A.subTitle].values.push(m.subTitle),l[A.mainStat].values.push(m.stat1),l[A.secondaryStat].values.push(m.stat2),l.arc__success.values.push(m.success),l.arc__errors.values.push(m.error);const f=Math.random();l[A.icon].values.push(f>.9?"database":f<.1?"cloud":""),l[A.nodeRadius].values.push(Math.max(f*100,30)),l[A.highlighted].values.push(Math.random()>.5);for(const h of m.edges){const x=`${m.id}--${h}`;p.has(x)||(p.add(x),u.fields[0].values.push(`${m.id}--${h}`),u.fields[1].values.push(m.id),u.fields[2].values.push(h),u.fields[3].values.push(Math.random()*100),u.fields[4].values.push(Math.random()>.5),u.fields[5].values.push(Math.ceil(Math.random()*15)))}}return u.length=u.fields[0].values.length,[c,u]}function pl(e){const t=Math.random(),n=1-t;return{id:`service:${e}`,title:`service:${e}`,subTitle:"service",success:t,error:n,stat1:Math.random(),stat2:Math.random(),edges:[],highlighted:Math.random()>.5}}function ml(){return[new q(ul),new q(dl)]}function fl(e=10){return rr(e)[1]}const gl={name:"response",meta:{preferredVisualisationType:"flamegraph"},fields:[{name:"level",values:[0,1,2,3,4,5,6,7,8,9,10,11,12,11,12,13,14,15,16,10,11,12,13,9,10,9,9,7,7,6,5,6,7,8,8,9,10,11,12,13,8,9,10,6,7,8,9,10,11,12,13,14,15,4,5,6,7,8,9,9,10,11,12,11,12,13,8,8,7,8,8,7,6,7,8,9,9,10,11,12,13,14,15,16,17,18,9,8,8,7,8,6,7,8,8,7,6,7,8,8,8,9,10,11,12,4,5,6,7,8,9,9,10,11,9,10,7,4,5,6,7,8,8,7,8,9,10,11,12,13,10,10,11,9,10,10,11,12,13,14,15,16,17,8,9,5,6,7,6,7,6,5,6,6,6,6,5,6,7,6,5,6,7,8,4,5,6,5,6,5,4,5,5,3,4,5,6,7,7,8,7,8,9,8,9,8,7,8,9,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,24,24,25,26,24,25,22,23,23,24,25,26,27,28,29,30,31,32,21,22,23,24,25,26,27,26,24,25,26,25,24,24,25,26,27,28,29,30,31,32,33,34,35,25,26,27,25,26,24,23,24,24,25,23,23,22,23,24,24,23,24,25,26,24,25,23,24,24,25,23,23,24,24,23,23,23,23,23,24,25,22,23,24,25,22,23,24,25,26,27,28,25,26,27,28,29,24,22,23,24,25,26,27,28,29,30,31,32,33,21,22,23,23,24,24,24,22,23,24,25,24,23,24,24,23,22,23,24,25,25,26,27,24,22,23,24,25,26,27,28,29,30,31,32,24,21,22,23,24,25,26,27,28,21,22,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,24,25,26,27,28,23,24,25,26,27,28,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,31,30,28,29,30,31,32,33,34,35,36,37,29,30,31,26,27,28,28,28,29,27,26,27,26,25,26,27,28,29,30,31,32,32,33,34,30,31,32,33,34,33,34,35,36,37,38,39,29,30,31,32,32,27,28,28,27,28,29,30,31,32,33,34,35,36,37,38,39,40,27,28,27,28,29,30,31,32,33,34,35,36,28,27,28,28,29,27,27,28,27,27,26,27,28,28,29,29,29,26,27,27,28,29,30,29,30,30,29,30,31,28,29,30,28,28,28,28,29,30,29,30,27,28,28,26,27,26,27,27,28,29,26,27,28,29,28,27,28,29,30,30,28,29,30,31,32,32,27,28,26,25,25,26,27,28,29,30,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,31,30,31,32,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,29,26,27,28,29,30,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,31,30,29,29,29,25,26,27,28,26,26,27,28,27,28,28,26,27,28,28,27,28,25,26,27,28,29,30,31,32,33,34,25,25,26,27,28,25,26,24,25,22,23,24,25,26,27,28,29,30,31,32,33,33,34,34,32,33,34,34,32,28,29,30,31,27,28,29,26,27,28,29,30,31,32,33,34,26,27,28,29,24,25,26,27,28,29,30,27,28,26,27,25,26,27,28,29,26,25,26,27,26,27,27,28,29,30,31,32,33,34,35,36,37,38,38,39,30,31,32,26,27,28,27,28,29,25,26,27,28,29,30,31,32,28,29,28,29,28,29,27,28,29,30,31,29,30,31,32,33,34,35,27,28,29,30,31,32,33,34,35,36,37,38,28,29,30,31,28,29,30,31,26,25,26,27,28,29,27,28,29,30,25,26,15,14,15,16,17,13,14,15,16,15,16,17,18,19,20,12,13,14,15,16,17,10,11,12,13,14,12,13,10,11,12,13,14,15,2,3,4,5,6,7,8,4,5,6,7,8,9,2,3,1,2,3,4,5,6,6,6,6,7,8,8,9,6,7,6,6,6,6,5,5,6,5,5,5,5,5,6,7,4,2,3,4,5,6,4,5,6,7,8,9,1,2,3,4,5,6,7,8,2,3,4,5,6,7,8,9,2,3,4,5,6,1,2,3,3,4,3,2,1,2,3,4,5,6,5,6,7,8,5,5,6,7,4,5,6,4,2,3,4,3,4,5,6,5,5,6,4,1,2,3,4,5,6,2,3,4,5,6,7,8,9,10,11,12,13,2,3,4,5,6,7,8,9,10,11,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,16,17,18,19,16,17,18,19,20,21,22,23,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,8,9,10,11,12,13,14,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4]},{name:"value",values:[1646e7,41e8,41e8,367e7,113e7,106e7,102e7,15e7,15e7,5e7,3e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,8e7,4e7,1e7,1e7,53e7,8e7,4e7,7e7,5e7,5e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,1e7,39e7,39e7,18e7,7e7,5e7,1e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,1e7,1e7,1e7,11e7,8e7,6e7,1e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,1e7,1e7,3e7,2e7,4e7,3e7,2e7,1e7,1e7,4e7,4e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,21e7,21e7,21e7,13e7,13e7,1e7,5e7,4e7,4e7,7e7,1e7,4e7,184e7,24e7,24e7,5e7,1e7,1e7,19e7,13e7,5e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,8e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,6e7,1e7,133e7,129e7,32e7,1e7,1e7,1e7,13e7,1e7,1e7,6e7,3e7,1e8,4e7,1e7,1e7,4e7,3e7,1e7,1e7,7e7,1e7,1e7,5e7,4e7,1e7,3e7,2e7,1e7,43e7,43e7,43e7,43e7,1e7,4e7,2e7,37e7,2e7,1e7,18e7,1e7,3e7,1e7,1e7,1e7,563e7,558e7,558e7,558e7,558e7,558e7,558e7,558e7,558e7,554e7,554e7,553e7,551e7,55e8,549e7,549e7,161e7,161e7,154e7,154e7,19e7,17e7,17e7,1e7,2e7,12e7,1e7,1e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,85e7,35e7,3e8,12e7,11e7,8e7,2e7,1e7,8e7,4e7,2e7,1e7,1e7,5e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,37e7,4e7,2e7,1e7,1e8,1e7,1e7,1e7,3e7,3e7,8e7,2e7,1e7,1e7,1e7,4e7,1e7,1e7,1e7,2e7,1e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,11e7,11e7,6e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,48e7,15e7,1e7,13e7,1e7,1e7,5e7,14e7,8e7,4e7,1e7,1e7,2e7,1e7,1e7,2e7,12e7,6e7,4e7,1e7,1e7,1e7,1e7,2e7,3e7,3e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,6e7,6e7,6e7,6e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,2e7,2e7,3e7,3e7,3e7,3e7,3e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,388e7,388e7,388e7,388e7,387e7,323e7,323e7,321e7,32e7,7e7,7e7,4e7,4e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,7e7,6e7,2e7,3e7,1e7,1e7,1e7,1e8,2e7,5e7,185e7,41e7,11e7,11e7,9e7,6e7,6e7,4e7,2e7,2e7,2e7,3e7,3e7,3e7,1e7,1e7,2e7,2e7,2e7,2e7,2e7,2e7,1e7,2e7,2e7,2e7,1e7,1e7,3e7,2e7,1e7,4e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,4e7,1e7,8e7,3e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,6e7,3e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,16e7,12e7,2e7,1e8,5e7,1e7,1e7,64e7,1e7,55e7,41e7,8e7,6e7,26e7,2e7,17e7,6e7,3e7,2e7,2e7,2e7,1e7,1e7,1e7,2e7,5e7,4e7,1e7,1e7,1e7,7e7,3e7,4e7,29e7,9e7,3e7,1e7,1e7,1e7,1e7,21e7,2e7,1e7,1e7,1e7,12e7,9e7,9e7,6e7,1e7,3e7,3e7,3e7,3e7,1e7,2e7,5e7,1e7,1e7,1e7,28e7,15e7,15e7,15e7,6e7,3e7,8e7,5e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,13e7,13e7,13e7,7e7,3e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,4e7,1e7,59e7,2e7,2e7,1e7,4e7,15e7,3e7,3e7,12e7,1e7,8e7,37e7,26e7,4e7,15e7,11e7,9e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,2e7,2e7,7e7,6e7,2e7,2e7,64e7,64e7,25e7,25e7,23e7,18e7,17e7,17e7,17e7,17e7,5e7,1e7,4e7,1e7,1e7,6e7,6e7,1e7,3e7,1e7,1e7,1e7,1e7,1e7,5e7,5e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,39e7,6e7,4e7,3e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,3e7,1e7,1e7,1e7,1e7,1e7,9e7,1e7,1e7,6e7,1e7,4e7,4e7,4e7,3e7,3e7,3e7,3e7,3e7,3e7,3e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,1e7,1e7,1e7,1e7,1e7,18e7,17e7,5e7,2e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,3e7,3e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,9e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,7e7,7e7,7e7,7e7,1e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,2e7,2e7,1e7,4e7,4e7,1e7,1e7,1e7,1e7,1e7,3e7,3e7,3e7,3e7,3e7,3e7,1e7,1e7,619e7,617e7,617e7,607e7,446e7,1e7,5e7,44e7,54e7,2e7,1e7,1e7,1e7,98e7,1e7,5e7,48e7,54e7,5e7,21e7,3e7,3e7,6e7,18e7,1e7,21e7,2e7,2e7,2e7,1e8,2e7,2e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,4e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,1e7,1e7,1e7,1e7,1e7,17e7,16e7,7e7,3e7,1e7,4e7,1e7,17e7,9e7,9e7,7e7,2e7,1e7,3e7,3e7,3e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,8e7,1e7,1e7,7e7,6e7,1e7,1e7,2e7,2e7,2e7,1e7,8e7,1e7,1e7,1e7,1e7,1e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,2e7,5e7,5e7,5e7,5e7,5e7,5e7,5e7,1e7,1e7,1e7,6e7,6e7,6e7,6e7,6e7,6e7,6e7,4e7,4e7,3e7,3e7,3e7,3e7,3e7,3e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7,1e7],config:{unit:"short"}},{name:"self",values:[16460,4100,4100,3670,1130,1060,1020,150,150,50,30,20,10,10,10,10,10,10,10,10,10,10,10,80,40,10,10,530,80,40,70,50,50,30,10,10,10,10,10,10,10,10,10,20,20,20,20,20,20,20,20,20,10,390,390,180,70,50,10,20,20,10,10,10,10,10,10,10,20,10,10,10,110,80,60,10,20,20,20,10,10,10,10,10,10,10,20,10,10,30,20,40,30,20,10,10,40,40,10,10,10,10,10,10,10,210,210,210,130,130,10,50,40,40,70,10,40,1840,240,240,50,10,10,190,130,50,20,10,10,10,10,10,10,80,20,10,10,10,10,10,10,10,10,60,10,1330,1290,320,10,10,10,130,10,10,60,30,100,40,10,10,40,30,10,10,70,10,10,50,40,10,30,20,10,430,430,430,430,10,40,20,370,20,10,180,10,30,10,10,10,5630,5580,5580,5580,5580,5580,5580,5580,5580,5540,5540,5530,5510,5500,5490,5490,1610,1610,1540,1540,190,170,170,10,20,120,10,10,20,20,20,10,10,10,10,10,10,10,10,10,10,10,850,350,300,120,110,80,20,10,80,40,20,10,10,50,10,10,10,10,10,10,10,10,10,10,10,10,10,10,20,20,20,20,10,10,10,10,10,370,40,20,10,100,10,10,10,30,30,80,20,10,10,10,40,10,10,10,20,10,20,10,10,10,10,10,10,10,110,110,60,20,20,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,480,150,10,130,10,10,50,140,80,40,10,10,20,10,10,20,120,60,40,10,10,10,10,20,30,30,20,20,20,20,20,20,20,20,20,10,10,10,10,10,10,10,10,10,10,10,60,60,60,60,30,10,10,10,10,10,10,10,10,10,10,10,10,20,20,20,20,20,30,30,30,30,30,30,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,3880,3880,3880,3880,3870,3230,3230,3210,320,70,70,40,40,20,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,20,30,10,10,10,10,10,10,10,10,10,20,20,20,70,60,20,30,10,10,10,100,20,50,1850,410,110,110,90,60,60,40,20,20,20,30,30,30,10,10,20,20,20,20,20,20,10,20,20,20,10,10,30,20,10,40,10,10,10,10,10,10,10,10,10,10,10,10,10,40,10,80,30,30,10,10,10,10,10,10,10,20,60,30,30,10,10,10,10,10,10,160,120,20,100,50,10,10,640,10,550,410,80,60,260,20,170,60,30,20,20,20,10,10,10,20,50,40,10,10,10,70,30,40,290,90,30,10,10,10,10,210,20,10,10,10,120,90,90,60,10,30,30,30,30,10,20,50,10,10,10,280,150,150,150,60,30,80,50,20,20,20,20,20,20,20,20,20,20,20,20,10,10,10,10,10,10,10,20,20,20,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,130,130,130,70,30,30,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,40,10,590,20,20,10,40,150,30,30,120,10,80,370,260,40,150,110,90,10,10,10,10,10,10,10,10,10,10,20,20,20,20,20,70,60,20,20,640,640,250,250,230,180,170,170,170,170,50,10,40,10,10,60,60,10,30,10,10,10,10,10,50,50,20,10,10,10,10,10,10,10,10,10,10,10,10,10,390,60,40,30,20,20,10,10,10,10,10,30,10,10,10,10,10,90,10,10,60,10,40,40,40,30,30,30,30,30,30,30,30,10,10,10,10,10,10,20,10,10,10,10,10,180,170,50,20,20,20,20,10,10,10,10,10,10,10,30,30,20,20,20,10,10,10,10,10,10,10,90,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,70,70,70,70,10,20,20,10,10,10,10,10,10,10,10,10,10,10,10,10,10,20,20,10,10,10,10,10,10,10,10,10,10,10,10,10,10,20,20,10,10,10,10,10,20,20,20,20,20,10,40,40,10,10,10,10,10,30,30,30,30,30,30,10,10,6190,6170,6170,6070,4460,10,50,440,540,20,10,10,10,980,10,50,480,540,50,210,30,30,60,180,10,210,20,20,20,100,20,20,10,10,10,10,10,10,10,10,10,40,10,10,10,10,10,10,10,20,20,20,20,20,20,20,20,10,10,10,10,10,170,160,70,30,10,40,10,170,90,90,70,20,10,30,30,30,30,10,10,10,10,10,10,10,10,80,10,10,70,60,10,10,20,20,20,10,80,10,10,10,10,10,20,20,20,20,20,20,20,20,20,20,20,20,50,50,50,50,50,50,50,10,10,10,60,60,60,60,60,60,60,40,40,30,30,30,30,30,30,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],config:{unit:"short"}},{name:"label",type:g.enum,values:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,15,15,16,17,14,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,28,30,31,32,33,34,35,41,42,43,44,40,28,29,45,46,47,48,49,50,51,52,53,27,53,28,54,55,27,28,56,45,46,49,50,51,31,57,58,59,60,36,53,52,54,28,54,28,36,29,12,27,28,36,29,45,46,47,48,61,62,63,6,7,8,21,9,10,11,19,20,23,64,14,15,18,65,66,15,15,15,15,15,16,65,18,16,66,18,65,66,67,68,69,31,70,71,72,18,65,73,74,75,54,12,12,76,77,78,79,80,81,82,83,84,74,85,74,86,87,88,89,90,91,92,90,93,91,94,95,96,97,12,98,12,99,100,12,101,102,103,104,99,103,105,106,107,108,109,107,110,107,111,107,112,107,113,114,115,116,117,118,119,120,95,121,122,123,124,125,126,12,127,125,54,12,28,128,51,31,57,58,129,130,131,132,133,134,135,136,137,82,83,138,139,79,12,77,82,140,141,142,143,28,144,145,146,31,147,148,149,150,54,151,152,153,154,27,155,28,36,156,157,135,158,159,160,140,150,54,53,152,153,161,160,162,159,163,164,78,79,165,166,154,138,167,137,82,168,169,170,171,172,173,140,152,153,174,175,141,142,143,28,36,82,176,28,45,46,49,50,51,31,57,58,59,60,43,27,53,28,177,56,36,55,54,28,36,53,27,52,28,178,44,40,28,29,45,46,49,155,54,28,144,145,146,31,147,148,179,180,181,29,182,183,184,185,186,187,180,188,189,190,191,192,193,194,195,62,4,26,27,28,30,31,32,33,34,35,196,197,198,199,200,29,201,197,198,199,200,29,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,107,219,220,221,222,223,224,225,226,4,5,227,228,19,20,229,230,231,232,233,234,235,236,237,235,236,238,239,240,241,242,217,243,244,26,245,40,28,30,31,32,33,34,35,27,28,29,246,247,158,248,249,12,250,251,12,252,253,254,226,4,26,27,28,29,36,37,38,245,40,28,255,29,30,31,32,33,34,35,41,5,227,228,19,9,54,28,155,256,141,142,143,28,144,145,146,31,147,148,179,180,181,257,159,140,152,153,258,175,69,31,70,71,196,83,259,248,249,12,260,249,12,261,248,262,27,53,28,36,29,56,263,260,186,187,264,265,180,188,181,266,267,268,269,267,268,149,261,270,271,180,181,264,265,27,53,28,82,83,272,149,271,264,265,273,54,28,36,12,256,274,275,159,276,141,142,143,28,29,36,158,159,277,278,279,4,5,227,244,280,228,19,20,229,230,231,232,233,234,235,236,237,235,236,238,239,240,241,242,217,281,9,10,11,282,20,229,230,231,232,233,234,235,236,237,235,236,238,239,240,241,242,217,283,62,63,227,228,9,19,281,229,230,231,232,233,234,235,236,237,284,285,286,287,288,20,289,283,244,290,291,27,28,36,149,271,264,265,180,188,181,187,180,188,181,264,265,292,293,294,54,28,30,31,32,33,34,260,295,269,267,268,296,297,298,260,299,300,301,302,303,304,31,305,306,148,179,264,180,181,188,307,180,188,181,149,308,309,269,267,310,308,309,311,31,312,313,314,315,316,317,318,31,319,306,148,320,321,284,285,286,287,288,322,12,323,53,256,141,142,143,53,159,253,273,324,254,259,226,4,26,245,40,28,30,31,32,33,34,325,35,326,27,28,29,263,27,53,186,187,180,292,293,327,328,329,330,331,332,333,334,323,53,335,54,336,329,330,331,332,337,338,339,31,340,341,342,294,54,28,45,46,49,50,51,31,57,58,343,344,345,346,217,347,215,216,217,27,14,15,18,348,349,15,16,348,257,225,251,27,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,182,183,184,185,146,365,366,367,352,353,27,53,368,355,358,359,360,361,369,236,237,370,371,372,373,238,239,240,241,242,217,374,375,376,31,377,378,35,379,380,41,326,381,382,383,384,72,196,385,196,386,387,56,388,389,390,391,392,325,393,394,382,395,396,397,398,399,400,31,401,402,403,404,405,406,407,408,409,31,410,411,412,413,414,415,213,214,215,216,217,416,417,27,28,29,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,318,434,435,436,437,438,439,440,441,442,443,439,444,427,445,446,435,428,435,446,447,448,449,450,352,353,451,452,408,409,31,410,411,314,315,316,317,318,236,453,239,240,241,242,217,454,455,456,457,458,459,460,461,462,463,464,203,465,205,466,467,468,469,470,40,28,45,46,49,50,471,472,473,474,148,475,476,473,474,148,307,180,181,191,477,193,478,479,480,481,482,483,67,68,69,31,70,71,72,484,485,486,487,27,28,36,488,489,490,40,28,30,31,32,33,34,35,41,491,213,214,492],config:{type:{enum:{text:["total","test/pkg/agent.(*Target).start.func1","test/pkg/agent.(*Target).scrape","test/pkg/distributor.(*Distributor).Push","compress/gzip.(*Writer).Write","compress/flate.(*compressor).write","compress/flate.(*compressor).deflate","compress/flate.(*compressor).writeBlock","compress/flate.(*huffmanBitWriter).writeBlock","compress/flate.(*huffmanBitWriter).indexTokens","compress/flate.(*huffmanEncoder).generate","compress/flate.(*huffmanEncoder).bitCounts","runtime.memmove","compress/flate.(*huffmanEncoder).assignEncodingAndSize","sort.Sort","sort.quickSort","sort.insertionSort","compress/flate.(*byFreq).sort","sort.doPivot","compress/flate.(*huffmanBitWriter).writeTokens","compress/flate.(*huffmanBitWriter).writeCode","compress/flate.offsetCode","compress/flate.(*huffmanBitWriter).dynamicSize","compress/flate.(*compressor).findMatch","compress/flate.matchLen","compress/flate.hash4","compress/flate.NewWriter","runtime.newobject","runtime.mallocgc","runtime.memclrNoHeapPointers","runtime.gcAssistAlloc","runtime.systemstack","runtime.gcAssistAlloc.func1","runtime.gcAssistAlloc1","runtime.gcDrainN","runtime.scanobject","runtime.heapBitsSetType","runtime.heapBitsSetTypeGCProg","runtime.runGCProg","compress/flate.(*compressor).initDeflate","runtime.makeslice","runtime.pageIndexOf","test/pkg/pprof.OpenRaw","test/pkg/gen/google/v1.(*Profile).UnmarshalVT","test/pkg/gen/google/v1.(*Sample).UnmarshalVT","runtime.(*mcache).nextFree","runtime.(*mcache).refill","runtime.(*mcentral).uncacheSpan","runtime.(*spanSet).push","runtime.(*mcentral).cacheSpan","runtime.(*mcentral).grow","runtime.(*mheap).alloc","runtime.getMCache","runtime.nextFreeFast","runtime.growslice","test/pkg/gen/google/v1.(*Location).UnmarshalVT","runtime.heapBitsForAddr","runtime.(*mheap).alloc.func1","runtime.(*mheap).allocSpan","runtime.(*mheap).allocMSpanLocked","runtime.(*fixalloc).alloc","runtime.(*headTailIndex).incTail","compress/gzip.(*Writer).Close","compress/flate.(*compressor).close","test/pkg/pprof.(*Profile).Normalize","test/pkg/pprof.(*sortedSample).Less","test/pkg/pprof.(*sortedSample).Swap","runtime.gcWriteBarrierR8","runtime.gcWriteBarrier","runtime.wbBufFlush","runtime.wbBufFlush.func1","runtime.wbBufFlush1","runtime.findObject","test/pkg/pprof.(*Profile).clearSampleReferences","test/pkg/slices.RemoveInPlace[...]","test/pkg/pprof.(*Profile).clearSampleReferences.func1","test/pkg/pprof.StacktracesHasher.Hashes","github.com/cespare/xxhash/v2.round","github.com/cespare/xxhash/v2.(*Digest).Sum64","github.com/cespare/xxhash/v2.(*Digest).Write","github.com/cespare/xxhash/v2.u64","github.com/samber/lo.Uniq[...]","runtime.mapaccess2_fast64","runtime.memhash64","runtime.bucketMask","test/pkg/pprof.(*Profile).Normalize.func1","test/pkg/pprof.(*Profile).Normalize.func1.1","test/pkg/gen/google/v1.(*Profile).MarshalToVT","test/pkg/gen/google/v1.(*Profile).MarshalToSizedBufferVT","test/pkg/gen/google/v1.(*Sample).MarshalToSizedBufferVT","test/pkg/gen/google/v1.(*Profile).SizeVT","test/pkg/gen/google/v1.(*Sample).SizeVT","test/pkg/gen/google/v1.encodeVarint","test/pkg/gen/google/v1.(*Location).SizeVT","io/ioutil.ReadAll","io.ReadAll","compress/gzip.(*Reader).Read","compress/flate.(*decompressor).Read","compress/flate.(*dictDecoder).tryWriteCopy","compress/flate.(*decompressor).huffmanBlock","compress/flate.(*dictDecoder).writeCopy","compress/flate.(*decompressor).huffSym","bytes.(*Reader).ReadByte","compress/flate.(*decompressor).moreBits","compress/flate.(*decompressor).nextBlock","net/http.(*conn).serve","net/http.serverHandler.ServeHTTP","net/http.HandlerFunc.ServeHTTP","test/pkg/util.glob..func1.1","golang.org/x/net/http2/h2c.h2cHandler.ServeHTTP","test/pkg/create.(*create).initServer.func2.1","github.com/opentracing-contrib/go-stdlib/nethttp.MiddlewareFunc.func5","github.com/weaveworks/common/middleware.Log.Wrap.func1","github.com/weaveworks/common/middleware.Instrument.Wrap.func1","github.com/felixge/httpsnoop.(*Metrics).CaptureMetrics","github.com/weaveworks/common/middleware.Instrument.Wrap.func1.2","github.com/gorilla/mux.(*Router).ServeHTTP","github.com/bufbuild/connect-go.(*Handler).ServeHTTP","github.com/bufbuild/connect-go.NewUnaryHandler[...].func1","github.com/bufbuild/connect-go.NewUnaryHandler[...].func1.1","test/pkg/ingester.(*Ingester).Push","github.com/klauspost/compress/gzip.(*Reader).Read","github.com/klauspost/compress/flate.(*decompressor).Read","github.com/klauspost/compress/flate.(*dictDecoder).tryWriteCopy","github.com/klauspost/compress/flate.(*dictDecoder).writeByte","github.com/klauspost/compress/flate.(*decompressor).huffmanBytesReader","github.com/klauspost/compress/flate.(*dictDecoder).writeCopy","github.com/klauspost/compress/flate.(*decompressor).nextBlock","runtime.(*mcache).allocLarge","runtime.(*pageAlloc).alloc","runtime.(*pageAlloc).allocRange","runtime.(*pageAlloc).update","runtime.(*pallocBits).summarize","test/pkg/create.(*Head).Ingest","test/pkg/create.(*Head).convertSamples","test/pkg/create.(*deduplicatingSlice[...]).ingest","test/pkg/create.(*stacktracesHelper).rewrite","test/pkg/create.idConversionTable.rewriteUint64","runtime.add","test/pkg/create.(*stacktracesHelper).key","runtime.mapassign_fast64","runtime.hashGrow","runtime.makeBucketArray","runtime.newarray","runtime.profilealloc","runtime.mProf_Malloc","runtime.callers","runtime.callers.func1","runtime.gentraceback","runtime.findfunc","runtime.(*hmap).newoverflow","runtime.releasem","runtime.growWork_fast64","runtime.evacuate_fast64","encoding/binary.littleEndian.PutUint64","runtime.acquirem","test/pkg/create.(*labelCache).rewriteLabels","runtime.mapaccess1_fast64","runtime.mapaccess2_faststr","aeshashbody","memeqbody","runtime.mapaccess2","runtime.memhash_varlen","runtime.evacuated","test/pkg/create.(*locationsHelper).key","runtime.bucketShift","test/pkg/create.(*stringsHelper).addToRewriter","test/pkg/create.(*locationsHelper).rewrite","github.com/prometheus/client_golang/prometheus.(*CounterVec).WithLabelValues","github.com/prometheus/client_golang/prometheus.(*MetricVec).GetMetricWithLabelValues","github.com/prometheus/client_golang/prometheus.(*MetricVec).hashLabelValues","github.com/prometheus/client_golang/prometheus.hashAdd","test/pkg/create.(*deltaProfiles).computeDelta","test/pkg/create.deltaSamples","runtime.typedmemmove","runtime.bulkBarrierPreWrite","test/pkg/create.copySlice[...]","runtime.add1","runtime.roundupsize","runtime.pcdatavalue","runtime.pcvalue","runtime.step","github.com/go-kit/log.(*context).Log","github.com/go-kit/log.bindValues","github.com/go-kit/log.Caller.func1","runtime.Caller","runtime.(*Frames).Next","runtime.funcline1","runtime.readvarint","test/pkg/gen/google/v1.(*Profile).ReturnToVTPool","test/pkg/gen/google/v1.(*Profile).ResetVT","github.com/bufbuild/connect-go.(*errorTranslatingSender).Send","github.com/bufbuild/connect-go.(*connectUnaryHandlerSender).Send","github.com/bufbuild/connect-go.(*connectUnaryMarshaler).Marshal","github.com/bufbuild/connect-go.(*compressionPool).Compress","github.com/bufbuild/connect-go.(*compressionPool).putCompressor","runtime.spanOf","compress/gzip.(*Writer).Reset","compress/gzip.(*Writer).init","compress/flate.(*Writer).Reset","compress/flate.(*compressor).reset","github.com/bufbuild/connect-go.(*compressionPool).getCompressor","github.com/bufbuild/connect-go.receiveUnaryRequest[...]","github.com/bufbuild/connect-go.(*errorTranslatingReceiver).Receive","github.com/bufbuild/connect-go.(*connectUnaryHandlerReceiver).Receive","github.com/bufbuild/connect-go.(*connectUnaryUnmarshaler).UnmarshalFunc","bytes.(*Buffer).ReadFrom","github.com/weaveworks/common/middleware.(*reqBody).Read","net/http.(*body).Read","net/http.(*body).readLocked","net/http/internal.(*chunkedReader).Read","bufio.(*Reader).Read","net/http.(*connReader).Read","net.(*conn).Read","net.(*netFD).Read","syscall.Read","syscall.read","syscall.Syscall","net/http.(*ServeMux).ServeHTTP","net/http/pprof.Index","net/http/pprof.handler.ServeHTTP","runtime/pprof.(*Profile).WriteTo","runtime/pprof.writeAlloc","runtime/pprof.writeHeapInternal","runtime/pprof.writeHeapProto","runtime/pprof.(*profileBuilder).pbSample","runtime/pprof.(*profileBuilder).flush","compress/flate.(*compressor).encSpeed","compress/flate.(*huffmanBitWriter).writeBlockDynamic","github.com/felixge/httpsnoop.(*rw).Write","github.com/felixge/httpsnoop.(*Metrics).CaptureMetrics.func2.1","github.com/weaveworks/common/middleware.(*badResponseLoggingWriter).Write","github.com/opentracing-contrib/go-stdlib/nethttp.(*statusCodeTracker).Write","net/http.(*response).Write","net/http.(*response).write","bufio.(*Writer).Write","bufio.(*Writer).Flush","net/http.(*chunkWriter).Write","net/http.checkConnErrorWriter.Write","net.(*conn).Write","net.(*netFD).Write","internal/poll.(*FD).Write","syscall.write","compress/flate.token.length","compress/flate.(*deflateFast).encode","compress/flate.(*compressor).init","runtime/pprof.writeHeapProto.func1","runtime/pprof.(*profileBuilder).pbLabel","runtime/pprof.(*protobuf).int64Opt","runtime/pprof.(*protobuf).endMessage","runtime/pprof.(*protobuf).startMessage","runtime/pprof.(*protobuf).uint64s","runtime/pprof.(*protobuf).int64s","runtime/pprof.(*profileBuilder).appendLocsForStack","runtime/pprof.(*profileBuilder).emitLocation","runtime.memclrNoHeapPointersChunked","runtime.mapassign_faststr","runtime.mapaccess1_faststr","runtime.memclrHasPointers","runtime/pprof.(*profileBuilder).pbLine","runtime.duffcopy","runtime.duffzero","runtime.CallersFrames","runtime/pprof.allFrames","runtime.funcInfo.entry","runtime.(*moduledata).textAddr","runtime.funcfile","runtime.findnull","indexbytebody","runtime.funcname","runtime.(*Func).Entry","runtime.pcdatavalue1","runtime/pprof.runtime_expandFinalInlineFrame","runtime/pprof.(*profileBuilder).stringIndex","runtime.growWork_faststr","runtime.evacuate_faststr","runtime.advanceEvacuationMark","runtime/pprof.(*protobuf).uint64Opt","runtime.funcdata","runtime/pprof.(*profileBuilder).build","compress/flate.(*deflateFast).matchLen","compress/flate.(*huffmanBitWriter).writeBits","compress/flate.(*huffmanBitWriter).writeDynamicHeader","compress/flate.hash","fmt.Fprintf","fmt.(*pp).doPrintf","fmt.(*pp).printArg","fmt.(*pp).fmtInteger","fmt.(*fmt).fmtInteger","compress/flate.token.offset","compress/flate.load64","runtime.FuncForPC","runtime/pprof.newProfileBuilder","runtime/pprof.(*profileBuilder).readMapping","os.ReadFile","runtime.(*Func).Name","runtime/pprof.scaleHeapSample","math.archExp","runtime.(*MemProfileRecord).Stack","runtime/pprof.writeGoroutine","runtime/pprof.writeRuntimeProfile","runtime/pprof.runtime_goroutineProfileWithLabels","runtime.goroutineProfileWithLabels","runtime.forEachGRace","runtime.goroutineProfileWithLabels.func4","runtime.goroutineProfileWithLabels.func4.1","runtime.saveg","runtime.funcspdelta","runtime.goroutineProfileWithLabels.func1","runtime.isSystemGoroutine","runtime.goroutineProfileWithLabels.func2","runtime.startTheWorld","runtime.startTheWorld.func1","runtime.startTheWorldWithSema","runtime.wakep","runtime.startm","runtime.notewakeup","runtime.futexwakeup","runtime.futex","runtime.goroutineProfileWithLabels.func3","runtime/pprof.printCountProfile","runtime/pprof.printCountProfile.func1","bytes.(*Buffer).Write","runtime.slicebytetostring","runtime.overLoadFactor","runtime.heapBits.bits","runtime.greyobject","runtime/pprof.parseProcSelfMaps","runtime/pprof.elfBuildID","os.OpenFile","syscall.Open","syscall.openat","syscall.Syscall6","runtime/pprof.parseProcSelfMaps.func1","bytes.Cut","runtime/pprof.(*profileBuilder).addMapping","os.Open","os.openFileNolog","os.newFile","runtime.SetFinalizer","runtime.SetFinalizer.func2","runtime.addfinalizer","runtime.addspecial","runtime.(*pageAlloc).allocToCache","os.(*File).Stat","internal/poll.(*FD).Fstat","syscall.Fstat","os.(*File).Read","runtime/pprof.(*keysByCount).Less","cmpbody","github.com/prometheus/client_golang/prometheus.(*GaugeVec).WithLabelValues","runtime.assertI2I","runtime.getitab","runtime.(*itabTableType).find","github.com/weaveworks/common/middleware.Instrument.getRouteName","github.com/weaveworks/common/middleware.getRouteName","github.com/weaveworks/common/middleware.MakeLabelValue","strings.Trim","github.com/gorilla/mux.(*Router).Match","github.com/gorilla/mux.(*Route).Match","github.com/gorilla/mux.(*routeRegexp).Match","regexp.(*Regexp).doExecute","regexp.(*Regexp).backtrack","regexp.(*Regexp).tryBacktrack","github.com/weaveworks/common/logging.gokit.Debugf","github.com/uber/jaeger-client-go.(*Tracer).Extract","github.com/uber/jaeger-client-go.(*TextMapPropagator).Extract","runtime.assertE2I2","github.com/weaveworks/common/middleware.Tracer.Wrap.func1","net/http.(*response).finishRequest","net/http.(*chunkWriter).writeHeader","net/http.Header.writeSubset","net/http.Header.sortedKeyValues","sync.(*Pool).Get","net/http.(*conn).readRequest","runtime.mapiterinit","runtime.gcBgMarkWorker","runtime.gcBgMarkWorker.func2","runtime.gcDrain","runtime.(*gcBits).bytep","runtime.(*mspan).objIndex","runtime.(*gcWork).put","runtime.getempty","runtime.putfull","runtime.(*lfstack).push","runtime.(*mspan).markBitsForIndex","runtime.markBits.isMarked","runtime.arenaIndex","runtime.(*gcWork).tryGet","runtime.trygetfull","runtime.spanOfUnchecked","runtime.heapBits.next","runtime.gcFlushBgCredit","runtime.(*gcWork).balance","runtime.handoff","runtime.(*gcWork).tryGetFast","runtime.gcMarkDone","runtime.gcMarkTermination","runtime.mProf_Flush","runtime.mProf_FlushLocked","runtime.(*bucket).mp","runtime.gcMarkTermination.func4","runtime.forEachP","runtime.gcMarkTermination.func4.1","runtime.(*mcache).prepareForSweep","runtime.(*mcache).releaseAll","net/http.(*persistConn).readLoop","runtime.selectgo","runtime.send","runtime.goready","runtime.goready.func1","runtime.ready","runtime.runqput","bufio.(*Reader).Peek","bufio.(*Reader).fill","net/http.(*persistConn).Read","net/http.(*persistConn).readResponse","github.com/opentracing-contrib/go-stdlib/nethttp.(*Tracer).gotFirstResponseByte","runtime.bgsweep","runtime.sweepone","runtime.(*sweepLocker).tryAcquire","runtime.(*sweepLocked).sweep","runtime.(*gcBitsArena).tryAlloc","runtime.spanClass.sizeclass","runtime/internal/atomic.(*Uint32).CompareAndSwap","runtime.mcall","runtime.park_m","runtime.schedule","runtime.findrunnable","runtime.netpoll","runtime.epollwait","runtime.stopm","runtime.notesleep","runtime.futexsleep","runtime.(*randomOrder).start","runtime.checkTimers","runtime.runtimer","runtime.dodeltimer0","runtime.gcstopm","runtime.lock2","runtime.procyield","runtime.(*lfstack).pop","runtime.gosched_m","runtime.lock","runtime.goschedImpl","runtime.execute","runtime.casgstatus","net/http.(*persistConn).writeLoop","net/http.(*Request).write","net/http.newTransferWriter","runtime.convI2I","runtime.chansend1","runtime.chansend","net/http.persistConnWriter.Write","runtime.exitsyscall","runtime.exitsyscallfast","runtime.exitsyscallfast_reacquired","test/pkg/distributor.(*Distributor).Push.func1","test/pkg/distributor.(*Distributor).sendProfiles","test/pkg/distributor.(*Distributor).sendProfilesErr","test/pkg/gen/ingester/v1/ingesterv1connect.(*ingesterServiceClient).Push","github.com/bufbuild/connect-go.(*Client[...]).CallUnary","github.com/bufbuild/connect-go.NewClient[...].func2","github.com/bufbuild/connect-go.NewClient[...].func1","github.com/bufbuild/connect-go.receiveUnaryResponse[...]","github.com/bufbuild/connect-go.(*connectUnaryClientReceiver).Receive","github.com/bufbuild/connect-go.(*compressionPool).Decompress","github.com/bufbuild/connect-go.(*compressionPool).getDecompressor","compress/gzip.(*Reader).Reset","compress/gzip.(*Reader).readHeader","compress/flate.(*dictDecoder).init","runtime.heapBits.initSpan","compress/flate.(*decompressor).Reset","runtime.newstack","runtime.copystack","compress/flate.NewReader","compress/flate.fixedHuffmanDecoderInit","github.com/bufbuild/connect-go.(*connectClientSender).Send","github.com/bufbuild/connect-go.(*connectUnaryMarshaler).write","github.com/bufbuild/connect-go.(*duplexHTTPCall).Write","io.(*pipe).write","runtime.chanrecv1","runtime.chanrecv","runtime.recv","github.com/bufbuild/connect-go.(*errorTranslatingReceiver).Close","github.com/bufbuild/connect-go.(*connectUnaryClientReceiver).Close","github.com/bufbuild/connect-go.(*duplexHTTPCall).CloseRead","github.com/opentracing-contrib/go-stdlib/nethttp.closeTracker.Close","runtime/pprof.profileWriter","runtime/pprof.(*profileBuilder).addCPUData","runtime/pprof.(*profMap).lookup","net/http.(*connReader).backgroundRead","internal/poll.(*FD).Read"]}}}}]},hl={name:"response",meta:{preferredVisualisationType:"flamegraph"},fields:[{name:"level",values:[0,1,2,3,4,5,6,1,2,3,4,5,6,6,7,8,9,10,9,9,10,11,12,13,14,15,16,17,18,19,20,20,21,19,20,21,19,17,18,19,20,20,21,19,20,21,19,17,18,19,20,21,22,23,24,25,23,24,21,19,20,21,17,18,19,20,21,22,23,24,25,26,17,18,19,20,21,22,23,24,25,26,27,22,15,16,17,18,19,20,17,18,19,20,21,22,23,23,24,24,25,21,17,18,19,19,17,18,19,20,16,17,15,16,17,18,19,20,21,22,23,24,25,22,22,22,22,23,20,20,16,17,18,19,16,17,15,16,17,18,19,20,21,22,23,24,17,18,19,20,21,22,23,15,16,15,16,12,13,9,9,10,9,10,6,6,6,6,7,8,6,7,2,3,4,5,6,7,3,4,5,6,7,8,3,4,5,6,7,8,9,10,11,12,10,11,12,13,14,15,16,16,17,18,19,20,21,22,14,15,16,14,11,12,13,14,9,10,11,12,10,9,10,11,12,13,14,15,16,17,15,16,17,16,15,16,17,16,17,16,15,16,17,18,19,20,21,19,4,5,6,7,8,9,6,7,8,6,7,8,9,10,7,4,5,6,7,8,3,4,5,6,7,8,9,10,11,12,8,9,10,11,12,13,14,15,16,17,8,9,10,11,12,13,14,15,16,17,18,6,7,8,9,10,11,7,8,6,7,8,9,10,11,12,13,6,7,8,9,10,11,12,13,14,6,7,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,3,4,5,6,1,2]},{name:"label",values:["total","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!Heartbeat.<>c.<.ctor>b__8_0","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!Heartbeat.TimerLoop","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!Heartbeat.OnHeartbeat","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!DateHeaderValueManager.SetDateValues","Microsoft.Net.Http.Headers!HeaderUtilities.FormatDate","System!DateTimeFormat.Format","System.Threading!PortableThreadPool.WorkerThread.WorkerThreadStart","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!KestrelConnection<T>.System.Threading.IThreadPoolWorkItem.Execute","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!KestrelConnection<T>.ExecuteAsync","System.Runtime.CompilerServices!AsyncMethodBuilderCore.Start<!<ExecuteAsync>d__6>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!KestrelConnection.<ExecuteAsync>d__6<T>.MoveNext","Microsoft.AspNetCore.Server.Kestrel.Core.Internal!HttpConnection..ctor","Microsoft.AspNetCore.Server.Kestrel.Core.Internal!HttpConnection.ProcessRequestsAsync<!T0>","System.Runtime.CompilerServices!AsyncMethodBuilderCore.Start<!<ProcessRequestsAsync>d__12>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal!HttpConnection.<ProcessRequestsAsync>d__12<TContext>.MoveNext","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection..ctor","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1OutputProducer..ctor","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol..ctor","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.ProcessRequestsAsync<!T0>","System.Runtime.CompilerServices!AsyncMethodBuilderCore.Start<!<ProcessRequestsAsync>d__222>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.<ProcessRequestsAsync>d__222<TContext>.MoveNext","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.ProcessRequests<!T0>","System.Runtime.CompilerServices!AsyncMethodBuilderCore.Start<!<ProcessRequests>d__223>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.<ProcessRequests>d__223<TContext>.MoveNext","Microsoft.AspNetCore.HostFiltering!HostFilteringMiddleware.Invoke","Microsoft.AspNetCore.Routing!EndpointMiddleware.Invoke","Example!Program.<>c__DisplayClass0_0.<Main>b__0","Example!BikeService.Order","Example!OrderService.FindNearestVehicle","Pyroscope!LabelSet.BuildUpon","Pyroscope!LabelsWrapper.Do","Pyroscope!Profiler.get_Instance","Pyroscope!LabelSet.Builder.Add","System.Collections.Generic!Dictionary<TKey, TKey>.TryInsert","System.Collections.Generic!Dictionary<TKey, TKey>.Initialize","Pyroscope!LabelSet.Builder.Build","Example!Program.<>c__DisplayClass0_0.<Main>b__1","Example!ScooterService.Order","Example!OrderService.FindNearestVehicle","Pyroscope!LabelSet.BuildUpon","Pyroscope!LabelsWrapper.Do","Pyroscope!Profiler.get_Instance","Pyroscope!LabelSet.Builder.Add","System.Collections.Generic!Dictionary<TKey, TKey>.TryInsert","System.Collections.Generic!Dictionary<TKey, TKey>.Initialize","Pyroscope!LabelSet.Builder.Build","Example!Program.<>c__DisplayClass0_0.<Main>b__2","Example!CarService.Order","Example!OrderService.FindNearestVehicle","Pyroscope!LabelsWrapper.Do","Example!OrderService.<>c__DisplayClass0_1.<FindNearestVehicle>b__0","Example!OrderService.CheckDriverAvailability","Pyroscope!LabelSet.BuildUpon","System.Collections.Generic!Dictionary<TKey, TKey>..ctor","System.Collections.Generic!Dictionary<TKey, TKey>.Initialize","Pyroscope!LabelsWrapper.Do","Pyroscope!Profiler.get_Instance","Pyroscope!Profiler.get_Instance","Pyroscope!LabelSet.Builder.Add","System.Collections.Generic!Dictionary<TKey, TKey>.TryInsert","System.Collections.Generic!Dictionary<TKey, TKey>.Initialize","Microsoft.AspNetCore.Http!RequestDelegateFactory.ExecuteWriteStringResponseAsync","Microsoft.AspNetCore.Http!HttpResponseWritingExtensions.WriteAsync","Microsoft.AspNetCore.Http!HttpResponseWritingExtensions.WriteAsync","Microsoft.AspNetCore.Http!DefaultHttpResponse.StartAsync","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseBodyFeature.StartAsync","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1OutputProducer.WriteResponseHeaders","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers!ConcurrentPipeWriter.GetSpan","System.IO.Pipelines!Pipe.DefaultPipeWriter.GetSpan","System.IO.Pipelines!Pipe.AllocateWriteHeadSynchronized","System.IO.Pipelines!Pipe.CreateSegmentUnsynchronized","Microsoft.Extensions.Logging!LoggerMessage.<>c__DisplayClass10_0<T1>.<Define>g__Log|0","Microsoft.Extensions.Logging!Logger<T>.Microsoft.Extensions.Logging.ILogger.Log<!LogValues>","Microsoft.Extensions.Logging!Logger.Log<!LogValues>","Microsoft.Extensions.Logging!Logger.<Log>g__LoggerLog|12_0<!LogValues>","Microsoft.Extensions.Logging.Console!ConsoleLogger.Log<!LogValues>","Microsoft.Extensions.Logging.Console!SimpleConsoleFormatter.Write<!LogValues>","Microsoft.Extensions.Logging!LoggerMessage.LogValues.<>c<T0>.<.cctor>b__12_0","Microsoft.Extensions.Logging!LoggerMessage.LogValues<T0>.ToString","System!String.FormatHelper","System!Span<System!Char>.ToString","System!String.Ctor","System.Text!StringBuilder.ToString","Microsoft.AspNetCore.Hosting!HostingApplication.CreateContext","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.BeginRequest","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.Log.RequestScope","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.Log.HostingLogScope..ctor","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpRequestIdentifierFeature.get_TraceIdentifier","System!String.Create<System!ValueTuple>","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.LogRequestStarting","Microsoft.Extensions.Logging!Logger.Log<!T0>","Microsoft.Extensions.Logging!Logger.<Log>g__LoggerLog|12_0<!T0>","Microsoft.Extensions.Logging.Console!ConsoleLogger.Log<!T0>","Microsoft.Extensions.Logging.Console!SimpleConsoleFormatter.Write<!T0>","Microsoft.AspNetCore.Hosting!HostingRequestStartingLog.ToString","System.Buffers!TlsOverPerCoreLockedStacksArrayPool<System!Char>.Rent","System.Runtime.CompilerServices!DefaultInterpolatedStringHandler.ToStringAndClear","System!String.Ctor","System.Buffers!TlsOverPerCoreLockedStacksArrayPool<System!Char>.Return","System.Buffers!TlsOverPerCoreLockedStacksArrayPool<System!Char>.InitializeTlsBucketsAndTrimming","System.Text!StringBuilder.ToString","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.StartActivity","System.Diagnostics!Activity.Start","System!String.Create<System!ValueTuple>","System.Threading!ExecutionContext.SetLocalValue","Microsoft.Extensions.Logging!Logger.BeginScope<!T0>","Microsoft.Extensions.Logging!LoggerFactoryScopeProvider.Push","System.Threading!ExecutionContext.SetLocalValue","System.Threading!AsyncLocalValueMap.TwoElementAsyncLocalValueMap.Set","Microsoft.AspNetCore.Http!DefaultHttpContextFactory.Create","Microsoft.AspNetCore.Http!DefaultHttpContext..ctor","Microsoft.AspNetCore.Hosting!HostingApplication.DisposeContext","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.LogRequestFinished","Microsoft.Extensions.Logging!Logger.Log<!T0>","Microsoft.Extensions.Logging!Logger.<Log>g__LoggerLog|12_0<!T0>","Microsoft.Extensions.Logging.Console!ConsoleLogger.Log<!T0>","Microsoft.Extensions.Logging.Console!SimpleConsoleFormatter.Write<!T0>","Microsoft.AspNetCore.Hosting!HostingRequestFinishedLog.ToString","System!Number.FormatDouble","System.Text!ValueStringBuilder.ToString","System!Span<System!Char>.ToString","System!String.Ctor","System!Number.UInt32ToDecStr","System!String.Replace","System!String.Substring","System.Runtime.CompilerServices!DefaultInterpolatedStringHandler.ToStringAndClear","System!String.Ctor","System.Text!StringBuilder.ToString","System.Text!StringBuilder.set_Length","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.StopActivity","System.Diagnostics!Activity.Stop","System.Threading!ExecutionContext.SetLocalValue","System.Threading!AsyncLocalValueMap.TwoElementAsyncLocalValueMap.Set","Microsoft.Extensions.Logging!LoggerFactoryScopeProvider.Scope.Dispose","System.Threading!ExecutionContext.SetLocalValue","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.TryParseRequest","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.ParseRequest","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.TakeMessageHeaders","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpParser<Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1ParsingHandler>.ParseHeaders","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpParser<Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1ParsingHandler>.TryTakeSingleHeader","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.OnHeader","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpRequestHeaders.Append","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!HttpUtilities.GetRequestHeaderString","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!StringUtilities.GetAsciiOrUTF8StringNonNullCharacters","System!String.Create<System!IntPtr>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.TakeStartLine","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpParser<Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1ParsingHandler>.ParseRequestLine","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpParser<Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1ParsingHandler>.ParseRequestLine","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.OnStartLine","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.OnOriginFormTarget","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!StringUtilities.GetAsciiStringNonNullCharacters","System!String.Create<System!IntPtr>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.InitializeBodyControl","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!BodyControl..ctor","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.AwaitUnsafeOnCompleted<System.Runtime.CompilerServices!ValueTaskAwaiter, !<ProcessRequests>d__223>","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.GetStateMachineBox<!<ProcessRequests>d__223>","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.AwaitUnsafeOnCompleted<System.Runtime.CompilerServices!TaskAwaiter, !<ProcessRequestsAsync>d__222>","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.GetStateMachineBox<!<ProcessRequestsAsync>d__222>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!KestrelConnection.OnHeartbeat","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.AwaitUnsafeOnCompleted<System.Runtime.CompilerServices!TaskAwaiter, !<ProcessRequestsAsync>d__12>","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.GetStateMachineBox<!<ProcessRequestsAsync>d__12>","System.Threading!CancellationToken.Register","System.Threading!CancellationTokenSource.Register","Microsoft.AspNetCore.Server.Kestrel.Core.Internal!HttpConnectionMiddleware<TContext>.OnConnectionAsync","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!KestrelConnection.BeginConnectionScope","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!TimeoutControl..ctor","Microsoft.Extensions.Logging!Logger.BeginScope<!T0>","Microsoft.Extensions.Logging!LoggerFactoryScopeProvider.Push","System.Threading!ExecutionContext.SetLocalValue","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.AwaitUnsafeOnCompleted<System.Runtime.CompilerServices!TaskAwaiter, !<ExecuteAsync>d__6>","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.GetStateMachineBox<!<ExecuteAsync>d__6>","System.Threading!ThreadPoolWorkQueue.Dispatch","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!IOQueue.System.Threading.IThreadPoolWorkItem.Execute","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.AsyncStateMachineBox<System.Threading.Tasks!VoidTaskResult, Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.<DoSend>d__28>.MoveNext","System.Threading!ExecutionContext.RunInternal","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.<DoSend>d__28.MoveNext","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.Shutdown","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.<>c.<FireConnectionClosed>b__29_0","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.CancelConnectionClosedToken","System.Threading!CancellationTokenSource.ExecuteCallbackHandlers","System.Threading!ExecutionContext.RunInternal","Microsoft.AspNetCore.Server.Kestrel.Core.Internal!HttpConnection.OnConnectionClosed","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.OnInputOrOutputCompleted","System.Net.Sockets!SocketAsyncEngine.System.Threading.IThreadPoolWorkItem.Execute","System.Net.Sockets!Socket.AwaitableSocketAsyncEventArgs.OnCompleted","System.Net.Sockets!Socket.AwaitableSocketAsyncEventArgs.InvokeContinuation","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.AsyncStateMachineBox<TResult, TResult>.MoveNext","System.Threading!ExecutionContext.RunInternal","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets!SocketConnectionListener.<AcceptAsync>d__10.MoveNext","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets!SocketConnectionContextFactory.Create","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection..ctor","System.IO.Pipelines!DuplexPipe.CreateConnectionPair","System.IO.Pipelines!Pipe..ctor","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.Start","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.DoReceive","System.Runtime.CompilerServices!AsyncMethodBuilderCore.Start<!<DoReceive>d__27>","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.<DoReceive>d__27.MoveNext","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketReceiver.WaitForDataAsync","System.Net.Sockets!Socket.ReceiveAsync","System.Net.Sockets!SocketAsyncContext..ctor","System.Net.Sockets!SocketAsyncEventArgs.DoOperationReceive","System.Net.Sockets!SocketAsyncContext.ReceiveAsync","System.Net.Sockets!SocketAsyncContext.OperationQueue<TOperation>.StartAsyncOperation","System.Net.Sockets!SocketAsyncContext.TryRegister","System.Net.Sockets!SocketAsyncEngine.TryRegisterSocket","System.Net.Sockets!SocketAsyncEngine.TryRegisterCore","System.Collections.Concurrent!ConcurrentDictionary<System!IntPtr, System.Net.Sockets!SocketAsyncEngine.SocketAsyncContextWrapper>.TryAddInternal","System.IO.Pipelines!Pipe.GetMemory","System.IO.Pipelines!Pipe.AllocateWriteHeadSynchronized","System.IO.Pipelines!Pipe.CreateSegmentUnsynchronized","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.GetStateMachineBox<!<DoReceive>d__27>","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.DoSend","System.Runtime.CompilerServices!AsyncMethodBuilderCore.Start<!<DoSend>d__28>","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.<DoSend>d__28.MoveNext","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.GetStateMachineBox<!<DoSend>d__28>","System.Net.Sockets!Socket.get_LocalEndPoint","System.Net.Sockets!IPEndPointExtensions.Create","System.Net.Internals!SocketAddress.GetIPEndPoint","System.Net.Internals!SocketAddress.GetIPAddress","System.Net.Sockets!IPEndPointExtensions.Serialize","System.Threading.Tasks!Task<TResult>.TrySetResult","System.Threading.Tasks!Task.RunContinuations","System.Threading.Tasks!AwaitTaskContinuation.RunOrScheduleAction","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.AsyncStateMachineBox<TResult, TResult>.MoveNext","System.Threading!ExecutionContext.RunInternal","Microsoft.AspNetCore.Server.Kestrel.Core.Internal!ConnectionDispatcher.<>c__DisplayClass8_0.<<StartAcceptingConnectionsCore>g__AcceptConnectionsAsync|0>d<T>.MoveNext","Microsoft.AspNetCore.Connections!TransportConnection.Microsoft.AspNetCore.Http.Features.IFeatureCollection.Set<!T0>","System.Collections.Generic!List<T>.AddWithResize","System.Collections.Generic!List<T>.set_Capacity","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!KestrelConnection<T>..ctor","Microsoft.AspNetCore.Connections!TransportConnection.Microsoft.AspNetCore.Http.Features.IFeatureCollection.Set<!T0>","Microsoft.AspNetCore.Connections!TransportConnection.ExtraFeatureSet","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!KestrelConnection..ctor","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!TransportConnectionManager.AddConnection","Microsoft.AspNetCore.Connections!TransportConnection.get_ConnectionId","System!String.Create<System!Int64>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!ConnectionManager.AddConnection","System.Collections.Concurrent!ConcurrentDictionary<TKey, TKey>.TryAddInternal","System.Collections.Concurrent!ConcurrentDictionary<TKey, TKey>.TryAddInternal","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!TransportManager.GenericConnectionListener.AcceptAsync","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets!SocketConnectionListener.AcceptAsync","System.Runtime.CompilerServices!AsyncMethodBuilderCore.Start<!<AcceptAsync>d__10>","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets!SocketConnectionListener.<AcceptAsync>d__10.MoveNext","System.Net.Sockets!Socket.AwaitableSocketAsyncEventArgs.AcceptAsync","System.Net.Sockets!Socket.AcceptAsync","System.Net.Sockets!SocketAsyncEventArgs.DoOperationAccept","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<TResult>.GetStateMachineBox<!<AcceptAsync>d__10>","System.Net.Sockets!SocketAsyncEventArgs.AcceptCompletionCallback","System.Net.Sockets!SocketAsyncEventArgs.FinishOperationSyncSuccess","System.Net.Sockets!IPEndPointExtensions.Create","System.Net.Internals!SocketAddress.GetIPEndPoint","System.Net.Internals!SocketAddress.GetIPAddress","System.Net!IPAddress..ctor","System.Net.Sockets!IPEndPointExtensions.Serialize","System.Net.Internals!SocketAddress..ctor","System.Net.Internals!SocketAddress..ctor","System.Net.Sockets!SocketAsyncEventArgs.FinishOperationAccept","System.Net.Sockets!IPEndPointExtensions.Create","System.Net.Internals!SocketAddress.GetIPEndPoint","System.Net.Internals!SocketAddress.GetIPAddress","System.Net!IPAddress..ctor","System.Net.Sockets!SocketPal.CreateSocket","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.AsyncStateMachineBox<System.Threading.Tasks!VoidTaskResult, Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.<DoReceive>d__27>.MoveNext","System.Threading!ExecutionContext.RunInternal","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.<DoReceive>d__27.MoveNext","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.FireConnectionClosed","System.Threading!ThreadPool.UnsafeQueueUserWorkItem<!T0>","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.AsyncStateMachineBox<TResult, TResult>.MoveNext","System.Threading!ExecutionContext.RunFromThreadPoolDispatchLoop","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.<ProcessRequests>d__223<TContext>.MoveNext","Microsoft.AspNetCore.HostFiltering!HostFilteringMiddleware.Invoke","Microsoft.AspNetCore.Routing!EndpointMiddleware.Invoke","Example!Program.<>c__DisplayClass0_0.<Main>b__0","Example!BikeService.Order","Example!OrderService.FindNearestVehicle","Pyroscope!LabelsWrapper.Do","Pyroscope!Profiler.get_Instance","Microsoft.AspNetCore.Http!RequestDelegateFactory.ExecuteWriteStringResponseAsync","Microsoft.AspNetCore.Http!HttpResponseWritingExtensions.WriteAsync","Microsoft.AspNetCore.Http!HttpResponseWritingExtensions.WriteAsync","Microsoft.AspNetCore.Http!DefaultHttpResponse.StartAsync","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseBodyFeature.StartAsync","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1OutputProducer.WriteResponseHeaders","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.PipeWriterHelpers!ConcurrentPipeWriter.GetSpan","System.IO.Pipelines!Pipe.DefaultPipeWriter.GetSpan","System.IO.Pipelines!Pipe.AllocateWriteHeadSynchronized","System.IO.Pipelines!Pipe.CreateSegmentUnsynchronized","Microsoft.Extensions.Logging!LoggerMessage.<>c__DisplayClass10_0<T1>.<Define>g__Log|0","Microsoft.Extensions.Logging!Logger<T>.Microsoft.Extensions.Logging.ILogger.Log<!LogValues>","Microsoft.Extensions.Logging!Logger.Log<!LogValues>","Microsoft.Extensions.Logging!Logger.<Log>g__LoggerLog|12_0<!LogValues>","Microsoft.Extensions.Logging.Console!ConsoleLogger.Log<!LogValues>","Microsoft.Extensions.Logging.Console!SimpleConsoleFormatter.Write<!LogValues>","Microsoft.Extensions.Logging!LoggerMessage.LogValues.<>c<T0>.<.cctor>b__12_0","Microsoft.Extensions.Logging!LoggerMessage.LogValues<T0>.ToString","System!String.FormatHelper","System!Span<System!Char>.ToString","System!String.Ctor","Microsoft.AspNetCore.Hosting!HostingApplication.CreateContext","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.BeginRequest","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.Log.RequestScope","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.Log.HostingLogScope..ctor","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpRequestIdentifierFeature.get_TraceIdentifier","System!String.Create<System!ValueTuple>","Microsoft.AspNetCore.Http!DefaultHttpContextFactory.Create","Microsoft.AspNetCore.Http!DefaultHttpContext..ctor","Microsoft.AspNetCore.Hosting!HostingApplication.DisposeContext","Microsoft.AspNetCore.Hosting!HostingApplicationDiagnostics.LogRequestFinished","Microsoft.Extensions.Logging!Logger.Log<!T0>","Microsoft.Extensions.Logging!Logger.<Log>g__LoggerLog|12_0<!T0>","Microsoft.Extensions.Logging.Console!ConsoleLogger.Log<!T0>","Microsoft.Extensions.Logging.Console!SimpleConsoleFormatter.Write<!T0>","Microsoft.AspNetCore.Hosting!HostingRequestFinishedLog.ToString","System!Number.UInt32ToDecStr","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.TryParseRequest","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.ParseRequest","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.TakeStartLine","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpParser<Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1ParsingHandler>.ParseRequestLine","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpParser<Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1ParsingHandler>.ParseRequestLine","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.OnStartLine","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!Http1Connection.OnOriginFormTarget","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!StringUtilities.GetAsciiStringNonNullCharacters","System!String.Create<System!IntPtr>","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.InitializeBodyControl","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!BodyControl..ctor","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.SetResult","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.SetExistingTaskResult","System.Threading.Tasks!Task.RunContinuations","System.Threading.Tasks!AwaitTaskContinuation.RunOrScheduleAction","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.AsyncStateMachineBox<TResult, TResult>.MoveNext","System.Threading!ExecutionContext.RunInternal","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http!HttpProtocol.<ProcessRequestsAsync>d__222<TContext>.MoveNext","System.Threading.Tasks!Task<System.Threading.Tasks!VoidTaskResult>.TrySetResult","System.Threading.Tasks!Task.RunContinuations","System.Threading.Tasks!AwaitTaskContinuation.RunOrScheduleAction","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.AsyncStateMachineBox<TResult, TResult>.MoveNext","System.Threading!ExecutionContext.RunInternal","Microsoft.AspNetCore.Server.Kestrel.Core.Internal!HttpConnection.<ProcessRequestsAsync>d__12<TContext>.MoveNext","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.SetExistingTaskResult","System.Threading.Tasks!Task.RunContinuations","System.Threading.Tasks!AwaitTaskContinuation.RunOrScheduleAction","System.Runtime.CompilerServices!AsyncTaskMethodBuilder.AsyncStateMachineBox<TResult, TResult>.MoveNext","System.Threading!ExecutionContext.RunInternal","Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure!KestrelConnection.<ExecuteAsync>d__6<T>.MoveNext","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.DisposeAsync","System.Runtime.CompilerServices!AsyncMethodBuilderCore.Start<!<DisposeAsync>d__26>","Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.Internal!SocketConnection.<DisposeAsync>d__26.MoveNext","System.Runtime.CompilerServices!AsyncTaskMethodBuilder<System.Threading.Tasks!VoidTaskResult>.GetStateMachineBox<!<DisposeAsync>d__26>","System.Threading!UnmanagedThreadPoolWorkItem.System.Threading.IThreadPoolWorkItem.Execute","System.Threading!TimerQueue.FireNextTimers","System.Threading!TimerQueueTimer.Fire","Microsoft.Extensions.FileProviders.Physical!PhysicalFilesWatcher.RaiseChangeEvents","System.Threading!ThreadPoolWorkQueueThreadLocals.Finalize","System.Threading!ThreadPoolWorkQueue.WorkStealingQueueList.Remove"]},{name:"self",values:[0,0,0,0,0,0,12,4,0,0,0,0,8,0,0,17,3,12,26,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,1,0,0,2,0,0,1,0,0,0,0,3,1,0,0,2,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,7,15,2,0,0,0,0,3,1,0,0,0,0,0,0,0,4,0,1,8,7,0,1,3,2,1,0,1,3,5,0,1,0,0,0,0,0,0,0,0,2,0,1,4,0,5,12,1,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,10,0,1,0,3,2,0,0,0,7,7,1,1,0,0,6,0,1,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,15,14,14,4,0,0,0,0,0,0,3,9,3,0,0,0,0,2,0,0,1,2,0,0,0,6,0,0,2,3,1,0,0,0,0,0,3,0,0,3,0,0,2,5,0,0,0,0,2,1,0,0,0,0,0,0,1,1,0,0,0,1,1,0,5,0,3,2,0,1,3,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,1,0,1]},{name:"value",values:[378,12,12,12,12,12,12,365,230,230,230,230,8,206,206,206,15,12,26,139,139,139,136,136,136,42,42,3,3,2,0,1,1,1,1,1,0,4,4,2,0,1,1,1,1,1,1,9,9,7,5,4,4,0,0,0,3,3,1,2,2,2,4,4,4,4,4,4,4,4,4,4,22,22,22,22,22,7,7,7,7,7,7,15,42,32,3,3,3,3,14,13,13,13,5,5,0,5,4,1,1,8,11,4,1,3,4,2,1,1,8,5,29,26,25,25,25,12,12,2,2,2,2,0,1,4,5,5,12,1,3,3,3,0,0,0,12,12,12,12,12,12,12,12,12,12,0,0,0,0,0,0,0,10,10,1,1,3,3,2,0,0,7,7,7,1,1,6,6,6,1,1,131,0,0,0,0,0,3,3,3,3,3,3,117,97,97,97,97,97,73,32,18,4,26,20,20,20,17,17,3,14,5,2,2,2,2,2,1,1,1,2,6,6,6,6,6,5,5,3,1,18,18,18,18,18,18,3,3,3,7,2,2,5,3,0,0,2,2,1,2,2,2,2,1,1,1,1,20,20,2,2,1,0,8,3,3,10,6,6,5,2,2,0,0,0,0,0,10,10,7,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1]},{name:"selfRight",values:[0,0,0,0,0,0,16,5,0,0,0,0,1,0,0,19,2,8,28,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,1,0,0,1,1,0,2,0,0,2,1,0,0,1,0,0,0,1,0,2,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,2,11,1,0,0,0,0,2,0,0,0,0,0,0,1,0,2,0,0,7,3,0,3,2,2,0,1,1,4,2,0,0,0,0,0,0,0,0,0,0,1,1,2,3,0,4,13,0,0,0,0,1,0,3,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,1,1,4,0,5,0,1,0,0,1,0,7,9,3,0,0,2,2,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,4,12,12,5,0,0,0,0,0,0,2,9,0,0,0,0,0,1,0,0,4,3,0,0,0,6,0,0,1,2,0,0,0,0,0,0,2,0,0,1,0,0,6,8,0,0,2,0,1,1,0,0,0,0,0,0,2,3,0,0,0,0,0,1,0,0,1,3,0,2,1,0,2,0,0,0,0,3,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"valueRight",values:[316,16,16,16,16,16,16,300,190,190,190,190,1,173,173,173,10,8,28,108,108,108,107,107,107,34,34,4,4,2,1,1,1,1,1,1,1,7,7,4,1,2,2,2,2,2,1,9,9,9,8,8,8,3,2,2,5,5,0,0,0,0,1,1,1,1,1,1,1,1,1,1,13,13,13,13,13,2,2,2,2,2,2,11,31,24,2,2,2,2,10,10,10,10,3,3,1,2,2,0,0,7,8,5,3,2,4,2,2,1,6,2,28,24,24,24,24,11,11,1,1,1,1,1,2,3,4,4,13,0,1,1,1,1,3,3,4,4,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,5,4,5,5,1,1,0,1,1,7,7,9,3,0,4,4,2,0,0,105,1,1,1,1,1,1,1,1,1,1,1,100,87,87,87,87,87,58,29,17,5,25,19,19,19,12,12,2,10,1,1,1,1,1,1,4,4,4,3,6,6,6,6,3,3,3,2,0,26,26,26,26,26,26,1,1,1,14,6,6,8,4,2,2,1,1,1,5,5,5,5,2,2,2,3,10,10,1,1,1,1,1,1,1,8,3,3,1,0,2,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}]};var yl=(e=>(e.Legacy="legacy",e.Standard="standard",e.Custom="custom",e.Datasource="datasource",e))(yl||{});class bl{}class vl extends bl{getType(){return"standard"}}class Su extends null{getType(){return"custom"}}class xu extends null{getType(){return"datasource"}}class Sl extends vl{toDataQuery(t){return{refId:"TestDataDataSource-QueryVariable",stringInput:t.query,scenarioId:I.UV.VariablesQuery,csvWave:void 0}}}class xl extends ol.CK{constructor(t,n=(0,al.J)()){super(t),this.templateSrv=n,this.variables=new Sl,this.annotations={getDefaultQuery:()=>({scenarioId:I.UV.Annotations,lines:10}),prepareAnnotation:r=>r.target?.scenarioId?.length?r:{...r,target:{refId:"Anno",scenarioId:I.UV.Annotations,lines:10}}}}getDefaultQuery(){return{scenarioId:I.UV.RandomWalk,seriesCount:1}}query(t){const n=[],r=[];for(const s of t.targets)if(!s.hide)switch(this.resolveTemplateVariables(s,t.scopedVars),s.scenarioId){case"live":r.push(El(s,t));break;case"streaming_client":r.push($i(s,t));break;case"grafana_api":r.push(Cl(s,t));break;case I.UV.Annotations:r.push(this.annotationDataTopicTest(s,t));break;case"variables-query":r.push(this.variablesQuery(s,t));break;case"node_graph":r.push(this.nodesQuery(s,t));break;case"flame_graph":r.push(this.flameGraphQuery(s));break;case"trace":r.push(this.trace(t));break;case"raw_frame":r.push(this.rawFrameQuery(s,t));break;case"server_error_500":const o=this.serverErrorQuery(s,t);o?r.push(o):n.push(s);break;case"manual_entry":{let i=`Time,Value
`;if(s.points)for(const l of s.points)i+=`${l[1]},${l[0]}
`;s.scenarioId=I.UV.CSVContent,s.csvContent=i}default:n.push(s)}if(n.length){const s={...t,targets:n};r.push(super.query(s))}return r.length===0?(0,ee.of)({data:[]}):(0,Zi.T)(...r)}resolveTemplateVariables(t,n){t.labels&&(t.labels=this.templateSrv.replace(t.labels,n)),t.alias&&(t.alias=this.templateSrv.replace(t.alias,n)),t.scenarioId&&(t.scenarioId=this.templateSrv.replace(t.scenarioId,n)),t.stringInput&&(t.stringInput=this.templateSrv.replace(t.stringInput,n)),t.csvContent&&(t.csvContent=this.templateSrv.replace(t.csvContent,n)),t.rawFrameContent&&(t.rawFrameContent=this.templateSrv.replace(t.rawFrameContent,n))}applyTemplateVariables(t,n){return this.resolveTemplateVariables(t,n),t}annotationDataTopicTest(t,n){const r=this.buildFakeAnnotationEvents(n.range,t.lines??10),s=new ft(r);return s.meta={dataTopic:er.Annotations},(0,ee.of)({key:t.refId,data:[s]}).pipe((0,oe.g)(100))}buildFakeAnnotationEvents(t,n){let r=t.from.valueOf();const s=t.to.valueOf(),o=[],i=(s-r)/n;for(let l=0;l<n;l++)o.push({time:r,text:'This is the text, <a href="https://grafana.com">Grafana.com</a>',tags:["text","server"]}),r+=i;return o}getQueryDisplayText(t){const n=t.scenarioId??"Default scenario";return t.alias?n+" as "+t.alias:n}testDatasource(){return Promise.resolve({status:"success",message:"Data source is working"})}getScenarios(){return this.scenariosCache||(this.scenariosCache=this.getResource("scenarios")),this.scenariosCache}variablesQuery(t,n){const r=t.stringInput??"",s=this.templateSrv.replace(r,tl({query:r,wildcardChar:"*"})),i=cl(s).map(c=>({value:c.name,text:c.name})),l=new ft(i);return(0,ee.of)({data:[l]}).pipe((0,oe.g)(100))}nodesQuery(t,n){const r=t.nodes?.type||"random";let s;switch(r){case"random":s=rr(t.nodes?.count);break;case"response":s=ml();break;case"random edges":s=[fl(t.nodes?.count)];break;default:throw new Error(`Unknown node_graph sub type ${r}`)}return(0,ee.of)({data:s}).pipe((0,oe.g)(100))}flameGraphQuery(t){const n=t.flamegraphDiff?hl:gl;return(0,ee.of)({data:[{...n,refId:t.refId}]}).pipe((0,oe.g)(100))}trace(t){const n=new q({meta:{preferredVisualisationType:"trace"},fields:[{name:"traceID"},{name:"spanID"},{name:"parentSpanID"},{name:"operationName"},{name:"serviceName"},{name:"serviceTags"},{name:"startTime"},{name:"duration"},{name:"logs"},{name:"references"},{name:"tags"},{name:"kind"},{name:"statusCode"}]}),r=t.targets[0].spanCount||10,s="75c665dfb68",o=Date.now()-1e3*60*30,i=["client","server",""],l=[0,1,2];for(let c=0;c<r;c++)n.add({traceID:s+"10000",spanID:s+(1e4+c),parentSpanID:c===0?"":s+1e4,operationName:`Operation ${c}`,serviceName:`Service ${c}`,startTime:o+c*100,duration:300,tags:[{key:"http.method",value:"POST"},{key:"http.status_code",value:200},{key:"http.url",value:`Service${c}:80`}],serviceTags:[{key:"client-uuid",value:"6238bacefsecba865"},{key:"service.name",value:`Service${c}`},{key:"ip",value:"0.0.0.1"},{key:"latest_version",value:!1}],logs:c%4===0?[{timestamp:o+c*100,fields:[{key:"msg",value:"Service updated"}]},{timestamp:o+c*100+200,fields:[{key:"host",value:"app"}]}]:[],kind:c===0?"client":i[Math.floor(Math.random()*i.length)],statusCode:l[Math.floor(Math.random()*l.length)]});return(0,ee.of)({data:[n]}).pipe((0,oe.g)(100))}rawFrameQuery(t,n){try{const r=JSON.parse(t.rawFrameContent??"[]").map(s=>{const o=ht(s);return o.refId=t.refId,o});return(0,ee.of)({data:r,state:fe.Done}).pipe((0,oe.g)(100))}catch(r){return(0,ee.of)({data:[],error:r instanceof Error?r:new Error("Unkown error")}).pipe((0,oe.g)(100))}}serverErrorQuery(t,n){const{errorType:r}=t;if(r==="server_panic")return null;if((t.stringInput??"")===""){if(r==="frontend_exception")throw new Error("Scenario threw an exception in the frontend because the input was empty.");return(0,Ji._)(()=>new Error("Scenario returned an error because the input was empty."))}return null}}function Cl(e,t){const n=`/api/${e.stringInput}`;return(0,Yi.D)((0,il.i)().get(n).then(r=>{const s=new ft(r);return{state:fe.Done,data:[s]}}))}let wl=1e3;function El(e,t){if(!e.channel)throw new Error("Missing channel config");return(0,ll.gj)().getDataStream({addr:{scope:tr.Plugin,namespace:"testdata",path:e.channel},key:`testStream.${wl++}`})}const Tl=new $t(xl).setConfigEditor(zt).setQueryEditor(ji).setMetadataInspector(dr).addConfigPage({title:"Setup",icon:"list-ul",body:Qi,id:"setup"})},37042:(_t,le,S)=>{S.d(le,{HE:()=>Le,l4:()=>Pe,wW:()=>a});var te=S(42913),Se=S.n(te),Re=S(63957),M=S.n(Re),xe=S(85960),Fe=S(76176);let Y=null;const ce=new WeakMap,$t=d=>{const E=H=>{const N=Y||ThemeContext;return React.createElement(N.Consumer,null,ue=>React.createElement(d,{...H,theme:ue.v1}))};return E.displayName=`WithTheme(${d.displayName})`,hoistNonReactStatics(E,d),E},Le=d=>{const E=H=>{const N=Y||Fe.N;return xe.createElement(N.Consumer,null,ue=>xe.createElement(d,{...H,theme:ue}))};return E.displayName=`WithTheme(${d.displayName})`,Se()(E,d),E};function Ye(){return useContext(Y||ThemeContext).v1}function Pe(){return(0,xe.useContext)(Y||Fe.N)}function Xe(d){const E=Ye();let H=ce.get(d);return H||(H=stylesFactory(d),ce.set(d,H)),H(E)}function a(d,...E){const H=Pe();let N=ce.get(d);return N||(N=M()(d,{maxSize:10}),ce.set(d,N)),N(H,...E)}const zt=d=>(Y=React.createContext(d),()=>{Y=null})}}]);

//# sourceMappingURL=testDataDSPlugin.b398686ce2803063df9b.js.map