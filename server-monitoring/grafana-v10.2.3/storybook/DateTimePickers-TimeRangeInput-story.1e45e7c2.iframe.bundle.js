"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[1417],{"../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-bce1cb1dde.zip/node_modules/@mdx-js/react/lib/index.js":function(b,f,t){t.d(f,{NF:function(){return r},Zo:function(){return u},ah:function(){return d},pC:function(){return p}});var l=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js");const p=l.createContext({});function r(i){return c;function c(s){const m=d(s.components);return l.createElement(i,{...s,allComponents:m})}}function d(i){const c=l.useContext(p);return l.useMemo(()=>typeof i=="function"?i(c):{...c,...i},[c,i])}const h={};function u({components:i,children:c,disableParentContext:s}){let m;return s?m=typeof i=="function"?i({}):i||h:m=d(i),l.createElement(p.Provider,{value:m},c)}},"./src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx":function(b,f,t){t.d(f,{L:function(){return p}});var l=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js");class p extends l.PureComponent{constructor(){super(...arguments),this.myRef=(0,l.createRef)(),this.state={hasEventListener:!1},this.onOutsideClick=d=>{const h=this.myRef.current;(!h||d.target instanceof Node&&!h.contains(d.target))&&this.props.onClick()}}componentDidMount(){this.props.parent.addEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.addEventListener("keyup",this.onOutsideClick,this.props.useCapture)}componentWillUnmount(){this.props.parent.removeEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.removeEventListener("keyup",this.onOutsideClick,this.props.useCapture)}render(){return l.createElement("div",{ref:this.myRef},this.props.children)}}p.defaultProps={includeButtonPress:!0,parent:typeof window<"u"?window:void 0,useCapture:!1};try{p.displayName="ClickOutsideWrapper",p.__docgenInfo={description:"",displayName:"ClickOutsideWrapper",props:{onClick:{defaultValue:null,description:"Callback to trigger when clicking outside of current element occurs.",name:"onClick",required:!0,type:{name:"() => void"}},includeButtonPress:{defaultValue:{value:"true"},description:"Runs the 'onClick' function when pressing a key outside of the current element. Defaults to true.",name:"includeButtonPress",required:!1,type:{name:"boolean"}},parent:{defaultValue:{value:"typeof window !== 'undefined' ? window : undefined"},description:"Object to attach the click event listener to.",name:"parent",required:!1,type:{name:"Window | Document"}},useCapture:{defaultValue:{value:"false"},description:"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener. Defaults to false.",name:"useCapture",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx#ClickOutsideWrapper"]={docgenInfo:p.__docgenInfo,name:"ClickOutsideWrapper",path:"src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx#ClickOutsideWrapper"})}catch{}},"./src/components/DateTimePickers/TimeRangeInput.story.tsx":function(b,f,t){t.r(f),t.d(f,{Basic:function(){return R},default:function(){return ie}});var l=t("../../.yarn/__virtual__/@storybook-addon-actions-virtual-f27b09044a/2/yarn/cache/@storybook-addon-actions-npm-7.4.5-73cd7d7430-95700d2b11.zip/node_modules/@storybook/addon-actions/dist/index.mjs"),p=t("@storybook/client-api"),r=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js"),d=t("../../.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/datetime/moment_wrapper.ts"),h=t("../../.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/time.ts"),u=t("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-718f758575.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),i=t("../grafana-e2e-selectors/src/selectors/index.ts"),c=t("./src/themes/ThemeContext.tsx"),s=t("./src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx"),m=t("./src/components/Icon/Icon.tsx"),g=t("./src/components/Input/Input.tsx"),v=t("./src/components/DateTimePickers/TimeRangePicker/TimePickerContent.tsx"),O=t("./src/components/DateTimePickers/TimeRangePicker.tsx"),y=t("./src/components/DateTimePickers/utils.ts");const k=(0,r.memo)(function({hideText:n,value:a,timeZone:E="browser",placeholder:I="No time range selected",className:_}){const S=(0,c.wW)(X);return n?null:r.createElement("span",{className:_},(0,y.v)(a)?r.createElement(O.sU,{value:a,timeZone:E}):r.createElement("span",{className:S.placeholder},I))}),X=e=>({placeholder:(0,u.iv)({color:e.colors.text.disabled,opacity:1})});try{k.displayName="TimeRangeLabel",k.__docgenInfo={description:"",displayName:"TimeRangeLabel",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TimeRange"}},hideText:{defaultValue:null,description:"",name:"hideText",required:!1,type:{name:"boolean"}},timeZone:{defaultValue:null,description:"",name:"timeZone",required:!1,type:{name:"string"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangePicker/TimeRangeLabel.tsx#TimeRangeLabel"]={docgenInfo:k.__docgenInfo,name:"TimeRangeLabel",path:"src/components/DateTimePickers/TimeRangePicker/TimeRangeLabel.tsx#TimeRangeLabel"})}catch{}var Q=t("./src/components/DateTimePickers/options.ts");const F=()=>{},C=({value:e,onChange:n,onChangeTimeZone:a=F,clearable:E,hideTimeZone:I=!0,timeZone:_="browser",placeholder:S="Select time range",isReversed:ce=!0,hideQuickRanges:le=!1,disabled:w=!1,showIcon:de=!1})=>{const[D,M]=(0,r.useState)(!1),T=(0,c.wW)(J,w),ue=x=>{x.stopPropagation(),x.preventDefault(),!w&&M(!D)},K=()=>{M(!1)},pe=x=>{K(),n(x)},me=x=>{x.stopPropagation();const U=(0,d.CQ)(null),Y=(0,d.CQ)(null);n({from:U,to:Y,raw:{from:U,to:Y}})};return r.createElement("div",{className:T.container},r.createElement("button",{type:"button",className:T.pickerInput,"aria-label":i.wl.components.TimePicker.openButton,onClick:ue},de&&r.createElement(m.J,{name:"clock-nine",size:"sm",className:T.icon}),r.createElement(k,{value:e,timeZone:_,placeholder:S}),!w&&r.createElement("span",{className:T.caretIcon},(0,y.v)(e)&&E&&r.createElement(m.J,{className:T.clearIcon,name:"times",size:"lg",onClick:me}),r.createElement(m.J,{name:D?"angle-up":"angle-down",size:"lg"}))),D&&r.createElement(s.L,{includeButtonPress:!1,onClick:K},r.createElement(v.x,{timeZone:_,value:(0,y.v)(e)?e:(0,h.JK)(),onChange:pe,quickOptions:Q.r,onChangeTimeZone:a,className:T.content,hideTimeZone:I,isReversed:ce,hideQuickRanges:le})))},J=(e,n=!1)=>{const a=(0,g.H)({theme:e,invalid:!1});return{container:(0,u.iv)({display:"flex",position:"relative"}),content:(0,u.iv)({marginLeft:0,position:"absolute",top:"116%",zIndex:e.zIndex.dropdown}),pickerInput:(0,u.cx)(a.input,n&&a.inputDisabled,a.wrapper,(0,u.iv)({display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",paddingRight:0,lineHeight:`${e.spacing.gridSize*4-2}px`})),caretIcon:(0,u.cx)(a.suffix,(0,u.iv)({position:"relative",top:"-1px",marginLeft:e.spacing(.5)})),clearIcon:(0,u.iv)({marginRight:e.spacing(.5),"&:hover":{color:e.colors.text.maxContrast}}),placeholder:(0,u.iv)({color:e.colors.text.disabled,opacity:1}),icon:(0,u.iv)({marginRight:e.spacing(.5)})}};try{C.displayName="TimeRangeInput",C.__docgenInfo={description:"",displayName:"TimeRangeInput",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TimeRange"}},timeZone:{defaultValue:{value:"browser"},description:"",name:"timeZone",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(timeRange: TimeRange) => void"}},onChangeTimeZone:{defaultValue:{value:"() => {}"},description:"",name:"onChangeTimeZone",required:!1,type:{name:"((timeZone: string) => void)"}},hideTimeZone:{defaultValue:{value:"true"},description:"",name:"hideTimeZone",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:{value:"Select time range"},description:"",name:"placeholder",required:!1,type:{name:"string"}},clearable:{defaultValue:null,description:"",name:"clearable",required:!1,type:{name:"boolean"}},isReversed:{defaultValue:{value:"true"},description:"Controls horizontal alignment of the picker menu",name:"isReversed",required:!1,type:{name:"boolean"}},hideQuickRanges:{defaultValue:{value:"false"},description:"Controls visibility of the preset time ranges (e.g. **Last 5 minutes**) in the picker menu",name:"hideQuickRanges",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},showIcon:{defaultValue:{value:"false"},description:"",name:"showIcon",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/DateTimePickers/TimeRangeInput.tsx#TimeRangeInput"]={docgenInfo:C.__docgenInfo,name:"TimeRangeInput",path:"src/components/DateTimePickers/TimeRangeInput.tsx#TimeRangeInput"})}catch{}var o=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/jsx-runtime.js"),L=t("../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-bce1cb1dde.zip/node_modules/@mdx-js/react/lib/index.js"),$=t("../../.yarn/__virtual__/@storybook-blocks-virtual-5605a2f23e/2/yarn/cache/@storybook-blocks-patch-37aea2d782-a00c56fb6e.zip/node_modules/@storybook/blocks/dist/index.mjs");function N(e){const n=Object.assign({h1:"h1",p:"p",code:"code",pre:"pre",h3:"h3"},(0,L.ah)(),e.components);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"timerangeinput",children:"TimeRangeInput"}),`
`,(0,o.jsxs)(n.p,{children:["A variant of ",(0,o.jsx)(n.code,{children:"TimeRangePicker"})," for use in forms."]}),`
`,(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"dateTime(null)"})," can be used to provide empty time range value. The shape of the return value on input clear is:"]}),`
`,(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:`{
  from: dateTime(null),
  to: dateTime(null),
  raw: {
    from: dateTime(null),
    to: dateTime(null),
  },
};
`})}),`
`,(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"dateMath.isValid()"})," from ",(0,o.jsx)(n.code,{children:"@grafana/data"})," can be used to check for a valid time range value."]}),`
`,(0,o.jsx)(n.h3,{id:"usage",children:"Usage"}),`
`,(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:`import { TimeRangeInput } from '@grafana/ui';

<TimeRangeInput
  value={timeRange}
  onChange={(range) => console.log('range', range)}
  onChangeTimeZone={(tz) => console.log('timezone', tz)}
/>;
`})}),`
`,(0,o.jsx)(n.h3,{id:"props",children:"Props"}),`
`,(0,o.jsx)($.Ed,{of:C})]})}function H(e={}){const{wrapper:n}=Object.assign({},(0,L.ah)(),e.components);return n?(0,o.jsx)(n,Object.assign({},e,{children:(0,o.jsx)(N,e)})):N(e)}var q=H,G=Object.defineProperty,ee=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,z=(e,n,a)=>n in e?G(e,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[n]=a,j=(e,n)=>{for(var a in n||(n={}))te.call(n,a)&&z(e,a,n[a]);if(V)for(var a of V(n))ae.call(n,a)&&z(e,a,n[a]);return e},P=(e,n)=>ee(e,ne(n)),A,W,B;const Z=(0,d.CQ)(Date.now()),re=e=>!e.from.isValid()&&!e.to.isValid()&&(0,d.v9)(e.raw.from)&&!e.raw.from.isValid()&&(0,d.v9)(e.raw.to)&&!e.raw.to.isValid(),oe={from:null,to:null,raw:{from:null,to:null}},se={title:"Pickers and Editors/TimePickers/TimeRangeInput",component:C,parameters:{controls:{exclude:["onChange","onChangeTimeZone"]},docs:{page:q}},args:{value:{from:Z.subtract(6,"h"),to:Z,raw:{from:"now-6h",to:"now"}},timeZone:h.Ys}},R=e=>{const[,n]=(0,p.useArgs)();return r.createElement(C,P(j({},e),{onChange:a=>{(0,l.aD)("onChange fired")(a),n({value:re(a)?oe:a})},onChangeTimeZone:a=>{(0,l.aD)("onChangeTimeZone fired")(a),n({timeZone:a})}}))};var ie=se;R.parameters=P(j({},R.parameters),{docs:P(j({},(A=R.parameters)==null?void 0:A.docs),{source:j({originalSource:`args => {
  const [, updateArgs] = useArgs();
  return <TimeRangeInput {...args} onChange={value => {
    action('onChange fired')(value);
    // Need some special logic to handle when the range is cleared since
    // storybook controls don't support null datetimes
    updateArgs({
      value: isOnRangeClear(value) ? nullRange : value
    });
  }} onChangeTimeZone={timeZone => {
    action('onChangeTimeZone fired')(timeZone);
    updateArgs({
      timeZone
    });
  }} />;
}`},(B=(W=R.parameters)==null?void 0:W.docs)==null?void 0:B.source)})})},"../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/cjs/react-jsx-runtime.production.min.js":function(b,f,t){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js"),p=Symbol.for("react.element"),r=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,h=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function i(c,s,m){var g,v={},O=null,y=null;m!==void 0&&(O=""+m),s.key!==void 0&&(O=""+s.key),s.ref!==void 0&&(y=s.ref);for(g in s)d.call(s,g)&&!u.hasOwnProperty(g)&&(v[g]=s[g]);if(c&&c.defaultProps)for(g in s=c.defaultProps,s)v[g]===void 0&&(v[g]=s[g]);return{$$typeof:p,type:c,key:O,ref:y,props:v,_owner:h.current}}f.Fragment=r,f.jsx=i,f.jsxs=i},"../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/jsx-runtime.js":function(b,f,t){b.exports=t("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);
