"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[3127],{"./src/components/Button/ButtonGroup.tsx":function(G,C,a){a.d(C,{h:function(){return b}});var l=a("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-718f758575.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),f=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js"),m=a("./src/themes/ThemeContext.tsx"),T=Object.defineProperty,O=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,E=(u,p,i)=>p in u?T(u,p,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[p]=i,L=(u,p)=>{for(var i in p||(p={}))S.call(p,i)&&E(u,i,p[i]);if(O)for(var i of O(p))k.call(p,i)&&E(u,i,p[i]);return u},V=(u,p)=>{var i={};for(var c in u)S.call(u,c)&&p.indexOf(c)<0&&(i[c]=u[c]);if(u!=null&&O)for(var c of O(u))p.indexOf(c)<0&&k.call(u,c)&&(i[c]=u[c]);return i};const b=(0,f.forwardRef)((u,p)=>{var i=u,{className:c,children:y}=i,F=V(i,["className","children"]);const $=(0,m.wW)(I);return f.createElement("div",L({ref:p,className:(0,l.cx)("button-group",$.wrapper,c)},F),y)});b.displayName="ButtonGroup";const I=u=>({wrapper:(0,l.iv)({display:"flex","> .button-group:not(:first-child) > button, > button:not(:first-child)":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"> .button-group:not(:last-child) > button, > button:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0,borderRightWidth:0}})});try{b.displayName="ButtonGroup",b.__docgenInfo={description:"",displayName:"ButtonGroup",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Button/ButtonGroup.tsx#ButtonGroup"]={docgenInfo:b.__docgenInfo,name:"ButtonGroup",path:"src/components/Button/ButtonGroup.tsx#ButtonGroup"})}catch{}},"./src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx":function(G,C,a){a.d(C,{L:function(){return f}});var l=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js");class f extends l.PureComponent{constructor(){super(...arguments),this.myRef=(0,l.createRef)(),this.state={hasEventListener:!1},this.onOutsideClick=T=>{const O=this.myRef.current;(!O||T.target instanceof Node&&!O.contains(T.target))&&this.props.onClick()}}componentDidMount(){this.props.parent.addEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.addEventListener("keyup",this.onOutsideClick,this.props.useCapture)}componentWillUnmount(){this.props.parent.removeEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.removeEventListener("keyup",this.onOutsideClick,this.props.useCapture)}render(){return l.createElement("div",{ref:this.myRef},this.props.children)}}f.defaultProps={includeButtonPress:!0,parent:typeof window<"u"?window:void 0,useCapture:!1};try{f.displayName="ClickOutsideWrapper",f.__docgenInfo={description:"",displayName:"ClickOutsideWrapper",props:{onClick:{defaultValue:null,description:"Callback to trigger when clicking outside of current element occurs.",name:"onClick",required:!0,type:{name:"() => void"}},includeButtonPress:{defaultValue:{value:"true"},description:"Runs the 'onClick' function when pressing a key outside of the current element. Defaults to true.",name:"includeButtonPress",required:!1,type:{name:"boolean"}},parent:{defaultValue:{value:"typeof window !== 'undefined' ? window : undefined"},description:"Object to attach the click event listener to.",name:"parent",required:!1,type:{name:"Window | Document"}},useCapture:{defaultValue:{value:"false"},description:"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener. Defaults to false.",name:"useCapture",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx#ClickOutsideWrapper"]={docgenInfo:f.__docgenInfo,name:"ClickOutsideWrapper",path:"src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx#ClickOutsideWrapper"})}catch{}},"./src/components/ToolbarButton/ToolbarButton.tsx":function(G,C,a){a.d(C,{h:function(){return D}});var l=a("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-718f758575.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),f=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js"),m=a("../../.yarn/__virtual__/@grafana-data-virtual-0996183232/1/packages/grafana-data/src/types/icon.ts"),T=a("../grafana-e2e-selectors/src/selectors/index.ts"),O=a("./src/themes/ThemeContext.tsx"),S=a("./src/themes/mixins.ts"),k=a("./src/components/Button/Button.tsx"),E=a("./src/components/Icon/Icon.tsx"),L=a("./src/components/Tooltip/Tooltip.tsx"),V=Object.defineProperty,b=Object.defineProperties,I=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,c=(n,s,h)=>s in n?V(n,s,{enumerable:!0,configurable:!0,writable:!0,value:h}):n[s]=h,y=(n,s)=>{for(var h in s||(s={}))p.call(s,h)&&c(n,h,s[h]);if(u)for(var h of u(s))i.call(s,h)&&c(n,h,s[h]);return n},F=(n,s)=>b(n,I(s)),$=(n,s)=>{var h={};for(var _ in n)p.call(n,_)&&s.indexOf(_)<0&&(h[_]=n[_]);if(n!=null&&u)for(var _ of u(n))s.indexOf(_)<0&&i.call(n,_)&&(h[_]=n[_]);return h};const D=(0,f.forwardRef)((n,s)=>{var h=n,{tooltip:_,icon:J,iconSize:le,className:ce,children:X,imgSrc:Z,imgAlt:Q,fullWidth:ue,isOpen:M,narrow:ee,variant:de="default",iconOnly:pe,"aria-label":fe,isHighlighted:W}=h,te=$(h,["tooltip","icon","iconSize","className","children","imgSrc","imgAlt","fullWidth","isOpen","narrow","variant","iconOnly","aria-label","isHighlighted"]);const P=(0,O.wW)(H),ne=(0,l.cx)({[P.button]:!0,[P.buttonFullWidth]:ue,[P.narrow]:ee},P[de],ce),U=(0,l.cx)({[P.content]:!0,[P.contentWithIcon]:!!J,[P.contentWithRightIcon]:M!==void 0}),re=f.createElement("button",y({ref:s,className:ne,"aria-label":ge(fe,_),"aria-expanded":M},te),Oe(J,le),Z&&f.createElement("img",{className:P.img,src:Z,alt:Q??""}),X&&!pe&&f.createElement("div",{className:U},X),M===!1&&f.createElement(E.J,{name:"angle-down"}),M===!0&&f.createElement(E.J,{name:"angle-up"}),W&&f.createElement("div",{className:P.highlight}));return _?f.createElement(L.u,{content:_,placement:"bottom"},re):re});D.displayName="ToolbarButton";function ge(n,s){return n||(s?T.wl.components.PageToolbar.item(s):void 0)}function Oe(n,s){return n?(0,m.Mo)(n)?f.createElement(E.J,{name:n,size:`${s||"lg"}`}):n:null}const H=n=>{const s=(0,k.c9)(n,"primary","solid"),h=(0,k.c9)(n,"destructive","solid"),_=(0,l.iv)({color:n.colors.text.primary,background:n.colors.secondary.main,"&:hover":{color:n.colors.text.primary,background:n.colors.secondary.shade,border:`1px solid ${n.colors.border.medium}`}});return{button:(0,l.iv)({label:"toolbar-button",position:"relative",display:"flex",alignItems:"center",height:n.spacing(n.components.height.md),padding:n.spacing(0,1),borderRadius:n.shape.radius.default,lineHeight:`${n.components.height.md*n.spacing.gridSize-2}px`,fontWeight:n.typography.fontWeightMedium,border:`1px solid ${n.colors.secondary.border}`,whiteSpace:"nowrap",transition:n.transitions.create(["background","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:focus, &:focus-visible":F(y({},(0,S.SV)(n)),{zIndex:1}),"&:focus:not(:focus-visible)":(0,S.Cq)(n),"&:hover":{boxShadow:n.shadows.z1},"&[disabled], &:disabled":{cursor:"not-allowed",opacity:n.colors.action.disabledOpacity,background:n.colors.action.disabledBackground,boxShadow:"none","&:hover":{color:n.colors.text.disabled,background:n.colors.action.disabledBackground,boxShadow:"none"}}}),default:(0,l.iv)({color:n.colors.text.secondary,background:"transparent",border:"1px solid transparent","&:hover":{color:n.colors.text.primary,background:n.colors.background.secondary}}),canvas:_,active:(0,l.cx)(_,(0,l.iv)({"&::before":{display:"block",content:'" "',position:"absolute",left:0,right:0,height:"2px",bottom:0,borderRadius:n.shape.radius.default,backgroundImage:n.colors.gradients.brandHorizontal}})),primary:(0,l.iv)(s),destructive:(0,l.iv)(h),narrow:(0,l.iv)({padding:n.spacing(0,.5)}),img:(0,l.iv)({width:"16px",height:"16px",marginRight:n.spacing(1)}),buttonFullWidth:(0,l.iv)({flexGrow:1}),content:(0,l.iv)({flexGrow:1}),contentWithIcon:(0,l.iv)({display:"none",paddingLeft:n.spacing(1),[`@media ${S._Q(n.v1.breakpoints.md)}`]:{display:"block"}}),contentWithRightIcon:(0,l.iv)({paddingRight:n.spacing(.5)}),highlight:(0,l.iv)({backgroundColor:n.colors.success.main,borderRadius:n.shape.radius.circle,width:"6px",height:"6px",position:"absolute",top:"-3px",right:"-3px",zIndex:1})}};try{D.displayName="ToolbarButton",D.__docgenInfo={description:"",displayName:"ToolbarButton",props:{icon:{defaultValue:null,description:"Icon name",name:"icon",required:!1,type:{name:"ReactNode"}},iconSize:{defaultValue:null,description:"Icon size",name:"iconSize",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'},{value:'"xl"'},{value:'"xxl"'},{value:'"xxxl"'}]}},tooltip:{defaultValue:null,description:"Tooltip",name:"tooltip",required:!1,type:{name:"string"}},imgSrc:{defaultValue:null,description:"For image icons",name:"imgSrc",required:!1,type:{name:"string"}},imgAlt:{defaultValue:null,description:"Alt text for imgSrc",name:"imgAlt",required:!1,type:{name:"string"}},isOpen:{defaultValue:null,description:"if true or false will show angle-down/up",name:"isOpen",required:!1,type:{name:"boolean"}},fullWidth:{defaultValue:null,description:"Controls flex-grow: 1",name:"fullWidth",required:!1,type:{name:"boolean"}},narrow:{defaultValue:null,description:"reduces padding to xs",name:"narrow",required:!1,type:{name:"boolean"}},variant:{defaultValue:{value:"default"},description:"variant",name:"variant",required:!1,type:{name:"enum",value:[{value:'"canvas"'},{value:'"primary"'},{value:'"destructive"'},{value:'"default"'},{value:'"active"'}]}},iconOnly:{defaultValue:null,description:"Hide any children and only show icon",name:"iconOnly",required:!1,type:{name:"boolean"}},isHighlighted:{defaultValue:null,description:"Show highlight dot",name:"isHighlighted",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ToolbarButton/ToolbarButton.tsx#ToolbarButton"]={docgenInfo:D.__docgenInfo,name:"ToolbarButton",path:"src/components/ToolbarButton/ToolbarButton.tsx#ToolbarButton"})}catch{}},"./src/utils/i18n.tsx":function(G,C,a){a.d(C,{c:function(){return I},t:function(){return p}});var l=a("../../../yarn/cache/i18next-npm-22.0.4-de33bcaaf1-a266b6b0af.zip/node_modules/i18next/dist/esm/i18next.js"),f=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js"),m=a("../../.yarn/__virtual__/react-i18next-virtual-c91fd2d29a/2/yarn/cache/react-i18next-npm-12.0.0-bf53cb5be8-91da29572d.zip/node_modules/react-i18next/dist/es/context.js"),T=a("../../.yarn/__virtual__/react-i18next-virtual-c91fd2d29a/2/yarn/cache/react-i18next-npm-12.0.0-bf53cb5be8-91da29572d.zip/node_modules/react-i18next/dist/es/Trans.js"),O=Object.defineProperty,S=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,L=(i,c,y)=>c in i?O(i,c,{enumerable:!0,configurable:!0,writable:!0,value:y}):i[c]=y,V=(i,c)=>{for(var y in c||(c={}))k.call(c,y)&&L(i,y,c[y]);if(S)for(var y of S(c))E.call(c,y)&&L(i,y,c[y]);return i};function b(){typeof l.ZP.options.resources!="object"&&l.ZP.use(m.Db).init({resources:{},returnEmptyString:!1,lng:"en-US"})}const I=i=>(b(),f.createElement(T.c,V({},i))),u=l.ZP.t,p=(i,c,y)=>(b(),u(i,c,y));try{I.displayName="Trans",I.__docgenInfo={description:"",displayName:"Trans",props:{components:{defaultValue:null,description:"",name:"components",required:!1,type:{name:"readonly ReactElement<any, string | JSXElementConstructor<any>>[] | { readonly [tagName: string]: ReactElement<any, string | JSXElementConstructor<any>>; }"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},context:{defaultValue:null,description:"",name:"context",required:!1,type:{name:"string"}},defaults:{defaultValue:null,description:"",name:"defaults",required:!1,type:{name:"string"}},i18n:{defaultValue:null,description:"",name:"i18n",required:!1,type:{name:"i18n"}},i18nKey:{defaultValue:null,description:"",name:"i18nKey",required:!1,type:{name:"unknown"}},ns:{defaultValue:null,description:"",name:"ns",required:!1,type:{name:"Namespace"}},parent:{defaultValue:null,description:"",name:"parent",required:!1,type:{name:"string | ComponentType<any> | null"}},tOptions:{defaultValue:null,description:"",name:"tOptions",required:!1,type:{name:"{}"}},values:{defaultValue:null,description:"",name:"values",required:!1,type:{name:"{}"}},shouldUnescape:{defaultValue:null,description:"",name:"shouldUnescape",required:!1,type:{name:"boolean"}},t:{defaultValue:null,description:"",name:"t",required:!1,type:{name:"TFunction<N, TKPrefix>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/utils/i18n.tsx#Trans"]={docgenInfo:I.__docgenInfo,name:"Trans",path:"src/utils/i18n.tsx#Trans"})}catch{}},"./src/components/RefreshPicker/RefreshPicker.story.tsx":function(G,C,a){a.r(C),a.d(C,{Examples:function(){return q},default:function(){return Ke}});var l=a("../../.yarn/__virtual__/@storybook-addon-actions-virtual-f27b09044a/2/yarn/cache/@storybook-addon-actions-npm-7.4.5-73cd7d7430-95700d2b11.zip/node_modules/@storybook/addon-actions/dist/index.mjs"),f=a("@storybook/client-api"),m=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/index.js"),T=a("../../../yarn/cache/date-fns-npm-2.30.0-895c790e0f-70b3e8ea7a.zip/node_modules/date-fns/esm/formatDuration/index.js"),O=Object.defineProperty,S=Object.defineProperties,k=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,b=(e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t)=>{for(var r in t||(t={}))L.call(t,r)&&b(e,r,t[r]);if(E)for(var r of E(t))V.call(t,r)&&b(e,r,t[r]);return e},u=(e,t)=>S(e,k(t));const p={years:["y","Y","years"],months:["M","months"],weeks:["w","W","weeks"],days:["d","D","days"],hours:["h","H","hours"],minutes:["m","minutes"],seconds:["s","S","seconds"]};function i(e,t=!0){if(isAfter(e.start,e.end))return"";const r=intervalToDuration(e);return Object.entries(r).reduce((o,[d,x])=>x&&x!==0&&!(d==="seconds"&&!t&&o)?o+`${o!==""?" ":""}${x}${p[d][0]}`:o,"")}function c(e){return e.split(" ").reduce((t,r)=>{const o=r.match(/(\d+)(.+)/),d=o?.[1],x=o?.[2];if(!(d&&x))return t;const B=Object.entries(p).find(([se,j])=>j?.includes(o[2])),K=parseInt(d,10);return B?u(I({},t),{[B[0]]:K}):t},{})}function y(e,t){return add(e,t)}function F(e){const t=new Date;return y(t,e).getTime()-t.getTime()}function $(e){return!isNaN(Date.parse(e))}function D(e){var t;for(const r of e.trim().split(" ")){const o=r.match(/(\d+)(.+)/);if(o===null||o.length!==3||!((t=Object.entries(p).find(([x,B])=>B?.includes(o[2])))==null?void 0:t[0]))return!1}return!0}function ge(e){return H(e,["h","m","s","ms","us","\xB5s","ns"])}function Oe(e){return H(e,["y","M","w","d","h","m","s","ms","us","\xB5s","ns"])}function H(e,t){for(const r of e.trim().split(" ")){const o=r.match(/([0-9]*[.]?[0-9]+)(.+)/);if(o===null||o.length!==3||!t.includes(o[2]))return!1}return!0}var n=a("../grafana-e2e-selectors/src/selectors/index.ts"),s=a("./src/utils/i18n.tsx"),h=a("./src/components/Button/ButtonGroup.tsx"),_=a("../../../yarn/cache/@emotion-css-npm-11.11.2-dbfa42cf83-718f758575.zip/node_modules/@emotion/css/dist/emotion-css.esm.js"),J=a("../../.yarn/__virtual__/@react-aria-button-virtual-d4c4193fa0/2/yarn/cache/@react-aria-button-npm-3.8.0-4662c0a744-34c2a7ced5.zip/node_modules/@react-aria/button/dist/import.mjs"),le=a("../../.yarn/__virtual__/@react-aria-focus-virtual-0ebdd565a7/2/yarn/cache/@react-aria-focus-npm-3.13.0-7b45c76573-fc9c4fc05c.zip/node_modules/@react-aria/focus/dist/import.mjs"),ce=a("../../.yarn/__virtual__/@react-aria-menu-virtual-f9894225d1/2/yarn/cache/@react-aria-menu-npm-3.10.0-70054a1728-a075c16fd7.zip/node_modules/@react-aria/menu/dist/import.mjs"),X=a("../../.yarn/__virtual__/@react-stately-menu-virtual-64675b3d0a/2/yarn/cache/@react-stately-menu-npm-3.5.3-a1aefe0141-f378c06959.zip/node_modules/@react-stately/menu/dist/import.mjs"),Z=a("./src/themes/ThemeContext.tsx"),Q=a("./src/components/ClickOutsideWrapper/ClickOutsideWrapper.tsx"),ue=a("./src/components/Menu/Menu.tsx"),M=a("./src/components/Menu/MenuItem.tsx"),ee=a("./src/components/ToolbarButton/ToolbarButton.tsx"),de=Object.defineProperty,pe=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,ne=(e,t,r)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,U=(e,t)=>{for(var r in t||(t={}))te.call(t,r)&&ne(e,r,t[r]);if(W)for(var r of W(t))P.call(t,r)&&ne(e,r,t[r]);return e},re=(e,t)=>pe(e,fe(t)),Be=(e,t)=>{var r={};for(var o in e)te.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&W)for(var o of W(e))t.indexOf(o)<0&&P.call(e,o)&&(r[o]=e[o]);return r};const be=e=>{const t=e,{className:r,options:o,value:d,onChange:x,narrow:B,variant:K}=t,se=Be(t,["className","options","value","onChange","narrow","variant"]),j=(0,Z.wW)(ke),w=(0,X.W)({}),z=m.useRef(null),{menuTriggerProps:ye,menuProps:Y}=(0,ce.u4)({},w,z),{buttonProps:A}=(0,J.U)(ye,z),_e=R=>{x(R),w.close()};return m.createElement("div",{className:j.wrapper},m.createElement(ee.h,U(U({className:r,isOpen:w.isOpen,narrow:B,variant:K,ref:z},A),se),d?.label||(d?.value!=null?String(d?.value):null)),w.isOpen&&m.createElement("div",{className:j.menuWrapper},m.createElement(Q.L,{onClick:w.close,parent:document,includeButtonPress:!1},m.createElement(le.MT,{contain:!0,autoFocus:!0,restoreFocus:!0},m.createElement(ue.v,re(U({tabIndex:-1,onClose:w.close},Y),{autoFocus:!!Y.autoFocus}),o.map(R=>{var ie;return m.createElement(M.s,{key:`${R.value}`,label:(ie=R.label)!=null?ie:String(R.value),onClick:()=>_e(R),active:R.value===d?.value,ariaChecked:R.value===d?.value,ariaLabel:R.ariaLabel||R.label,role:"menuitemradio"})}))))))};be.displayName="ButtonSelect";const ae=m.memo(be),ke=e=>({wrapper:(0,_.iv)({position:"relative",display:"inline-flex"}),menuWrapper:(0,_.iv)({position:"absolute",zIndex:e.zIndex.dropdown,top:e.spacing(4),right:0})});try{ae.displayName="ButtonSelect",ae.__docgenInfo={description:"",displayName:"ButtonSelect",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"SelectableValue<T>[]"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"SelectableValue<T>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(item: SelectableValue<T>) => void"}},tooltipContent:{defaultValue:null,description:"@deprecated use tooltip instead, tooltipContent is not being processed in ToolbarButton",name:"tooltipContent",required:!1,type:{name:"PopoverContent"}},narrow:{defaultValue:null,description:"",name:"narrow",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"canvas"'},{value:'"primary"'},{value:'"destructive"'},{value:'"default"'},{value:'"active"'}]}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/Dropdown/ButtonSelect.tsx#ButtonSelect"]={docgenInfo:ae.__docgenInfo,name:"ButtonSelect",path:"src/components/Dropdown/ButtonSelect.tsx#ButtonSelect"})}catch{}const we=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],me=class extends m.PureComponent{constructor(e){super(e),this.onChangeSelect=t=>{const{onIntervalChanged:r}=this.props;r&&t.value!=null&&r(t.value)}}getVariant(){return this.props.isLive?"primary":this.props.isLoading?"destructive":this.props.primary?"primary":this.props.isOnCanvas?"canvas":"default"}render(){const{onRefresh:e,intervals:t,tooltip:r,value:o,text:d,isLoading:x,noIntervalPicker:B,width:K,showAutoInterval:se}=this.props,j=o||"",w=this.getVariant(),z=oe({intervals:t,showAutoInterval:se}),ye=z.find(({value:Ge})=>Ge===j),Y=N(me.offOption.value);let A=ye||Y;A.label===Y.label&&(A={value:""});const _e=A.ariaLabel,R=(0,s.t)("refresh-picker.aria-label.duration-selected","Choose refresh time interval with current interval {{durationAriaLabel}} selected",{durationAriaLabel:_e}),ie=(0,s.t)("refresh-picker.aria-label.choose-interval","Auto refresh turned off. Choose refresh time interval"),ze=A.value===""?ie:R,Ue=(0,s.t)("refresh-picker.tooltip.interval-selected","Set auto refresh interval"),qe=(0,s.t)("refresh-picker.tooltip.turned-off","Auto refresh off"),Ye=A.value===""?qe:Ue;return m.createElement(h.h,{className:"refresh-picker"},m.createElement(ee.h,{"aria-label":d,tooltip:r,onClick:e,variant:w,icon:x?"spinner":"sync",style:K?{width:K}:void 0,"data-testid":n.wl.components.RefreshPicker.runButtonV2},d),!B&&m.createElement(ae,{value:A,options:z,onChange:this.onChangeSelect,variant:w,"data-testid":n.wl.components.RefreshPicker.intervalButtonV2,"aria-label":ze,tooltip:Ye}))}};let v=me;v.offOption={label:"Off",value:"",ariaLabel:"Turn off auto refresh"},v.liveOption={label:"Live",value:"LIVE",ariaLabel:"Turn on live streaming"},v.autoOption={label:"Auto",value:"auto",ariaLabel:"Select refresh from the query range"},v.isLive=e=>e===me.liveOption.value;function N(e){switch(e){case v.liveOption.value:return{label:(0,s.t)("refresh-picker.live-option.label","Live"),value:e,ariaLabel:(0,s.t)("refresh-picker.live-option.aria-label","Turn on live streaming")};case v.offOption.value:return{label:(0,s.t)("refresh-picker.off-option.label","Off"),value:e,ariaLabel:(0,s.t)("refresh-picker.off-option.aria-label","Turn off auto refresh")};case v.autoOption.value:return{label:(0,s.t)("refresh-picker.auto-option.label",v.autoOption.label),value:e,ariaLabel:(0,s.t)("refresh-picker.auto-option.aria-label",v.autoOption.ariaLabel)}}return{label:e,value:e}}function oe({intervals:e=we,showAutoInterval:t=!1}={}){const r=e.map(o=>{const d=c(o),x=(0,T.Z)(d);return{label:o,value:o,ariaLabel:x}});return t&&r.unshift(N(v.autoOption.value)),r.unshift(N(v.offOption.value)),r}try{N.displayName="translateOption",N.__docgenInfo={description:"",displayName:"translateOption",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/RefreshPicker/RefreshPicker.tsx#translateOption"]={docgenInfo:N.__docgenInfo,name:"translateOption",path:"src/components/RefreshPicker/RefreshPicker.tsx#translateOption"})}catch{}try{oe.displayName="intervalsToOptions",oe.__docgenInfo={description:"",displayName:"intervalsToOptions",props:{intervals:{defaultValue:{value:"['5s', '10s', '30s', '1m', '5m', '15m', '30m', '1h', '2h', '1d']"},description:"",name:"intervals",required:!1,type:{name:"string[]"}},showAutoInterval:{defaultValue:{value:"false"},description:"",name:"showAutoInterval",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/RefreshPicker/RefreshPicker.tsx#intervalsToOptions"]={docgenInfo:oe.__docgenInfo,name:"intervalsToOptions",path:"src/components/RefreshPicker/RefreshPicker.tsx#intervalsToOptions"})}catch{}try{v.displayName="RefreshPicker",v.__docgenInfo={description:"",displayName:"RefreshPicker",props:{intervals:{defaultValue:null,description:"",name:"intervals",required:!1,type:{name:"string[]"}},onRefresh:{defaultValue:null,description:"",name:"onRefresh",required:!1,type:{name:"(() => void)"}},onIntervalChanged:{defaultValue:null,description:"",name:"onIntervalChanged",required:!0,type:{name:"(interval: string) => void"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"string"}},tooltip:{defaultValue:null,description:"",name:"tooltip",required:!1,type:{name:"string"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!1,type:{name:"boolean"}},isLive:{defaultValue:null,description:"",name:"isLive",required:!1,type:{name:"boolean"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string"}},noIntervalPicker:{defaultValue:null,description:"",name:"noIntervalPicker",required:!1,type:{name:"boolean"}},showAutoInterval:{defaultValue:null,description:"",name:"showAutoInterval",required:!1,type:{name:"boolean"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},primary:{defaultValue:null,description:"",name:"primary",required:!1,type:{name:"boolean"}},isOnCanvas:{defaultValue:null,description:"",name:"isOnCanvas",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/RefreshPicker/RefreshPicker.tsx#RefreshPicker"]={docgenInfo:v.__docgenInfo,name:"RefreshPicker",path:"src/components/RefreshPicker/RefreshPicker.tsx#RefreshPicker"})}catch{}try{isLive.displayName="RefreshPicker.isLive",isLive.__docgenInfo={description:"",displayName:"RefreshPicker.isLive",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/RefreshPicker/RefreshPicker.tsx#RefreshPicker.isLive"]={docgenInfo:v.isLive.__docgenInfo,name:"RefreshPicker.isLive",path:"src/components/RefreshPicker/RefreshPicker.tsx#RefreshPicker.isLive"})}catch{}var g=a("../../../yarn/cache/react-npm-18.2.0-1eae08fee2-b9214a9bd7.zip/node_modules/react/jsx-runtime.js"),Pe=a("../../.yarn/__virtual__/@mdx-js-react-virtual-4792127d00/2/yarn/cache/@mdx-js-react-npm-2.3.0-d5582a450b-bce1cb1dde.zip/node_modules/@mdx-js/react/lib/index.js"),ve=a("../../.yarn/__virtual__/@storybook-blocks-virtual-5605a2f23e/2/yarn/cache/@storybook-blocks-patch-37aea2d782-a00c56fb6e.zip/node_modules/@storybook/blocks/dist/index.mjs");function xe(e){const t=Object.assign({h1:"h1",p:"p",strong:"strong"},(0,Pe.ah)(),e.components);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ve.h_,{title:"MDX|RefreshPicker",component:v}),`
`,(0,g.jsx)(t.h1,{id:"refresh-picker",children:"Refresh Picker"}),`
`,(0,g.jsx)(t.p,{children:"This component is used on dashboards to refresh visualizations. Grafana does not do this automatically, queries run on their own schedule according to the panel settings. Grafana cancels any pending requests when a new refresh is triggered."}),`
`,(0,g.jsxs)(t.p,{children:[(0,g.jsx)(t.strong,{children:"The refresh icon:"})," will immediately run the query and refresh the visualizations."]}),`
`,(0,g.jsxs)(t.p,{children:[(0,g.jsx)(t.strong,{children:"The down arrow:"})," will display a list of refresh intervals. If one of them is selected the dashboard will regularly refresh according to that schedule."]}),`
`,(0,g.jsxs)(ve.MB,{children:[(0,g.jsx)(v,{tooltip:"Run query"}),(0,g.jsx)(v,{text:"Run query",tooltip:"Run query"}),(0,g.jsx)(v,{text:"Run query",isLoading:!0,tooltip:"Run query",value:"1h"})]}),`
`,(0,g.jsx)(ve.Ed,{of:v})]})}function Le(e={}){const{wrapper:t}=Object.assign({},(0,Pe.ah)(),e.components);return t?(0,g.jsx)(t,Object.assign({},e,{children:(0,g.jsx)(xe,e)})):xe(e)}var Ae=Le,Ve=Object.defineProperty,je=Object.defineProperties,De=Object.getOwnPropertyDescriptors,Re=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,Se=(e,t,r)=>t in e?Ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,he=(e,t)=>{for(var r in t||(t={}))Me.call(t,r)&&Se(e,r,t[r]);if(Re)for(var r of Re(t))We.call(t,r)&&Se(e,r,t[r]);return e},Ee=(e,t)=>je(e,De(t)),Ce,Te,Ie;const Ne={title:"Pickers and Editors/RefreshPicker",component:v,parameters:{docs:{page:Ae},controls:{sort:"alpha"}},args:{isLoading:!1,isLive:!1,width:"auto",text:"Run query",tooltip:"My tooltip text goes here",value:"1h",primary:!1,noIntervalPicker:!1,intervals:["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]}},q=e=>{const[,t]=(0,f.useArgs)(),r=d=>{(0,l.aD)("onIntervalChanged fired")(d),t({value:d})},o=()=>{(0,l.aD)("onRefresh fired")()};return m.createElement(v,{tooltip:e.tooltip,value:e.value,text:e.text,isLoading:e.isLoading,intervals:e.intervals,width:e.width,onIntervalChanged:r,onRefresh:o,noIntervalPicker:e.noIntervalPicker,primary:e.primary})};var Ke=Ne;q.parameters=Ee(he({},q.parameters),{docs:Ee(he({},(Ce=q.parameters)==null?void 0:Ce.docs),{source:he({originalSource:`args => {
  const [, updateArgs] = useArgs();
  const onIntervalChanged = (interval: string) => {
    action('onIntervalChanged fired')(interval);
    updateArgs({
      value: interval
    });
  };
  const onRefresh = () => {
    action('onRefresh fired')();
  };
  return <RefreshPicker tooltip={args.tooltip} value={args.value} text={args.text} isLoading={args.isLoading} intervals={args.intervals} width={args.width} onIntervalChanged={onIntervalChanged} onRefresh={onRefresh} noIntervalPicker={args.noIntervalPicker} primary={args.primary} />;
}`},(Ie=(Te=q.parameters)==null?void 0:Te.docs)==null?void 0:Ie.source)})})}}]);
